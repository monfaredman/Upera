(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{773:function(t,a,s){t.exports={}},819:function(t,a,s){"use strict";s(773)},843:function(t,a,s){"use strict";s.r(a);var i=s(46),e=(s(142),s(174),s(13),s(62),s(60),s(19),s(65),s(122),{name:"CallbackFooter",props:{files:{type:Array,default:null},success:{type:Boolean,default:!1},checkagain:{type:Boolean,default:!1},showLogin:{type:Boolean,default:!1},backtoapp:{type:Boolean,default:!1},title:{type:Object,default:null},divcount:{type:Number,default:0},purchaseType:{type:String,default:"download"},isLoggedIn:{type:Boolean,default:!1}},computed:{queryString:function(){var t=new URLSearchParams;return Object.entries(this.$route.query).forEach(function(a){var s=Object(i.a)(a,2),e=s[0],n=s[1];n&&t.append(e,n)}),t.toString()},isReactNative:function(){var t;return"1"===(null===(t=this.$route)||void 0===t||null===(t=t.query)||void 0===t?void 0:t.reactnative)},isSingleFile:function(){return this.files&&1===this.files.length},isMultipleFiles:function(){return this.files&&this.files.length>1},hasEkranScreening:function(){return!(!this.files||0===this.files.length)&&this.files.some(function(t){var a;return(null===(a=t.screening)||void 0===a?void 0:a.ekran)&&t.screening.ekran_id})},hasPresale:function(){return!(!this.files||0===this.files.length)&&this.files.some(function(t){return t.presale})},footerClass:function(){return{"footer-0":0===this.divcount,"footer-1":1===this.divcount}},shouldShowReactNativeInSameRow:function(){return"subscription"===this.purchaseType||"wallet"===this.purchaseType||"directdebit"===this.purchaseType},mainButton:function(){if(!this.success)return null;if("download"===this.purchaseType){if(this.isSingleFile)return this.hasPresale||this.hasEkranScreening?this.isLoggedIn?{text:"مشاهده محتوا",iconClass:"fa-play",action:"watch"}:{text:"ورود به سایت برای مشاهده محتوا",iconClass:"fa-sign-in-alt",action:"login"}:this.isLoggedIn?{text:"تماشا",iconClass:"fa-play",action:"watch"}:{text:"تماشا",iconClass:"fa-play",action:"showContent"};if(this.isMultipleFiles)return{text:"مشاهده محتواها",iconClass:"fa-play",action:"goProfile"}}return"subscription"===this.purchaseType?{text:"آپرا پلاس",iconClass:"fa-star",action:"operaPlus"}:"wallet"===this.purchaseType?{text:"بازگشت به آپرا",iconClass:"fa-home",action:"backToOpera"}:"directdebit"===this.purchaseType?{text:"تنظیمات پرداخت خودکار",iconClass:"fa-cog",action:"directDebitSettings"}:null},secondaryButton:function(){return this.success?"download"===this.purchaseType?{text:"بازگشت به صفحه اصلی",iconClass:"fa-home",action:"backToOpera"}:"subscription"===this.purchaseType?null:"wallet"===this.purchaseType?(this.isReactNative,null):"directdebit"===this.purchaseType?this.isReactNative?null:{text:"بازگشت به آپرا",iconClass:"fa-home",action:"backToOpera"}:null:null},buttonColClass:function(){return this.isReactNative&&this.shouldShowReactNativeInSameRow||this.mainButton&&this.secondaryButton?"col-6":"col-12"}},methods:{handleMainAction:function(){var t,a,s;switch(null===(t=this.mainButton)||void 0===t?void 0:t.action){case"watch":this.files&&this.files.length>0&&this.$emit("watch",this.files[0].id);break;case"goHome":case"backToOpera":this.$router.push("/");break;case"backToApp":window.location.href="upera://callback/success";break;case"operaPlus":this.$router.push("/plan");break;case"directDebitSettings":this.$emit("show-direct-debit");break;case"showContent":this.$emit("return-to-content",{id:null===(a=this.files[0])||void 0===a?void 0:a.m_id,type:null===(s=this.files[0])||void 0===s?void 0:s.type});break;case"goProfile":this.$router.push("/profile/list/downloads")}},handleSecondaryAction:function(){var t;switch(null===(t=this.secondaryButton)||void 0===t?void 0:t.action){case"checkPayment":this.$emit("check-payment");break;case"operaPlus":this.$router.push("/plan");break;case"backToApp":window.location.href="upera://callback/success";break;case"backToOpera":this.$router.push("/")}},handleReactNativeAction:function(){window.location.href="upera://callback/success"}}}),n=(s(819),s(32)),c=Object(n.a)(e,function(){var t=this,a=t._self._c;return a("div",{staticClass:"download-links-footer",class:t.footerClass},[t.success?a("div",{staticClass:"download-links-item"},[a("div",{staticClass:"row"},[t.mainButton?a("div",{class:t.buttonColClass},[a("button",{staticClass:"btn btn-main btn-block",on:{click:t.handleMainAction}},[a("i",{staticClass:"fa pl-2",class:t.mainButton.iconClass}),t._v("\n          "+t._s(t.mainButton.text)+"\n        ")])]):t._e(),t._v(" "),t.secondaryButton?a("div",{class:t.buttonColClass},[a("button",{staticClass:"btn btn-light btn-block",on:{click:t.handleSecondaryAction}},[a("i",{staticClass:"fa pl-2",class:t.secondaryButton.iconClass}),t._v("\n          "+t._s(t.secondaryButton.text)+"\n        ")])]):t._e(),t._v(" "),t.isReactNative&&t.shouldShowReactNativeInSameRow?a("div",{staticClass:"col-6"},[a("a",{staticClass:"btn btn-light btn-block",attrs:{href:"uperaapp://callback?".concat(t.queryString)}},[a("i",{staticClass:"fa pl-2 fa-mobile-alt"}),t._v("\n          بازگشت به اپلیکیشن\n        ")])]):t._e()]),t._v(" "),t.isReactNative&&!t.shouldShowReactNativeInSameRow?a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-12"},[a("a",{staticClass:"btn btn-light btn-block",attrs:{href:"uperaapp://callback?".concat(t.queryString)}},[a("i",{staticClass:"fa pl-2 fa-mobile-alt"}),t._v("\n          بازگشت به اپلیکیشن\n        ")])])]):t._e()]):t.success?t._e():a("div",{staticClass:"download-links-item"},[t.checkagain?a("div",{staticClass:"row"},[a("div",{class:"col-6"},[a("a",{staticClass:"btn btn-main btn-block",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.$emit("retry-payment")}}},[a("i",{staticClass:"fa fa-money-bill pl-2"}),t._v("\n          پرداخت مجدد\n        ")])]),t._v(" "),a("div",{class:"col-6"},[a("a",{staticClass:"btn btn-light btn-block",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.$emit("check-payment")}}},[a("i",{staticClass:"fa fa-check-double pl-2"}),t._v("\n          بررسی پرداخت\n        ")])]),t._v(" "),t.isReactNative?a("div",{staticClass:"col-12 mt-2"},[a("a",{staticClass:"btn btn-light btn-block",attrs:{href:"uperaapp://callback?".concat(t.queryString)}},[a("i",{staticClass:"fa pl-2 fa-mobile-alt"}),t._v("\n          بازگشت به اپلیکیشن\n        ")])]):t._e()]):t.showLogin?a("div",{staticClass:"row"},[a("div",{class:t.isReactNative?"col-6":"col-12"},[a("button",{staticClass:"btn btn-main btn-block",on:{click:function(a){return t.$emit("login")}}},[a("i",{staticClass:"fa fa-sign-in-alt pl-2"}),t._v("\n          ورود به سایت\n        ")])]),t._v(" "),t.isReactNative?a("div",{staticClass:"col-6"},[a("a",{staticClass:"btn btn-light btn-block",attrs:{href:"uperaapp://callback?".concat(t.queryString)}},[a("i",{staticClass:"fa pl-2 fa-mobile-alt"}),t._v("\n          بازگشت به اپلیکیشن\n        ")])]):t._e()]):a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("a",{staticClass:"btn btn-main btn-block",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.$emit("check-payment")}}},[a("i",{staticClass:"fa fa-check-double pl-2"}),t._v("\n          بررسی پرداخت\n        ")])]),t._v(" "),a("div",{staticClass:"col-6"},[a("a",{staticClass:"btn btn-light btn-block",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.$emit("retry-payment")}}},[a("i",{staticClass:"fa fa-money-bill pl-2"}),t._v("\n          پرداخت مجدد\n        ")])])]),t._v(" "),!t.isReactNative||t.checkagain||t.showLogin?t._e():a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-light btn-block",on:{click:t.handleReactNativeAction}},[a("i",{staticClass:"fa pl-2 fa-mobile-alt"}),t._v("\n          بازگشت به اپلیکیشن\n        ")])])])]),t._v(" "),t.backtoapp?a("div",{staticClass:"download-links-item"},[t._m(0)]):t._e(),t._v(" "),t.title?a("div",{staticClass:"download-links-item"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},["movie"===t.title.type?a("a",{staticClass:"btn btn-second btn-block",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.$emit("return-to-content",t.title)}}},[a("i",{staticClass:"fa fa-arrow-alt-circle-left"}),t._v("\n          بازگشت به صفحه فیلم\n        ")]):"series"===t.title.type?a("a",{staticClass:"btn btn-second btn-block",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.$emit("return-to-content",t.title)}}},[a("i",{staticClass:"fa fa-arrow-alt-circle-left"}),t._v("\n          بازگشت به صفحه سریال\n        ")]):a("a",{staticClass:"btn btn-second btn-block",attrs:{href:""},on:{click:function(a){return a.preventDefault(),t.$emit("return-to-content",t.title)}}},[a("i",{staticClass:"fa fa-arrow-alt-circle-left"}),t._v("\n          بازگشت به صفحه این قسمت سریال\n        ")])])])]):t._e()])},[function(){var t=this._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("a",{staticClass:"btn btn-main btn-block",attrs:{href:"uperaapp://upera?type=download&success=false"}},[t("i",{staticClass:"fa fa-back pl-2"}),this._v("\n          نمایش فیلم\n        ")])])])}],!1,null,"1d630e44",null);a.default=c.exports}}]);