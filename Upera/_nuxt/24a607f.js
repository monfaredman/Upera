(window.webpackJsonp=window.webpackJsonp||[]).push([[10,75,78,79,80,81],{1041:function(t,e,a){"use strict";a(904)},1046:function(t,e,a){"use strict";a.r(e);a(43),a(142),a(109);var s=a(930),i=a(931),n={name:"ShowcaseContent",components:{ShowcaseDescription:s.default,ShowcaseActions:i.default},props:{data:{type:Object,default:function(){return{}}},type:{type:String,default:""},episode:{type:Object,default:function(){return{}}},hasDownloadButton:{type:Boolean,default:!1},hasMainButton:{type:Boolean,default:!1},mainButtonLabel:{type:String,default:""},mainButtonAction:{type:String,default:""},downloadButtonLabel:{type:String,default:""},clapinterval:{type:[Boolean,Number],default:0},userClaps:{type:[Number,String],default:0},isWatchlist:{type:[Number,Boolean],default:0},totalClaps:{type:[Number,String],default:0},actions:{type:Object,default:function(){return{}}},isLoadingStats:{type:Boolean,default:!1}},emits:["play","buy","subscription","download","toggle-watchlist","clap-start","clap-stop","share"],computed:{logoSrc:function(){var t="https://thumb.upera.shop/thumb?w=400&q=90&fmt=webp&src=https://thumb.upera.shop/s3/files/",e=this.data&&this.data.item&&this.data.item.logo?String(this.data.item.logo):"";return e?e.startsWith(t)?e:t+e:e},imdbRate:function(){var t=this.episode&&void 0!==this.episode.rate?this.episode.rate:this.data&&this.data.item&&this.data.item.rate||"-";return null===t||""===t?"-":String(t)},watchTime:function(){var t=this.data&&this.data.item&&this.data.item.exact_runtime?this.data.item.exact_runtime:this.data&&this.data.item&&this.data.item.runtime?this.data.item.runtime:"",e=this.episode&&void 0!==this.episode.exact_runtime?this.episode.exact_runtime:this.data&&this.data.item&&this.data.item.exact_runtime||"";return t&&"movie"==this.type?"".concat(t," دقیقه"):e&&"movie"!==this.type?"".concat(e," دقیقه"):"-"},likes:function(){var t=this.totalClaps||this.userClaps;if(t)return String(t);var e=this.episode&&void 0!==this.episode.traffic?this.episode.traffic:this.data&&this.data.item&&this.data.item.traffic||0;return String(e||0)},createdDate:function(){var t=this.episode&&this.episode.year||this.data&&this.data.item&&this.data.item.year||"";return t?String(t):"-"}},methods:{itemsize:function(t){var e=window.innerWidth,a=25;e<=357?a=10:e<=375&&(a=12);var s=document.getElementById("showcase-thumbnail-wrapper-outter"),i=document.getElementById("showcase-button-wrapper"),n=document.querySelector(".showcase-bottom");if(!n||!s||!i)return t;if(n.style.removeProperty("height"),n.style.removeProperty("padding-top"),e<=767.98){var o=s.offsetHeight-i.offsetHeight-a;if(n.style.height="".concat(o,"px"),!this.hasDownloadButton){var r=this.data.item.ir?.5:1/3;n.style.paddingTop="".concat(o*r,"px")}}return t}}},o=(a(1041),a(32)),r=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"showcase-thumbnail-wrapper-outter d-flex align-items-center justify-content-between",attrs:{id:"showcase-thumbnail-wrapper-outter"}},[e("div",{staticClass:"showcase-thumbnail-wrapper w-full container-fluid"},[e("div",{staticClass:"d-flex h-full align-items-end d-flex align-items-center justify-content-start"},[e("div",{staticClass:"showcase-desc-wrapper h-full",class:["series"===t.type&&t.data.item.logo?"mb-4":"mb-2 mb-md-0"]},[t.data&&t.data.item&&t.data.item.logo?e("div",{staticClass:"showcase-logo mb-2 mb-md-4"},[e("b-img",t._b({directives:[{name:"lazy-load",rawName:"v-lazy-load"}],attrs:{"data-src":t.logoSrc,alt:t.data.item.name}},"b-img",{fluidGrow:!0,blank:!0,blankColor:"#bbb",show:!0},!1))],1):t._e(),t._v(" "),e("ShowcaseDescription",{attrs:{data:t.data,type:t.type,episode:t.episode}}),t._v(" "),e("div",{staticClass:"showcase-stats-wrapper d-flex align-items-center my-2"},[t.isLoadingStats?e("div",{staticClass:"skeleton-stats-loading"}):e("div",{staticClass:"showcase-stats",attrs:{role:"group","aria-label":"episode-stats"}},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-icon",attrs:{"aria-hidden":"true"}},[e("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],staticClass:"img-imdb",attrs:{"data-src":a(628)}})]),t._v(" "),e("div",{staticClass:"stat-body"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.imdbRate))])])]),t._v(" "),e("div",{staticClass:"stat-item"},[t._m(0),t._v(" "),e("div",{staticClass:"stat-body"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.watchTime))])])]),t._v(" "),e("div",{staticClass:"stat-item"},[t._m(1),t._v(" "),e("div",{staticClass:"stat-body"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.likes))])])]),t._v(" "),e("div",{staticClass:"stat-item"},[t._m(2),t._v(" "),e("div",{staticClass:"stat-body"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.createdDate))])])])])]),t._v(" "),e("ShowcaseActions",{attrs:{id:t.data.item.id,"has-main-button":t.hasMainButton,"has-download-button":t.hasDownloadButton,"main-button-label":t.mainButtonLabel,"main-button-action":t.mainButtonAction,"download-button-label":t.downloadButtonLabel,clapinterval:t.clapinterval,"user-claps":t.userClaps,"is-watchlist":t.isWatchlist,episode:t.episode,actions:t.actions,type:t.type},on:{play:function(e){return t.$emit("play")},buy:function(e){return t.$emit("buy")},subscription:function(e){return t.$emit("subscription")},download:function(e){return t.$emit("download")},"toggle-watchlist":function(e){return t.$emit("toggle-watchlist",e)},"clap-start":function(e){return t.$emit("clap-start")},"clap-stop":function(e){return t.$emit("clap-stop")},share:function(e){return t.$emit("share")}}})],1)])])])},[function(){var t=this._self._c;return t("div",{staticClass:"stat-icon",attrs:{"aria-hidden":"true"}},[t("i",{staticClass:"fas fa-clock",attrs:{"aria-hidden":"true"}})])},function(){var t=this._self._c;return t("div",{staticClass:"stat-icon",attrs:{"aria-hidden":"true"}},[t("i",{staticClass:"icon-clap",attrs:{"aria-hidden":"true"}})])},function(){var t=this._self._c;return t("div",{staticClass:"stat-icon",attrs:{"aria-hidden":"true"}},[t("i",{staticClass:"fas fa-calendar-alt",attrs:{"aria-hidden":"true"}})])}],!1,null,"1eacf3ee",null);e.default=r.exports},739:function(t,e,a){t.exports={}},747:function(t,e,a){"use strict";a(739)},752:function(t,e,a){t.exports={}},753:function(t,e,a){t.exports={}},754:function(t,e,a){"use strict";a.r(e);a(142);var s={name:"IconActions",props:{variant:{type:String,default:"desktop"},isWatchlist:{type:[Number,Boolean],default:0},userClaps:{type:[Number,String],default:0},clapActive:{type:Boolean,default:!1},customStyle:{type:Object,default:function(){return{}}}},computed:{isMobile:function(){return"mobile"===this.variant},clapClasses:function(){return this.isMobile?[{active:this.clapActive},"col-4 d-flex align-items-center justify-content-center text-darker"]:[" btn-dark btn-icon ml-1 "]},shareClasses:function(){return this.isMobile?"col-4 d-flex align-items-center justify-content-center text-darker":" btn-dark btn-icon ml-1 "},watchlistClasses:function(){return this.isMobile?"col-4 d-flex align-items-center justify-content-center text-darker":" btn-dark btn-icon ml-1 "}}},i=(a(747),a(32)),n=Object(i.a)(s,function(){var t=this,e=t._self._c;return e("div",{staticClass:"icon-actions",class:{"row h-full":t.isMobile}},[e("a",{staticClass:"icon-btn-style",class:t.watchlistClasses,style:t.customStyle,on:{click:function(e){return e.preventDefault(),t.$emit("toggle-watchlist")}}},[e("i",{class:{"icon-bookmark-empty fa-xs":!t.isWatchlist,"icon-bookmark fa-xs":1==t.isWatchlist}})]),t._v(" "),e("a",{staticClass:"icon-btn-style",class:t.shareClasses,style:t.customStyle,on:{click:function(e){return e.preventDefault(),t.$emit("share")}}},[e("i",{staticClass:"icon-share-android fa-xs"})]),t._v(" "),e("a",{staticClass:"icon-btn-style",class:t.clapClasses,style:t.customStyle,on:{mousedown:function(e){return t.$emit("clap-start")},mouseleave:function(e){return t.$emit("clap-stop")},mouseup:function(e){return t.$emit("clap-stop")},touchstart:function(e){return t.$emit("clap-start")},touchend:function(e){return t.$emit("clap-stop")},touchcancel:function(e){return t.$emit("clap-stop")}}},[e("div",{staticClass:"likes"},[t.userClaps?e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.userClaps))]):t._e(),t._v(" "),e("i",{staticClass:"fa fa-thumbs-up fa-xs"})])])])},[],!1,null,"8880052e",null);e.default=n.exports},789:function(t,e,a){"use strict";a(752)},790:function(t,e,a){"use strict";a(753)},791:function(t,e,a){t.exports={}},792:function(t,e,a){t.exports={}},802:function(t,e,a){"use strict";a.r(e);a(73);var s={name:"EpisodeInfo",props:{episode:{type:Object,default:function(){return{}}},variant:{type:String,default:"desktop",validator:function(t){return["desktop","mobile"].includes(t)}}},computed:{episodeInfoClasses:function(){var t="text-invert mb-1 mb-md-3 font-weight-normal title-item-episode";return"mobile"===this.variant?"".concat(t," p-fs-small title title2 d-lg-none"):"".concat(t," p-fs-small d-none d-lg-block ")},isValidEpisode:function(){return this.episode&&void 0!==this.episode.season_number&&void 0!==this.episode.episode_number}}},i=(a(789),a(32)),n=Object(i.a)(s,function(){var t=this,e=t._self._c;return t.isValidEpisode?e("div",{class:t.episodeInfoClasses},[t._v("\n  "+t._s(t.$t("show.season"))+t._s(t.episode.season_number)+" -\n  "+t._s(t.$t("show.episode"))+" "+t._s(t.episode.episode_number)+"\n")]):t._e()},[],!1,null,"408cb84c",null);e.default=n.exports},803:function(t,e,a){"use strict";a.r(e);var s={name:"GenreTags",props:{genres:{type:Object,default:function(){return{}}}}},i=(a(790),a(32)),n=Object(i.a)(s,function(){var t=this,e=t._self._c;return e("div",{staticClass:"genre-tags"},t._l(t.genres,function(a,s){return e("nuxt-link",{key:s,staticClass:"tag",attrs:{to:{name:"lists-list",params:{list:s}}}},[t._v("\n    "+t._s(a)+"\n  ")])}),1)},[],!1,null,"1640509d",null);e.default=n.exports},836:function(t,e,a){"use strict";a(791)},837:function(t,e,a){"use strict";a(792)},904:function(t,e,a){t.exports={}},930:function(t,e,a){"use strict";a.r(e);a(43);var s=a(802),i=a(803),n={name:"ShowcaseDescription",components:{EpisodeInfo:s.default,GenreTags:i.default},props:{data:{type:Object,default:function(){return{}}},type:{type:String,default:""},episode:{type:Object,default:function(){return{}}}},methods:{ChooseLang:function(t,e){return e&&"fa"===this.$i18n.locale?e:t}}},o=(a(836),a(32)),r=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"showcase-desc"},[e("div",{staticClass:"showcase-top"},[t.data&&t.data.item&&!t.data.item.logo?["episode"!==t.type?e("div",{staticClass:"title text-invert mb-5 mb-md-3 title-item"},[e("nuxt-link",{attrs:{to:{name:t.type+"-id",params:{id:t.data.item.id}}}},[t._v("\n          "+t._s(t.ChooseLang(t.data.item.name,t.data.item.name_fa))+"\n        ")])],1):e("div",{staticClass:"title text-invert mb-5 mb-md-3 title-item"},[e("nuxt-link",{attrs:{to:{name:t.type+"-id",params:{id:t.data.item.id}}}},[t._v("\n          "+t._s(t.ChooseLang(t.data.item.series_name,t.data.item.series_name_fa))+"\n        ")])],1)]:t._e(),t._v(" "),"episode"===t.type?e("EpisodeInfo",{attrs:{episode:t.episode,variant:"mobile"}}):t._e()],2),t._v(" "),e("div",{staticClass:"showcase-bottom"},["episode"===t.type?e("EpisodeInfo",{attrs:{episode:t.episode,variant:"desktop"}}):t._e(),t._v(" "),"episode"!==t.type?e("div",{staticClass:"text-invert mb-1 mb-md-3"},[e("GenreTags",{attrs:{genres:t.data.item.new_genres}})],1):t._e()],1)])},[],!1,null,"3bcf3fb4",null);e.default=r.exports},931:function(t,e,a){"use strict";a.r(e);a(15),a(73),a(45),a(142),a(22),a(13),a(101);var s={name:"ShowcaseActions",components:{IconActions:a(754).default},props:{hasMainButton:{type:Boolean,default:!1},hasDownloadButton:{type:Boolean,default:!1},mainButtonLabel:{type:String,default:""},mainButtonAction:{type:String,default:""},downloadButtonLabel:{type:String,default:""},clapinterval:{type:[Boolean,Number],default:0},userClaps:{type:[Number,String],default:0},isWatchlist:{type:[Number,Boolean],default:0},episode:{type:Object,default:function(){return{}}},actions:{type:Object,default:function(){return{}}},id:{type:[Number,String],default:null},type:{type:String,default:""}},emits:["play","buy","subscription","download","toggle-watchlist","clap-start","clap-stop","share"],data:function(){return{cartItemIds:[],cartStorageListener:null}},computed:{isBasketActive:function(){var t;if(!this.$store)return!0;var e=null===(t=this.$store.state)||void 0===t?void 0:t.basketActive;return void 0===e||Boolean(e)},mainButtonDisplayLabel:function(){var t;if(null===(t=this.actions)||void 0===t||null===(t=t.mainButton)||void 0===t||!t.label)return this.mainButtonLabel;var e=this.actions.mainButton.label;return this.ChooseLang(e.en,e.fa)},showEpisodeNumber:function(){var t;return"play"===this.mainButtonAction&&(null===(t=this.episode)||void 0===t?void 0:t.id)},cartTargetId:function(){var t;if(!this.isBasketActive)return null;if("buy"!==this.mainButtonAction)return null;var e=null!==(t=this.episode&&null!=this.episode.id?this.episode.id:null)&&void 0!==t?t:this.id;return null!=e?String(e):null},shouldShowRemoveButton:function(){return!!this.cartTargetId&&this.cartItemIds.includes(this.cartTargetId)},mainButtonIcon:function(){return"play"===this.mainButtonAction?"fa fa-play pr-2":"subscription"===this.mainButtonAction?"fa fa-id-card pr-2":"buy"===this.mainButtonAction?"fa fa-shopping-cart pr-2":"fa fa-play pr-2"},removeButtonLabel:function(){return"function"==typeof this.$te&&this.$te("cart.remove")?this.$t("cart.remove"):"حذف از سبد"}},watch:{isBasketActive:{immediate:!0,handler:function(t){t?(this.syncCartItems(),this.attachCartListener()):(this.cartItemIds=[],this.detachCartListener())}}},mounted:function(){this.isBasketActive&&(this.syncCartItems(),this.attachCartListener())},beforeDestroy:function(){this.detachCartListener()},methods:{handleMainAction:function(){var t=this.mainButtonAction;"play"===t?this.$emit("play"):"buy"===t?this.$emit("buy"):"subscription"===t&&this.$emit("subscription")},handleDownload:function(){this.$emit("download")},syncCartItems:function(){if(this.isBasketActive)try{var t=localStorage.getItem("_cart");if(!t)return void(this.cartItemIds=[]);var e=JSON.parse(t);this.updateCartState(e)}catch(t){}else this.cartItemIds=[]},updateCartState:function(t){t&&Array.isArray(t.content)?this.cartItemIds=t.content.map(function(t){return t&&null!=t.id?String(t.id):null}).filter(function(t){return null!==t}):this.cartItemIds=[]},removeFromCart:function(){var t=this;if(this.cartTargetId)try{var e=localStorage.getItem("_cart"),a=e?JSON.parse(e):{content:[],amount:0};Array.isArray(a.content)||(a.content=[]),a.content=a.content.filter(function(e){return String(null==e?void 0:e.id)!==t.cartTargetId}),a.amount=a.content.reduce(function(t,e){return t+(e.tvod_price||0)},0),localStorage.setItem("_cart",JSON.stringify(a)),this.updateCartState(a),this.emitCartChange()}catch(t){}},emitCartChange:function(){this.$root.$emit("cart-updated")},attachCartListener:function(){var t=this;this.cartStorageListener||(this.cartStorageListener=function(e){e&&"_cart"===e.key&&void 0!==e.newValue&&t.syncCartItems()},window.addEventListener("storage",this.cartStorageListener),this.$root.$on("cart-updated",this.syncCartItems))},detachCartListener:function(){this.cartStorageListener&&(window.removeEventListener("storage",this.cartStorageListener),this.cartStorageListener=null),this.$root.$off("cart-updated",this.syncCartItems)},ChooseLang:function(t,e){return e&&"fa"===this.$i18n.locale?e:t},onToggleWatchlist:function(){this.$emit("toggle-watchlist",{id:this.id,type:this.type})}}},i=(a(837),a(32)),n=Object(i.a)(s,function(){var t=this,e=t._self._c;return e("div",{staticClass:"showcase-button-wrapper",attrs:{id:"showcase-button-wrapper"}},[t.shouldShowRemoveButton?e("button",{staticClass:"btn btn-danger mr-1 ml-0 btn-main-section btn-remove",on:{click:t.removeFromCart}},[e("span",{staticClass:"smallsrm"},[e("i",{staticClass:"fa fa-trash pr-2"}),t._v(" "),e("span",[t._v(t._s(t.removeButtonLabel))])])]):t.actions&&t.actions.mainButton.exist?e("button",{staticClass:"btn btn-main mr-1 ml-0 btn-main-section",on:{click:t.handleMainAction}},[e("span",{staticClass:"smallsrm"},[e("i",{class:t.mainButtonIcon}),t._v(" "),e("span",[t._v("\n        "+t._s(t.mainButtonDisplayLabel)+"\n        "),t.showEpisodeNumber?e("span",[e("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("show.episode")))]),t._v("\n          "+t._s(t.episode.episode_number)+"\n        ")]):t._e()])])]):t._e(),t._v(" "),!t.shouldShowRemoveButton&&t.actions&&t.actions.downloadButton.exist?e("button",{staticClass:"btn btn-dark btn-download mr-1 ml-0 btn-main-section",on:{click:t.handleDownload}},[e("span",{staticClass:"smallsrm"},[e("i",{staticClass:"fa fa-download pr-2"}),t._v(" "),e("span",[t._v(t._s(t.downloadButtonLabel))])])]):t._e(),t._v(" "),t.actions&&(t.hasMainButton||t.hasDownloadButton)?t._e():e("button",{staticClass:"btn btn-main mr-1 ml-0"},[e("span",{staticClass:"smallsrm"},[e("b-spinner",{attrs:{small:""}})],1)]),t._v(" "),e("IconActions",{staticClass:"ml-1",attrs:{variant:"desktop","clap-active":Boolean(t.clapinterval),"user-claps":t.userClaps,"is-watchlist":t.isWatchlist},on:{"clap-start":function(e){return t.$emit("clap-start")},"clap-stop":function(e){return t.$emit("clap-stop")},share:function(e){return t.$emit("share")},"toggle-watchlist":t.onToggleWatchlist}})],1)},[],!1,null,"d2f1642a",null);e.default=n.exports}}]);