(window.webpackJsonp=window.webpackJsonp||[]).push([[70,71,78],{774:function(t,e,n){var content=n(824);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("0ede7e1f",content,!0,{sourceMap:!1})},777:function(t,e,n){var content=n(834);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("151e1650",content,!0,{sourceMap:!1})},818:function(t,e,n){"use strict";n.r(e);n(137);var o={name:"IconActions",props:{variant:{type:String,default:"desktop"},isWatchlist:{type:[Number,Boolean],default:0},userClaps:{type:[Number,String],default:0},clapActive:{type:Boolean,default:!1},customStyle:{type:Object,default:function(){return{}}}},computed:{isMobile:function(){return"mobile"===this.variant},clapClasses:function(){return this.isMobile?[{active:this.clapActive},"col-4 d-flex align-items-center justify-content-center text-darker"]:[" btn-dark btn-icon ml-1 "]},shareClasses:function(){return this.isMobile?"col-4 d-flex align-items-center justify-content-center text-darker":" btn-dark btn-icon ml-1 "},watchlistClasses:function(){return this.isMobile?"col-4 d-flex align-items-center justify-content-center text-darker":" btn-dark btn-icon ml-1 "}}},r=(n(823),n(28)),component=Object(r.a)(o,function(){var t=this,e=t._self._c;return e("div",{staticClass:"icon-actions",class:{"row h-full":t.isMobile}},[e("a",{staticClass:"icon-btn-style",class:t.watchlistClasses,style:t.customStyle,on:{click:function(e){return e.preventDefault(),t.$emit("toggle-watchlist")}}},[e("i",{class:{"icon-bookmark-empty fa-xs":!t.isWatchlist,"icon-bookmark fa-xs":1==t.isWatchlist}})]),t._v(" "),e("a",{staticClass:"icon-btn-style",class:t.shareClasses,style:t.customStyle,on:{click:function(e){return e.preventDefault(),t.$emit("share")}}},[e("i",{staticClass:"icon-share-android fa-xs"})]),t._v(" "),e("a",{staticClass:"icon-btn-style",class:t.clapClasses,style:t.customStyle,on:{mousedown:function(e){return t.$emit("clap-start")},mouseleave:function(e){return t.$emit("clap-stop")},mouseup:function(e){return t.$emit("clap-stop")},touchstart:function(e){return t.$emit("clap-start")},touchend:function(e){return t.$emit("clap-stop")},touchcancel:function(e){return t.$emit("clap-stop")}}},[e("div",{staticClass:"likes"},[t.userClaps?e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.userClaps))]):t._e(),t._v(" "),e("i",{staticClass:"fa fa-thumbs-up fa-xs"})])])])},[],!1,null,"8880052e",null);e.default=component.exports},823:function(t,e,n){"use strict";n(774)},824:function(t,e,n){var o=n(56)(function(i){return i[1]});o.push([t.i,".icon-actions[data-v-8880052e]{align-items:center;display:flex;justify-content:center}@media (min-width:768px){.icon-actions[data-v-8880052e]{border-radius:8px;height:44px;opacity:1;padding:10px;width:auto}}@media (max-width:767px){.icon-actions.row.h-full[data-v-8880052e]{height:auto;margin:0;padding:8px 0;width:100%}.icon-actions .icon-btn-style[data-v-8880052e]{align-items:center;display:flex;flex:1;justify-content:center;min-width:0;padding:12px 8px}.icon-actions[data-v-8880052e]{gap:8px!important}}[data-v-8880052e] .icon-actions .i{border-radius:8px!important;margin:0!important}a.icon-btn-style.btn-dark.btn-icon.ml-1[data-v-8880052e]{align-items:center;border-radius:8px;display:flex;height:44px;justify-content:center;line-height:2rem;padding:10px;width:44px}@media (max-width:767px){a.icon-btn-style.btn-dark.btn-icon.ml-1[data-v-8880052e]{align-items:center;border-radius:8px;display:flex;height:30px;justify-content:center;line-height:2rem;margin-left:0!important;padding:10px;width:44px;width:100%}}i[data-v-8880052e]{line-height:2rem!important}.likes[data-v-8880052e]{position:relative}.likes[data-v-8880052e],.likes .badge[data-v-8880052e]{align-items:center;display:flex;justify-content:center}.likes .badge[data-v-8880052e]{font-size:10px;height:28px;min-width:28px;padding:2px 4px;position:absolute;right:-18px;top:-18px}",""]),o.locals={},t.exports=o},833:function(t,e,n){"use strict";n(777)},834:function(t,e,n){var o=n(56)(function(i){return i[1]});o.push([t.i,".showcase-button-wrapper[data-v-f7110d1c]{align-items:center;display:flex;gap:8px}.btn-main-section[data-v-f7110d1c]{border-radius:8px;height:44px;min-width:180px;opacity:1;padding:10px 24px}.btn-main-section[data-v-f7110d1c],.btn-main-section .smallsrm[data-v-f7110d1c]{gap:8px}.btn-main-section[data-v-f7110d1c],.btn-main-section .smallsrm[data-v-f7110d1c],.btn-main-section span[data-v-f7110d1c]{align-items:center;display:flex;justify-content:center}@media (max-width:767.98px){.showcase-button-wrapper[data-v-f7110d1c]{gap:12px}.btn-main-section[data-v-f7110d1c]{max-width:220px!important;width:auto!important}.showcase-theme-m-tn .showcase-thumbnail-wrapper-outter .showcase-button-wrapper[data-v-f7110d1c]{align-content:center!important;display:flex!important;flex-wrap:wrap;justify-content:space-around!important;justify-content:center}.showcase-theme-m-tn .showcase-thumbnail-wrapper-outter .showcase-button-wrapper .btn[data-v-f7110d1c]:last-of-type{margin-top:0!important}}",""]),o.locals={},t.exports=o},844:function(t,e,n){"use strict";n.r(e);n(13),n(69),n(44),n(137),n(18),n(11),n(96);var o={name:"ShowcaseActions",components:{IconActions:n(818).default},props:{hasMainButton:{type:Boolean,default:!1},hasDownloadButton:{type:Boolean,default:!1},mainButtonLabel:{type:String,default:""},mainButtonAction:{type:String,default:""},downloadButtonLabel:{type:String,default:""},clapinterval:{type:[Boolean,Number],default:0},userClaps:{type:[Number,String],default:0},isWatchlist:{type:[Number,Boolean],default:0},episode:{type:Object,default:function(){return{}}},actions:{type:Object,default:function(){return{}}},id:{type:[Number,String],default:null},type:{type:String,default:""}},emits:["play","buy","subscription","download","toggle-watchlist","clap-start","clap-stop","share"],data:function(){return{cartItemIds:[],cartStorageListener:null}},computed:{isBasketActive:function(){var t;if(!this.$store)return!0;var e=null===(t=this.$store.state)||void 0===t?void 0:t.basketActive;return void 0===e||Boolean(e)},mainButtonDisplayLabel:function(){var t;if(null===(t=this.actions)||void 0===t||null===(t=t.mainButton)||void 0===t||!t.label)return this.mainButtonLabel;var e=this.actions.mainButton.label;return this.ChooseLang(e.en,e.fa)},showEpisodeNumber:function(){var t;return"play"===this.mainButtonAction&&(null===(t=this.episode)||void 0===t?void 0:t.id)},cartTargetId:function(){var t;if(!this.isBasketActive)return null;if("buy"!==this.mainButtonAction)return null;var e=null!==(t=this.episode&&null!=this.episode.id?this.episode.id:null)&&void 0!==t?t:this.id;return null!=e?String(e):null},shouldShowRemoveButton:function(){return!!this.cartTargetId&&this.cartItemIds.includes(this.cartTargetId)},mainButtonIcon:function(){return"play"===this.mainButtonAction?"fa fa-play pr-2":"subscription"===this.mainButtonAction?"fa fa-id-card pr-2":"buy"===this.mainButtonAction?"fa fa-shopping-cart pr-2":"fa fa-play pr-2"},removeButtonLabel:function(){return"function"==typeof this.$te&&this.$te("cart.remove")?this.$t("cart.remove"):"حذف از سبد"}},watch:{isBasketActive:{immediate:!0,handler:function(t){t?(this.syncCartItems(),this.attachCartListener()):(this.cartItemIds=[],this.detachCartListener())}}},mounted:function(){this.isBasketActive&&(this.syncCartItems(),this.attachCartListener())},beforeDestroy:function(){this.detachCartListener()},methods:{handleMainAction:function(){var t=this.mainButtonAction;"play"===t?this.$emit("play"):"buy"===t?this.$emit("buy"):"subscription"===t&&this.$emit("subscription")},handleDownload:function(){this.$emit("download")},syncCartItems:function(){if(this.isBasketActive)try{var t=localStorage.getItem("_cart");if(!t)return void(this.cartItemIds=[]);var e=JSON.parse(t);this.updateCartState(e)}catch(t){console.error("Failed to sync cart items:",t)}else this.cartItemIds=[]},updateCartState:function(t){t&&Array.isArray(t.content)?this.cartItemIds=t.content.map(function(t){return t&&null!=t.id?String(t.id):null}).filter(function(t){return null!==t}):this.cartItemIds=[]},removeFromCart:function(){var t=this;if(this.cartTargetId)try{var e=localStorage.getItem("_cart"),n=e?JSON.parse(e):{content:[],amount:0};Array.isArray(n.content)||(n.content=[]),n.content=n.content.filter(function(e){return String(null==e?void 0:e.id)!==t.cartTargetId}),n.amount=n.content.reduce(function(t,e){return t+(e.tvod_price||0)},0),localStorage.setItem("_cart",JSON.stringify(n)),this.updateCartState(n),this.emitCartChange()}catch(t){console.error("Failed to remove item from cart:",t)}},emitCartChange:function(){try{var t=new StorageEvent("storage",{key:"_cart"});window.dispatchEvent(t)}catch(t){window.dispatchEvent(new Event("storage"))}this.$root.$emit("cart-updated")},attachCartListener:function(){var t=this;this.cartStorageListener||(this.cartStorageListener=function(){return t.syncCartItems()},window.addEventListener("storage",this.cartStorageListener))},detachCartListener:function(){this.cartStorageListener&&(window.removeEventListener("storage",this.cartStorageListener),this.cartStorageListener=null)},ChooseLang:function(t,e){return e&&"fa"===this.$i18n.locale?e:t},onToggleWatchlist:function(){this.$emit("toggle-watchlist",{id:this.id,type:this.type})}}},r=(n(833),n(28)),component=Object(r.a)(o,function(){var t=this,e=t._self._c;return e("div",{staticClass:"showcase-button-wrapper",attrs:{id:"showcase-button-wrapper"}},[t.shouldShowRemoveButton?e("button",{staticClass:"btn btn-danger mr-1 ml-0 btn-main-section btn-remove",on:{click:t.removeFromCart}},[e("span",{staticClass:"smallsrm"},[e("i",{staticClass:"fa fa-trash pr-2"}),t._v(" "),e("span",[t._v(t._s(t.removeButtonLabel))])])]):t.actions&&t.actions.mainButton.exist?e("button",{staticClass:"btn btn-main mr-1 ml-0 btn-main-section",on:{click:t.handleMainAction}},[e("span",{staticClass:"smallsrm"},[e("i",{class:t.mainButtonIcon}),t._v(" "),e("span",[t._v("\n        "+t._s(t.mainButtonDisplayLabel)+"\n        "),t.showEpisodeNumber?e("span",[e("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("show.episode")))]),t._v("\n          "+t._s(t.episode.episode_number)+"\n        ")]):t._e()])])]):t._e(),t._v(" "),!t.shouldShowRemoveButton&&t.actions&&t.actions.downloadButton.exist?e("button",{staticClass:"btn btn-dark btn-download mr-1 ml-0 btn-main-section",on:{click:t.handleDownload}},[e("span",{staticClass:"smallsrm"},[e("i",{staticClass:"fa fa-download pr-2"}),t._v(" "),e("span",[t._v(t._s(t.downloadButtonLabel))])])]):t._e(),t._v(" "),t.actions&&(t.hasMainButton||t.hasDownloadButton)?t._e():e("button",{staticClass:"btn btn-main mr-1 ml-0"},[e("span",{staticClass:"smallsrm"},[e("b-spinner",{attrs:{small:""}})],1)]),t._v(" "),e("IconActions",{staticClass:"ml-1",attrs:{variant:"desktop","clap-active":Boolean(t.clapinterval),"user-claps":t.userClaps,"is-watchlist":t.isWatchlist},on:{"clap-start":function(e){return t.$emit("clap-start")},"clap-stop":function(e){return t.$emit("clap-stop")},share:function(e){return t.$emit("share")},"toggle-watchlist":t.onToggleWatchlist}})],1)},[],!1,null,"f7110d1c",null);e.default=component.exports}}]);