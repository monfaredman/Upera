(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{1049:function(t,e,r){"use strict";r.r(e);r(40);var n=r(3),l=r(23),c=(r(59),r(17),r(13),r(21),r(22),r(18),r(11),r(29),r(167),r(16),r(35));function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var d={components:{FilterContents:r(242).default},asyncData:function(t){return Object(l.a)(regeneratorRuntime.mark(function e(){var r,n,l,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.params.search){e.next=3;break}return r={query:t.params.search},t.query.dubbed&&(r.dubbed=1),t.query.subtitle&&(r.subtitle=1),t.query.imdb&&(r.imdb=1),t.query.kids&&(r.kids=1),e.next=1,t.app.$axios.post("/ghost/get/search"+t.store.getters.filtercontents,r);case 1:return n=e.sent,l=null==n.data.data.data&&null==n.data.data.cast,e.next=2,t.app.$axios.get("/ghost/topsearch");case 2:return c=e.sent,"fa"!==t.app.i18n.locale&&(c.data.data.topsearch=c.data.data.topsearch_en),e.abrupt("return",{data:n.data.data,topsearch:c.data.data.topsearch,noresult:l});case 3:return e.next=4,t.app.$axios.get("/ghost/topsearch");case 4:return o=e.sent,"fa"!==t.app.i18n.locale&&(o.data.data.topsearch=o.data.data.topsearch_en),e.abrupt("return",{data:{data:null,cast:null},topsearch:o.data.data.topsearch});case 5:case"end":return e.stop()}},e)}))()},data:function(){return{query:null,dubbed:0,subtitle:0,imdb:0,kids:0,showCast:null,data:{},topsearch:{},noresult:!1}},head:function(){return{title:this.$route.params.search?this.$route.params.search+" | جستجو":"جستجو"}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){Object(n.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},Object(c.c)({lastsearchs:"search/lastsearchs"})),mounted:function(){this.$store.dispatch("search/GetLastSearchs",this.$route.params.search),this.$route.params.search&&(this.query=this.$route.params.search,this.dubbed=this.$route.query.dubbed,this.subtitle=this.$route.query.subtitle,this.imdb=this.$route.query.imdb,this.kids=this.$route.query.kids,this.$store.dispatch("search/addSearch",this.$route.params.search))},methods:{ChooseLang:function(t,e){return e&&"fa"==this.$i18n.locale?e:t},SEARCH:function(){if(this.query&&this.query.length>1){var t={};this.dubbed&&(t.dubbed=1),this.subtitle&&(t.subtitle=1),this.imdb&&(t.imdb=1),this.kids&&(t.kids=1),this.$router.push({name:"search-search",params:{search:this.query},query:t})}},removeSearch:function(t){this.$store.dispatch("search/removeSearch",t)},IN_SEARCH:function(){var t=this;if(this.query&&this.query.length>1){var e={query:this.query};this.dubbed&&(e.dubbed=1),this.subtitle&&(e.subtitle=1),this.imdb&&(e.imdb=1),this.kids&&(e.kids=1),this.$axios.post("/ghost/get/search"+this.filtercontents,e).then(function(e){200===e.status&&(t.data=e.data.data,null==e.data.data.data&&null==e.data.data.cast?t.noresult=!0:(t.$store.dispatch("search/addSearch",t.query),t.noresult=!1))}).catch(function(e){return t.data={data:null,cast:null},t.noresult=!0,e})}},execute_content_filtering:function(){var t=this;if(this.$nuxt.$loading.start(),this.$store.dispatch("filter/FILTER_LOADING"),this.query&&this.query.length>1){var e={query:this.query};this.imdb&&(e.imdb=1),this.$axios.post("/ghost/get/search"+this.filtercontents,e).then(function(e){200===e.status&&(t.data=e.data.data,null==e.data.data.data&&null==e.data.data.cast?t.noresult=!0:(t.$store.dispatch("search/addSearch",t.query),t.noresult=!1)),t.$store.dispatch("filter/CLEAN_FILTER_LOADING"),t.$nuxt.$loading.finish()}).catch(function(e){return t.$store.dispatch("filter/CLEAN_FILTER_LOADING"),t.$nuxt.$loading.finish(),t.data={data:null,cast:null},t.noresult=!0,e})}}}},h=d,m=r(28),component=Object(m.a)(h,function(){var t=this,e=t._self._c;return e("div",[e("FilterContents",{attrs:{show:!0,savedata:!1,"no-top":!0},on:{execute_content_filtering:t.execute_content_filtering}}),t._v(" "),e("div",{staticClass:"container-fluid",attrs:{id:"checkcontainer"}},[e("div",[e("div",{staticClass:"search_main_container_reswidth"},[e("div",{staticClass:"input-group search-field with-filter my-4 insert_comment search_box_container d-md-none"},[e("b-form-input",{staticClass:"form-control border-left-0 border shadow-none",staticStyle:{top:"15px"},attrs:{autofocus:"",placeholder:t.$t("new.search"),type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.SEARCH.apply(null,arguments)}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}}),t._v(" "),e("button",{staticClass:"btn btn-sm btn-send-comment",on:{click:t.IN_SEARCH}},[e("i",{staticClass:"icon-search"})]),t._v(" "),t._m(0)],1),t._v(" "),e("div",{staticClass:"search_badge"},[e("a",{staticClass:"badge badge-pill small font-weight-normal py-2 px-3 mb-2 mr-2 mr-lg-4",class:{"badge-secondary":!t.imdb,"badge-info":t.imdb},attrs:{href:""},on:{click:function(e){e.preventDefault(),t.imdb=!t.imdb,t.IN_SEARCH()}}},[t._v("امتیاز +۸")]),t._v(" "),e("br"),e("br")]),t._v(" "),!t.query&&t.lastsearchs&&null==t.data.data&&null==t.data.cast?e("div",{staticClass:"mt-4 search-tags",attrs:{id:"search-tags"}},t._l(t.lastsearchs,function(r,n){return e("div",{key:n,staticClass:"tag mt-2"},[e("i",{staticClass:"icon-close",on:{click:function(e){return t.removeSearch(r)}}}),t._v(" "),e("span",{on:{click:function(e){t.query=r,t.IN_SEARCH()}}},[t._v(t._s(r))])])}),0):t._e(),t._v(" "),!t.query&&t.topsearch&&null==t.data.data&&null==t.data.cast?e("header",{staticClass:"headline py-4"},[e("h6",{staticClass:"title"},[t._v("محبوبترین جستجوها")])]):t._e(),t._v(" "),!t.query&&t.topsearch&&null==t.data.data&&null==t.data.cast?e("div",{staticClass:"d-flex flex-column align-start popular_search",attrs:{id:"popular_search"}},t._l(t.topsearch,function(r,n){return e("a",{key:n,staticClass:"clearfix text-dark",class:{"pt-4":n>0},attrs:{href:""},on:{click:function(e){e.preventDefault(),t.query=r,t.IN_SEARCH()}}},[t._v(t._s(r))])}),0):t._e(),t._v(" "),t.noresult&&t.query?e("div",{staticClass:"movie_notFound mt-5",attrs:{id:"notFound"}},[e("p",[t._v("\n            متاسفانه چیزی پیدا نکردیم. میتوانید به قسمت\n            "),e("nuxt-link",{attrs:{to:"/genres"}},[e("span",[t._v("دسته بندی")])]),t._v("\n            سری بزنین یا\n            "),e("nuxt-link",{attrs:{to:"/genres"}},[e("span",[t._v("درخواست اضافه کردن فیلم یا سریال")])]),t._v("\n            مورد نظرتون رو بدین.\n          ")],1)]):t._e()]),t._v(" "),null!=t.data.data||null!=t.data.cast?e("div",{staticClass:"search_collection",attrs:{id:"actor"}},[e("div",{staticClass:"container-fluid pl-md-4 pr-md-5 mt-n5"},[null!=t.data.data?e("div",{staticClass:"row"},t._l(t.data.data,function(r,n){return e("div",{key:n,staticClass:"col-4 col-xl-1 col-md-2 col-sm-3 mt-2 mt-lg-4"},[e("nuxt-link",{staticClass:"actor",class:{"is-series":"movie"!=r.type},attrs:{to:{name:r.type+"-id",params:{id:r.id}}}},[e("b-img",t._b({directives:[{name:"lazy-load",rawName:"v-lazy-load"}],attrs:{"data-src":"https://thumb.upera.shop/thumb?w=142&h=212&q=100&a=c&src=https://cdn.upera.shop/s3/posters/"+r.poster,alt:r.name}},"b-img",{fluidGrow:!0,blank:!0,blankColor:"#bbb",width:142,height:212,show:!0},!1)),t._v(" "),"movie"!=r.type?e("b-img",t._b({directives:[{name:"lazy-load",rawName:"v-lazy-load"}],attrs:{"data-src":"https://thumb.upera.shop/thumb?w=142&h=212&q=100&a=c&src=https://cdn.upera.shop/s3/posters/"+r.poster,alt:r.name}},"b-img",{fluidGrow:!0,blank:!0,blankColor:"#bbb",width:142,height:212,show:!0},!1)):t._e(),t._v(" "),"movie"!=r.type?e("b-img",t._b({directives:[{name:"lazy-load",rawName:"v-lazy-load"}],attrs:{"data-src":"https://thumb.upera.shop/thumb?w=142&h=212&q=100&a=c&src=https://cdn.upera.shop/s3/posters/"+r.poster,alt:r.name}},"b-img",{fluidGrow:!0,blank:!0,blankColor:"#bbb",width:142,height:212,show:!0},!1)):t._e(),t._v(" "),!r.ir&&r.persian?e("span",{staticClass:"label label-rounded label-red label-1"},[t._v("دوبله")]):t._e(),t._v(" "),r.ir||r.persian?t._e():e("span",{staticClass:"label label-rounded label-warning label-1"},[t._v("زیرنویس")]),t._v(" "),r.free&&"upera"==t.$config.envname?e("span",{staticClass:"label label-blue label-2"},[t._v("رایگان")]):t._e()],1),t._v(" "),e("div",{staticClass:"mt-2"},[e("h6",{staticClass:"mt-2 small font-weight-normal"},[t._v("\n                  "+t._s(t.ChooseLang(r.name,r.name_fa))+"\n                ")])])],1)}),0):t._e(),t._v(" "),null!=t.data.cast?e("div",{staticClass:"row"},t._l(t.data.cast,function(r,n){return e("div",{key:n,staticClass:"col-4 col-xl-1 col-md-2 col-sm-3 mt-2 mt-lg-4"},[e("nuxt-link",{staticClass:"actor2",attrs:{to:{name:"cast-id",params:{id:r.id}}}},[e("b-img",t._b({directives:[{name:"lazy-load",rawName:"v-lazy-load"}],staticClass:"rounded-circle",attrs:{"data-src":"https://thumb.upera.shop/thumb?w=140&h=140&q=100&a=t&src=https://cdn.upera.shop/s3/casts/"+r.image,alt:r.name}},"b-img",{fluidGrow:!0,blank:!0,blankColor:"#bbb",width:140,height:140,show:!0},!1)),t._v(" "),e("span",{staticClass:"block"},[t._v(t._s(t.ChooseLang(r.name,r.name_fa)))])],1)],1)}),0):t._e()])]):t._e()])])],1)},[function(){var t=this._self._c;return t("a",{staticClass:"filter",attrs:{href:"#"}},[t("i",{staticClass:"icon-filter"})])}],!1,null,null,null);e.default=component.exports;installComponents(component,{FilterContents:r(242).default,Header:r(117).default})}}]);