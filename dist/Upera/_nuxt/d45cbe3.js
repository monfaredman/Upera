(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{744:function(e,t,l){e.exports={}},745:function(e,t,l){e.exports={}},794:function(e,t,l){"use strict";l(744)},795:function(e,t,l){"use strict";l(745)},813:function(e,t,l){"use strict";l.r(t);l(40),l(135);var o={components:{VideoPlayer:l(715).default},props:{show:Boolean,staticmodal:Boolean,content:{type:Number,default:0},id:{type:String,default:null},backdrop:{type:String,default:null},backdropteaser:{type:String,default:null},name:{type:String,default:null},namefa:{type:String,default:null},type:{type:String,default:null}},data:function(){return{filesloading:!0,download_files:[],filePlayerUrl:null,filePosterUrl:null,fileTitle:null}},watch:{show:function(e){e?this.showModal():this.hideModal()}},mounted:function(){var e=this;this.staticmodal&&(this.showModal(),document.getElementsByClassName("modal-content")[0].removeAttribute("tabindex")),this.$refs.FilePlayer.$on("hide",function(){document.getElementsByClassName("default")[0].classList.remove("blure"),e.$emit("hide-modal",null)}),document.body.classList.add("loaded")},methods:{ChooseLang:function(e,t){return t&&"fa"===this.$i18n.locale?t:e},Chooseback:function(e,t){return e||t},showModal:function(){var e=this;this.$refs.FilePlayer.show(),this.staticmodal||document.getElementsByClassName("default")[0].classList.add("blure"),this.filesloading=!0;var t=this.$cookiz?this.$cookiz.get("ref"):0;t&&!isNaN(t)||(t=0);var l=this.$auth&&this.$auth.loggedIn?"/get/files":"/ghost/get/files";this.$axios.post(l,{id:this.id,content:this.content,hls:1,type:this.type,ref:t}).then(function(t){if(200===t.status){var data=t.data.data;if(5===e.content);else if(0===data.file.length)e.$swal("There was a problem playing the video, we will fix it soon.",{icon:"error"}),e.filesloading=!1;else{var l=e.name;l=1===e.content?e.$i18n.t("show.trailer")+" "+l:2===e.content?e.$i18n.t("show.watch_backstage")+" | "+l:3===e.content?e.$i18n.t("show.watch_next")+" | "+l:4===e.content?e.$i18n.t("show.watch_musicvideo")+" | "+l:e.$i18n.t("show.watch_images")+" | "+l,e.download_files=data.download||[],e.filePlayerUrl=data.file[0].file,e.filePosterUrl=e.backdrop?"https://thumb.upera.shop/thumb?w=1920&h=938&q=100&a=c&src=https://cdn.upera.shop/s3/backdrops/"+e.Chooseback(e.backdropteaser,e.backdrop):null,e.fileTitle=l,e.filesloading=!1}}}).catch(function(t){console.error(t),e.filesloading=!1,e.$swal("There was a problem playing the video, we will fix it soon.",{icon:"error"})})},hideModal:function(){this.$refs.FilePlayer.hide(),this.$emit("hide-modal",null),document.getElementsByClassName("default")[0].classList.remove("blure")}}},n=(l(794),l(795),l(28)),component=Object(n.a)(o,function(){var e=this,t=e._self._c;return t("div",[t("b-modal",{ref:"FilePlayer",attrs:{id:"FilePlayer",centered:!e.staticmodal,"hide-footer":"","hide-header":"",size:"lg","no-close-on-backdrop":!!e.staticmodal,"hide-backdrop":!!e.staticmodal,"no-close-on-esc":!!e.staticmodal,static:!!e.staticmodal,"no-enforce-focus":"","modal-class":"files enhanced-file-modal"}},[t("div",{staticClass:"file-modal-wrapper",attrs:{dir:"ltr"}},[t("div",{staticClass:"enhanced-player-container",attrs:{id:"flowplayer-files-player"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.filesloading,expression:"filesloading"}],staticClass:"enhanced-spinner-container"},[t("div",{staticClass:"spinner-backdrop"}),e._v(" "),t("div",{staticClass:"spinner-content"},[t("div",{staticClass:"modern-spinner"},[t("div",{staticClass:"spinner-ring"}),e._v(" "),t("div",{staticClass:"spinner-ring"}),e._v(" "),t("div",{staticClass:"spinner-ring"})]),e._v(" "),t("p",{staticClass:"loading-text"},[e._v("در حال بارگذاری...")])])]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:!e.filesloading,expression:"!filesloading"}],staticClass:"enhanced-close-button",attrs:{"aria-label":"بستن"},on:{click:e.hideModal}},[t("div",{staticClass:"close-icon-wrapper"},[t("i",{staticClass:"fas fa-times"})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.filesloading&&e.fileTitle,expression:"!filesloading && fileTitle"}],staticClass:"media-title-badge"},[t("div",{staticClass:"title-badge-content"},[t("i",{staticClass:"fas fa-play-circle badge-icon"}),e._v(" "),t("span",{staticClass:"title-text"},[e._v(e._s(e.fileTitle))])])]),e._v(" "),e.filePlayerUrl&&!e.filesloading?t("div",{staticClass:"player-wrapper"},[t("VideoPlayer",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],ref:"FileVideoPlayer",staticClass:"fp-full fp-mute fp-edgy flowplayer enhanced-video-player",attrs:{playerid:"file-player",stream:e.filePlayerUrl,"data-poster":e.filePosterUrl,"player-auto-play":!0,"show-auto-play-toggle":!1,"show-skip-teaser":!1,"show-skip-intro":!1,"show-skip-credits-button":!1}})],1):e._e()])])])],1)},[],!1,null,"435f22d9",null);t.default=component.exports;installComponents(component,{VideoPlayer:l(715).default})}}]);