(window.webpackJsonp=window.webpackJsonp||[]).push([[4,91],{1006:function(t,e,i){"use strict";i(869)},750:function(t,e,i){"use strict";i.r(e);var a=i(3),n=(i(21),i(72),i(91),i(15),i(49),i(43),i(25),i(26),i(324),i(46)),r=i(75),s=i(76),l=i(221),o=i(110),u=i(151),c=(i(35),i(125),i(83),i(73),i(142),i(987),i(22),i(13),i(33),i(62),i(101),i(60),i(176),i(988),i(175),i(84),i(19),i(65),i(97),i(318),i(319),i(122),i(39)),d=i(710),v=(i(1047),i(1005),i(729)),h=i(916);function p(t,e,i){return e=Object(o.a)(e),Object(l.a)(t,f()?Reflect.construct(e,i||[],Object(o.a)(t).constructor):e.apply(t,i))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(f=function(){return!!t})()}function m(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return y(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw r}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=Array(e);i<e;i++)a[i]=t[i];return a}function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach(function(e){Object(a.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var S=i(633),w=i(631),C=i(636),_=i(635),k=i(637),x=i(634),T=i(630),P=i(632),O=[{value:.5,label:"۰.۵x"},{value:.75,label:"۰.۷۵x"},{value:1,label:"۱x (عادی)"},{value:1.25,label:"۱.۲۵x"},{value:1.5,label:"۱.۵x"},{value:1.75,label:"۱.۷۵x"},{value:2,label:"۲x"}],B={fa:"فارسی",en:"English",ar:"العربية",fr:"Français",de:"Deutsch",es:"Español"},L={"1080p":"۱۰۸۰p - Full HD","720p":"۷۲۰p - HD","480p":"۴۸۰p - SD","360p":"۳۶۰p","240p":"۲۴۰p",auto:"خودکار",Auto:"خودکار"},I={components:{SubscriptionButton:h.default},props:{stream:{type:String,default:""},playerid:{type:String,default:""},title:{type:String,default:""},showAutoPlayToggle:{type:Boolean,default:!0},vastUrl:{type:String,default:""},posterUrl:{type:String,default:""},playerAutoPlay:{type:Boolean,default:!0},tracks:{type:Array,default:function(){return[]}},hasPlaylist:{type:Boolean,default:!1},shouldIncrementViews:{type:Boolean,default:!1},videoid:{type:String,default:""},videotype:{type:String,default:""},muteOnOtherPlay:{type:Boolean,default:!1},creditsData:{type:Object,default:function(){return{first_credits:1,after_credits:60,final_credits:5550}}},showSkipCreditsButton:{type:Boolean,default:!0},fullrateData:{type:Object,default:null},contentId:{type:[String,Number],default:null},contentType:{type:String,default:""}},data:function(){return{FONT_SIZES:[{value:20,label:"کوچک"},{value:24,label:"متوسط"},{value:28,label:"بزرگ"},{value:32,label:"خیلی بزرگ"}],TEXT_COLORS:[{value:"#ffffff",label:"سفید",class:"color-white"},{value:"#ffff00",label:"زرد",class:"color-yellow"},{value:"#00ff00",label:"سبز",class:"color-green"},{value:"#00ffff",label:"فیروزه‌ای",class:"color-cyan"},{value:"#ffa500",label:"نارنجی",class:"color-orange"}],BACKGROUND_OPACITIES:[{value:0,label:"بدون پس‌زمینه"},{value:.5,label:"نیمه شفاف"},{value:.8,label:"مات",selected:!0},{value:1,label:"کاملاً مات"}],TEXT_SHADOWS:[{value:"none",label:"بدون سایه"},{value:"light",label:"سایه کم"},{value:"medium",label:"سایه متوسط"},{value:"heavy",label:"سایه زیاد"}],adActive:!1,viewsIncremented:!1,player:null,showSkipCredits:!1,skipButtonText:"رد کردن تیتراژ",currentCreditType:null,creditCheckInterval:null,isMobile:!1,isUltraWideScreen:!1,currentTimeFormatted:"00:00",durationFormatted:"00:00",showSettingsDrawer:!1,settingsDrawerView:"main",currentPlaybackRate:1,currentSubtitle:null,currentQuality:"auto",subtitleTracksInitialized:!1,subtitleStyle:{fontSize:24,color:"#ffffff",background:.8,shadow:"medium"},subtitleFontMin:18,subtitleFontMax:64,subtitleFontStep:2,showProgressPreview:!1,previewPosition:{x:0,y:0},previewTime:"00:00",progressBarElement:null,lastPreviewTime:-1,audioOptions:null,currentAudioLang:null,currentStream:null,volumeRestoreInterval:null,savedVolumeState:null,volumeSaveInterval:null}},computed:g(g({},Object(c.c)({autoPlay:"autoplay"})),{},{displayTitle:function(){return this.adActive?"نمایش تبلیغات":this.title},isRtl:function(){return"fa"===this.$i18n.locale},PLAYBACK_RATES:function(){return O},subtitleFontSizePx:function(){return this.resolveSubtitleFontPx(this.subtitleStyle.fontSize)}}),watch:{stream:function(t){t&&(this.parseAudioOptionsFromStream(t),this.currentStream=t,this.initPlayer())},autoPlay:function(){this.player&&this.updateIcon()},"$i18n.locale":function(t){this.player&&(this.player.language(t),this.player.el().style.direction="fa"===t?"rtl":"ltr")},showSettingsDrawer:function(t){var e=this;t&&this.$nextTick(function(){e.moveDrawerToPlayer()})}},mounted:function(){this.updateResponsiveFlags(),window.addEventListener("resize",this.handleResize),this.stream&&this.initPlayer(),window.addEventListener("keydown",this.handleKeydown),window.addEventListener("beforeunload",this.saveVolumeState)},beforeDestroy:function(){this.saveVolumeState(),this.stopVolumeRestoreMonitoring(),this.stopVolumeSaveMonitoring(),this.player&&this.player.dispose(),this.creditCheckInterval&&clearInterval(this.creditCheckInterval),this.cueObserver&&this.cueObserver.disconnect();var t=document.getElementById("custom-subtitle-styles");t&&t.remove(),window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("resize",this.handleResize),window.removeEventListener("beforeunload",this.saveVolumeState)},methods:g(g({},Object(c.b)(["SET_AUTOPLAY"])),{},{handleSubscriptionClick:function(t){this.$emit("subscription-purchase",t),this.$store&&this.$store.dispatch&&this.$store.dispatch("subscription/SHOW_MODAL",{content_type:t.type,content_id:t.id})},handleResize:function(){this.updateResponsiveFlags()},updateResponsiveFlags:function(){var t=window.innerWidth;this.isMobile=t<=768,this.isUltraWideScreen=t>2e3},initPlayer:function(){var t=this.$i18n.locale;"fa"===t&&d.default.addLanguage("fa",v);var e=!(!this.playerAutoPlay||!1===this.autoPlay);this.parseAudioOptionsFromStream(this.stream);var i=this.currentStream||this.stream;try{var a=localStorage.getItem("".concat(this.playerid,"-audioLang"));if(a&&this.audioOptions){var n=this.audioOptions.find(function(t){return t.lang===a});n&&(i=this.buildStreamWithAudio(this.stream,n.lang),this.currentAudioLang=n.lang)}else if(this.audioOptions){var r=this.audioOptions.find(function(t){return t.lang&&"fa"===t.lang.toString().toLowerCase()});if(r)i=this.buildStreamWithAudio(this.stream,r.lang),this.currentAudioLang=r.lang;else{var s,l=new URL(this.stream,window.location.origin),o=new URLSearchParams(l.search),u=!1,c=m(o.keys());try{for(c.s();!(s=c.n()).done;){var h=s.value;if(/^audio\[.+\]$/.test(h)){u=!0;break}}}catch(t){c.e(t)}finally{c.f()}!u&&this.audioOptions&&this.audioOptions.length>0&&(this.currentAudioLang=this.audioOptions[0].lang)}}}catch(t){}this.currentStream=i,this.player=Object(d.default)(this.playerid,{autoplay:e,controls:!0,controlBar:{children:["progressControl","playToggle","volumePanel","fullscreenToggle"]},fluid:!0,poster:this.posterUrl,language:t,sources:[{src:i,type:"application/x-mpegURL"}]}),this.player.addClass("vjs-split-controls"),this.applyRtlSettings(),this.setupVastPlugin(),this.setupPlayerEvents()},applyRtlSettings:function(){var t=this.$refs[this.playerid];t&&(t.classList.toggle("vjs-rtl",this.isRtl),t.style.direction=this.isRtl?"rtl":"ltr")},setupVastPlugin:function(){if(this.vastUrl){var t={vastUrl:this.vastUrl,playAdAlways:!0,withCredentials:!1,mediaFileRegex:/.*/,addCtaClickZone:!1,timeout:5,skipButtonOptions:{text:"رد کردن >>"}};this.player.vast(t),this.setupVastCtaButton()}},setupVastCtaButton:function(){var t=document.getElementById("vast-cta-btn");if(t){this.player.on("vast.play",function(e,i){var a=i.ctaUrl,n=i.adClickCallback,r=i.adTitle;t.innerText=r,a&&(t.style.display="block",t.onclick=function(){n(),window.open(a,"_blank")})});var e=function(){t.style.display="none"};this.player.on("vast.complete",e),this.player.on("vast.error",e)}},setupAdEvents:function(){var t=this;this.player.on("vast.play",function(){t.adActive=!0}),this.player.on(["vast.complete","vast.skip"],function(){t.adActive=!1})},setupTextTracks:function(){var t,e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==(t=this.tracks)&&void 0!==t&&t.length&&(!this.subtitleTracksInitialized||i)){for(var a=this.player.remoteTextTracks(),n=a.length-1;n>=0;n--)this.player.removeRemoteTextTrack(a[n]);this.tracks.forEach(function(t){e.player.addRemoteTextTrack({kind:t.kind,src:t.src,label:t.label,srclang:t.language||"",default:t.default||!1},!1).track.mode="disabled"});for(var r=-1,s=0;s<this.tracks.length;s++){var l=this.tracks[s],o=(l.language||l.label||"").toString().toLowerCase();if("fa"===o||"farsi"===o||o.includes("fa")){r=s;break}}var u=this.player.textTracks();if(this.currentAudioLang&&"fa"===this.currentAudioLang.toString().toLowerCase()){for(var c=0;c<u.length;c++)u[c].mode="disabled";this.currentSubtitle=null}else if(this.currentAudioLang&&"en"===this.currentAudioLang.toString().toLowerCase())if(-1!==r){for(var d=0;d<u.length;d++)u[d].mode=d===r?"showing":"disabled";this.currentSubtitle=r}else{for(var v=0;v<u.length;v++)u[v].mode="disabled";this.currentSubtitle=null}else if(-1!==r){for(var h=0;h<u.length;h++)u[h].mode=h===r?"showing":"disabled";this.currentSubtitle=r}else{for(var p=!1,f=0;f<this.tracks.length;f++)if(this.tracks[f].default){u[f].mode="showing",this.currentSubtitle=f,p=!0;break}if(!p){for(var m=0;m<u.length;m++)u[m].mode="disabled";this.currentSubtitle=null}}this.subtitleTracksInitialized=!0}},setupCustomButtons:function(){this.createRuntimeDisplay(),this.hasPlaylist&&this.createPlaylistButton(),this.createNextButton(),this.createPipButton(),this.createSettingsButton(),this.isRtl&&this.createCustomRTLVolumeControl(),this.showAutoPlayToggle&&this.createSkipButtons()},getFullscreenInsertIndex:function(){var t=this.player.controlBar.getChild("fullscreenToggle"),e=this.player.controlBar.children().indexOf(t);return-1===e?this.player.controlBar.children().length-1:e},createNextButton:function(){var t=d.default.getComponent("Button"),e=P,i=function(t){function i(t,a){var n;Object(r.a)(this,i),(n=p(this,i,[t,a])).addClass("vjs-next-button"),n.addClass("vjs-custom-icon-button"),n.controlText("قسمت بعد");var s=document.createElement("img");return s.src=e,s.className="vjs-button-icon",n.el().appendChild(s),n}return Object(u.a)(i,t),Object(s.a)(i,[{key:"handleClick",value:function(){this.player().trigger("ended")}}])}(t);d.default.registerComponent("NextButton",i),this.player.controlBar.addChild("NextButton",{},this.getFullscreenInsertIndex())},createPipButton:function(){var t=function(t){function e(t,i){var a;Object(r.a)(this,e),(a=p(this,e,[t,i])).addClass("vjs-pip-button"),a.controlText("تصویر در تصویر");var n=document.createElement("span");return n.className="vjs-icon-pip",n.innerHTML='<i class="fa fa-clone"></i>',a.el().appendChild(n),a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"handleClick",value:function(){var t=this.player().el().querySelector("video");t&&(document.pictureInPictureElement?document.exitPictureInPicture():t.requestPictureInPicture&&t.requestPictureInPicture().catch(function(t){}))}}])}(d.default.getComponent("Button"));d.default.registerComponent("PipButton",t),this.player.controlBar.addChild("PipButton",{},this.getFullscreenInsertIndex())},createSettingsButton:function(){var t=d.default.getComponent("Button"),e=this,i=x,a=function(t){function a(t,e){var n;Object(r.a)(this,a),(n=p(this,a,[t,e])).addClass("vjs-settings-button"),n.addClass("vjs-custom-icon-button"),n.controlText("تنظیمات");var s=document.createElement("img");return s.src=i,s.className="vjs-button-icon",n.el().appendChild(s),n}return Object(u.a)(a,t),Object(s.a)(a,[{key:"handleClick",value:function(){e.toggleSettingsDrawer()}}])}(t);d.default.registerComponent("SettingsButton",a),this.player.controlBar.addChild("SettingsButton",{},this.getFullscreenInsertIndex())},toggleSettingsDrawer:function(){this.showSettingsDrawer=!this.showSettingsDrawer,this.showSettingsDrawer&&(this.settingsDrawerView="main")},closeSettingsDrawer:function(){this.showSettingsDrawer=!1,this.settingsDrawerView="main"},backToMain:function(){this.settingsDrawerView="main"},openSpeedSettings:function(){this.settingsDrawerView="speed"},openSubtitleSettings:function(){this.settingsDrawerView="subtitle"},openQualitySettings:function(){this.settingsDrawerView="quality"},getSpeedLabel:function(){var t=this,e=O.find(function(e){return e.value===t.currentPlaybackRate});return e?e.label:"۱x (عادی)"},getSubtitleLabel:function(){var t=this;if(null===this.currentSubtitle)return"خاموش";var e=this.getSubtitleTracks().find(function(e){return e.index===t.currentSubtitle});return(null==e?void 0:e.label)||"خاموش"},getQualityLabel:function(){return L[this.currentQuality]||"خودکار"},isSpeedActive:function(t){return Math.abs(this.currentPlaybackRate-t)<.01},selectSpeed:function(t){this.currentPlaybackRate=t,this.player&&this.player.playbackRate(t),this.closeSettingsDrawer()},getSubtitleTracks:function(){if(!this.player)return[];for(var t=this.player.textTracks(),e=[],i=0;i<t.length;i++){var a=t[i];if("subtitles"===a.kind||"captions"===a.kind){var n=B[a.language]||a.label||"زبان ".concat(i+1);e.push({label:n,language:a.language,index:i})}}return e},selectSubtitle:function(t){if(this.currentSubtitle=t,this.player){for(var e=this.player.textTracks(),i=0;i<e.length;i++)e[i].mode="disabled";null!==t&&e[t]&&(e[t].mode="showing")}this.closeSettingsDrawer()},getAvailableQualities:function(){return[{value:"auto",label:"خودکار"},{value:"1080p",label:"۱۰۸۰p - Full HD"},{value:"720p",label:"۷۲۰p - HD"},{value:"480p",label:"۴۸۰p - SD"},{value:"360p",label:"۳۶۰p"}]},isQualityActive:function(t){return this.currentQuality===t},selectQuality:function(t){if(this.currentQuality=t,this.player&&this.player.qualityLevels){var e=this.player.qualityLevels();if("auto"===t)for(var i=0;i<e.length;i++)e[i].enabled=!0;else for(var a=0;a<e.length;a++){var n=e[a].height;e[a].enabled=n+"p"===t}}this.closeSettingsDrawer()},createCustomRTLVolumeControl:function(){var t=this.player.controlBar.getChild("volumePanel");t&&this.player.controlBar.removeChild(t);var e=function(t){function e(t,i){var a;return Object(r.a)(this,e),(a=p(this,e,[t,i])).addClass("vjs-custom-rtl-volume"),a.volumeLevel=t.volume(),a.isDragging=!1,a.touchHandled=!1,a.createVolumeElements(),a.attachEventHandlers(),a.updateVolumeDisplay(),a.updateMuteIcon(),t.on("volumechange",function(){a.volumeLevel=t.volume(),a.updateVolumeDisplay(),a.updateMuteIcon()}),a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"saveVolumeState",value:function(){try{var t=this.player().id(),e={volume:this.player().volume(),muted:this.player().muted()};localStorage.setItem("".concat(t,"-volumeState"),JSON.stringify(e))}catch(t){}}},{key:"createVolumeElements",value:function(){this.el().innerHTML='\n        <button class="vjs-rtl-volume-button vjs-control vjs-button vjs-custom-icon-button" type="button">\n          <img class="vjs-button-icon" />\n        </button>\n        <div class="vjs-rtl-volume-control vjs-control">\n          <div class="vjs-rtl-volume-bar">\n            <div class="vjs-rtl-volume-level">\n              <span class="vjs-rtl-volume-handle"></span>\n            </div>\n          </div>\n        </div>\n      '}},{key:"attachEventHandlers",value:function(){var t=this,e=this.el().querySelector(".vjs-rtl-volume-button"),i=this.el().querySelector(".vjs-rtl-volume-control"),a=this.el().querySelector(".vjs-rtl-volume-bar");if(e){var n=function(e){e&&(e.stopPropagation(),e.preventDefault());var i=t.player();i.muted()?(i.muted(!1),t.lastVolume&&t.lastVolume>0?i.volume(t.lastVolume):0===i.volume()&&i.volume(.5)):(t.lastVolume=i.volume(),i.muted(!0)),t.saveVolumeState(),t.updateMuteIcon()},r=0;e.addEventListener("touchstart",function(){r=Date.now(),t.touchHandled=!1},{passive:!0}),e.addEventListener("touchend",function(e){Date.now()-r<500&&(t.touchHandled=!0,n(e),e.preventDefault(),e.stopPropagation(),setTimeout(function(){t.touchHandled=!1},300))},{passive:!1}),e.addEventListener("click",function(e){t.touchHandled||n(e),t.touchHandled=!1}),this.el().addEventListener("mouseenter",function(){i.classList.add("vjs-slider-active")}),this.el().addEventListener("mouseleave",function(){t.isDragging||i.classList.remove("vjs-slider-active")}),a.addEventListener("mousedown",function(e){t.isDragging=!0,t.updateVolumeFromEvent(e);var a=function(e){t.isDragging&&t.updateVolumeFromEvent(e)},n=function(){t.isDragging=!1,i.classList.remove("vjs-slider-active"),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",n)}),a.addEventListener("click",function(e){t.updateVolumeFromEvent(e)})}}},{key:"updateVolumeFromEvent",value:function(t){var e=this.el().querySelector(".vjs-rtl-volume-bar").getBoundingClientRect(),i=(t.clientX-e.left)/e.width;i=Math.max(0,Math.min(1,i)),this.volumeLevel=i,this.player().volume(i),this.saveVolumeState()}},{key:"updateVolumeDisplay",value:function(){var t=this.el().querySelector(".vjs-rtl-volume-level");if(t){var e=100*this.volumeLevel;t.style.width="".concat(e,"%")}}},{key:"updateMuteIcon",value:function(){var t=this.el().querySelector(".vjs-rtl-volume-button"),e=this.el().querySelector(".vjs-button-icon");if(t&&e){var i=this.player();if(i.muted())e.src=k,e.alt="Unmute";else{var a=i.volume();e.src=a<.5?_:C,e.alt="Mute"}}}},{key:"createEl",value:function(){return d.default.dom.createEl("div",{className:"vjs-custom-rtl-volume vjs-volume-panel vjs-control vjs-volume-panel-horizontal"})}}])}(d.default.getComponent("Component"));d.default.registerComponent("CustomRTLVolumeControl",e);var i,a=this.player.controlBar.getChild("Next10Button"),n=this.player.controlBar.getChild("playToggle");i=a?this.player.controlBar.children().indexOf(a)+1:n?this.player.controlBar.children().indexOf(n)+1:1;var l=this.player.controlBar.addChild("CustomRTLVolumeControl",{},i);setTimeout(function(){l&&l.updateMuteIcon&&l.updateMuteIcon()},100)},createPlaylistButton:function(){var t=this,e=d.default.getComponent("Button"),i=T,a=function(t){function e(t,a){var n;Object(r.a)(this,e),(n=p(this,e,[t,a])).addClass("vjs-playlist-button"),n.addClass("vjs-custom-icon-button"),n.controlText("انتخاب فصل و قسمت");var s=document.createElement("img");return s.src=i,s.className="vjs-button-icon",n.el().appendChild(s),n}return Object(u.a)(e,t),Object(s.a)(e,[{key:"handleClick",value:function(){this.player().trigger("playlistButtonClick")}}])}(e);d.default.registerComponent("PlaylistButton",a),this.player.controlBar.addChild("PlaylistButton",{},this.player.controlBar.children().length-1),this.player.on("playlistButtonClick",function(){t.$emit("playlistButtonClick")})},createSkipButtons:function(){if(!this.isMobile){var t=d.default.getComponent("Button"),e=function(t){function e(t,i){var a;Object(r.a)(this,e),(a=p(this,e,[t,i])).addClass("vjs-prev10-button"),a.controlText("10 ثانیه قبل");var n=document.createElement("img");return n.src=S,n.style.width="20px",n.style.height="20px",n.alt="10 seconds back",a.el().appendChild(n),a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"handleClick",value:function(){var t=this.player().currentTime();this.player().currentTime(Math.max(t-10,0))}}])}(t),i=function(t){function e(t,i){var a;Object(r.a)(this,e),(a=p(this,e,[t,i])).addClass("vjs-next10-button"),a.controlText("10 ثانیه بعد");var n=document.createElement("img");return n.src=w,n.style.width="20px",n.style.height="20px",n.alt="10 seconds forward",a.el().appendChild(n),a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"handleClick",value:function(){var t=this.player().currentTime(),e=this.player().duration();this.player().currentTime(Math.min(t+10,e))}}])}(t);d.default.registerComponent("Prev10Button",e),d.default.registerComponent("Next10Button",i);var a=this.player.controlBar.getChild("PlayToggle"),n=this.player.controlBar.children().indexOf(a);this.player.controlBar.addChild("Prev10Button",{},n),this.player.controlBar.addChild("Next10Button",{},n+2)}},setupPlaybackEvents:function(){var t=this;this.player.on("play",function(){t.handlePlayEvent()}),this.player.on("timeupdate",function(){var e=t.player.currentTime(),i=t.player.duration();t.currentTimeFormatted=t.formatTime(e),t.durationFormatted=t.formatTime(i),t.$emit("timeupdate",{currentTime:e,duration:i,player:t.player})}),this.player.on("ended",function(){t.autoPlay&&t.$emit("ended")})},formatTime:function(t){if(!t||isNaN(t))return"00:00";var e=Math.floor(t/3600),i=Math.floor(t%3600/60),a=Math.floor(t%60);return e>0?"".concat(e.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"".concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))},handlePlayEvent:function(){var t=this;!this.viewsIncremented&&this.shouldIncrementViews&&this.videoid&&this.$axios.$post("/nocache/videos/".concat(this.videoid,"/increment-views"),{videotype:this.videotype}).then(function(){t.viewsIncremented=!0}).catch(function(t){}),this.muteOnOtherPlay&&this.$emit("video-played",this.playerid)},customizeQualityLabels:function(){var t=this;this.player.el().querySelector(".vjs-quality-selector")&&new MutationObserver(function(){t.player.el().querySelectorAll(".vjs-quality-selector .vjs-menu-item").forEach(function(t){var e=t.textContent.trim();L[e]&&(t.textContent=L[e])})}).observe(this.player.el(),{childList:!0,subtree:!0})},play:function(){var t;null===(t=this.player)||void 0===t||t.play()},pause:function(){var t;null===(t=this.player)||void 0===t||t.pause()},updateIcon:function(){var t=this.player.controlBar.getChild("AutoPlayButton");null==t||t.updateIcon()},handleKeydown:function(t){var e=this;if(this.player){var i={ArrowLeft:function(){return e.seekBackward()},ArrowRight:function(){return e.seekForward()},ArrowUp:function(){return e.volumeUp()},ArrowDown:function(){return e.volumeDown()}," ":function(){return e.togglePlayPause(t)}}[t.key];i&&i()}},seekBackward:function(){var t=Math.max(this.player.currentTime()-10,0);this.player.currentTime(t)},seekForward:function(){var t=Math.min(this.player.currentTime()+10,this.player.duration());this.player.currentTime(t)},saveVolumeState:function(){if(this.player)try{var t={volume:this.player.volume(),muted:this.player.muted()};localStorage.setItem("".concat(this.playerid,"-volumeState"),JSON.stringify(t))}catch(t){}},restoreVolumeState:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.player)return!1;try{var e=localStorage.getItem("".concat(this.playerid,"-volumeState"));if(!e)return!1;var i=JSON.parse(e);this.savedVolumeState=i;var a=null;try{if(!(a=this.player.el().querySelector("video"))){var n=this.player.tech({IWillNotUseThisInPlugins:!0});n&&n.el_&&(a=n.el_)}!a&&this.player.el_&&(a=this.player.el_)}catch(t){}var r=!1;if("number"==typeof i.volume&&i.volume>=0&&i.volume<=1){var s=this.player.volume();(t||Math.abs(s-i.volume)>.01)&&(this.player.volume(i.volume),a&&"VIDEO"===a.tagName&&(a.volume=i.volume),r=!0)}if("boolean"==typeof i.muted){var l=this.player.muted();(t||l!==i.muted)&&(this.player.muted(i.muted),a&&"VIDEO"===a.tagName&&(a.muted=i.muted),r=!0)}return r}catch(t){return!1}},startVolumeRestoreMonitoring:function(){var t=this;this.volumeRestoreInterval&&clearInterval(this.volumeRestoreInterval);var e=0;this.volumeRestoreInterval=setInterval(function(){if(!t.player||e>=25)return clearInterval(t.volumeRestoreInterval),void(t.volumeRestoreInterval=null);e++,t.restoreVolumeState()&&!t.player.paused()&&e>5&&(clearInterval(t.volumeRestoreInterval),t.volumeRestoreInterval=null)},200)},stopVolumeRestoreMonitoring:function(){this.volumeRestoreInterval&&(clearInterval(this.volumeRestoreInterval),this.volumeRestoreInterval=null)},startVolumeSaveMonitoring:function(){var t=this;this.volumeSaveInterval&&clearInterval(this.volumeSaveInterval),this.volumeSaveInterval=setInterval(function(){if(!t.player)return clearInterval(t.volumeSaveInterval),void(t.volumeSaveInterval=null);t.saveVolumeState()},2e3)},stopVolumeSaveMonitoring:function(){this.volumeSaveInterval&&(clearInterval(this.volumeSaveInterval),this.volumeSaveInterval=null)},volumeUp:function(){var t=Math.min(this.player.volume()+.1,1);this.player.volume(t),this.saveVolumeState()},volumeDown:function(){var t=Math.max(this.player.volume()-.1,0);this.player.volume(t),this.saveVolumeState()},togglePlayPause:function(t){t.preventDefault(),this.player.paused()?this.player.play():this.player.pause()},createRuntimeDisplay:function(){var t=function(t){function e(){return Object(r.a)(this,e),p(this,e,arguments)}return Object(u.a)(e,t),Object(s.a)(e,[{key:"updateText",value:function(){var t=this.player().currentTime(),e=this.player().duration(),i=function(t){if(!t||isNaN(t))return"00:00";var e=Math.floor(t/3600),i=Math.floor(t%3600/60),a=Math.floor(t%60);return e>0?"".concat(e.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")):"".concat(i.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))},a=i(t),n=i(e);this.el().innerHTML="".concat(a," / ").concat(n)}}])}(d.default.getComponent("Component"));d.default.registerComponent("RuntimeDisplay",t);var e,i=this.player.controlBar,a=i.getChild("volumePanel"),n=i.getChild("fullscreenToggle");e=a?i.children().indexOf(a)+1:n?i.children().indexOf(n):i.children().length-2,i.addChild("RuntimeDisplay",{},e)},setupCreditsSkip:function(){var t=this;this.creditCheckInterval&&clearInterval(this.creditCheckInterval),this.creditCheckInterval=setInterval(function(){t.checkCreditsPosition()},1e3),this.player.on("dispose",function(){t.creditCheckInterval&&clearInterval(t.creditCheckInterval)})},checkCreditsPosition:function(){if(this.player&&!this.player.paused()){var t=this.player.currentTime();this.isInFirstCredits(t)?(this.showSkipCredits=!0,this.currentCreditType="first_credits",this.skipButtonText="رد کردن تیتراژ"):(this.showSkipCredits=!1,this.currentCreditType=null)}},isInFirstCredits:function(t){var e=this.creditsData,i=e.first_credits,a=e.after_credits;return i>=0&&t>i&&t<a},isInFinalCredits:function(t,e){var i=this.creditsData.final_credits;return t>=(i>0?i:.9*e)&&e>0},skipCredits:function(){var t=this;if(this.player){var e={first_credits:function(){t.player.currentTime(t.creditsData.after_credits||60)},final_credits:function(){var e=t.player.duration();t.player.currentTime(e-1),t.$emit("credits-skipped","final_credits")}}[this.currentCreditType];e&&e(),this.showSkipCredits=!1,this.currentCreditType=null}},setupAutoHideControls:function(){var t=this;if(this.player){var e=null,i=function(){if(!t.player.paused()){t.player.userActive(!1);var e=document.querySelector(".video-title-bottom"),i=document.querySelector(".video-timer-bottom"),a=document.querySelector(".skip-credits-btn"),n=document.querySelector(".back-button"),r=document.querySelector(".site-logo"),s=document.querySelector(".vjs-control-bar");e&&(e.style.opacity="0"),i&&(i.style.opacity="0"),a&&(a.style.opacity="0"),n&&(n.style.opacity="0"),r&&(r.style.opacity="0"),s&&s.style.setProperty("opacity","0","important")}},a=function(){t.player.userActive(!0);var e=document.querySelector(".video-title-bottom"),i=document.querySelector(".video-timer-bottom"),a=document.querySelector(".skip-credits-btn"),n=document.querySelector(".back-button"),r=document.querySelector(".site-logo"),s=document.querySelector(".vjs-control-bar");e&&(e.style.opacity="1"),i&&(i.style.opacity="1"),a&&(a.style.opacity="1"),n&&(n.style.opacity="1"),r&&(r.style.opacity="1"),s&&s.style.setProperty("opacity","1","important")},n=function(){clearTimeout(e),a(),t.player.paused()||(e=setTimeout(i,3e3))},r=this.player.el();r.addEventListener("mousemove",n),r.addEventListener("touchstart",n,{passive:!1}),r.addEventListener("touchmove",n,{passive:!1}),r.addEventListener("touchend",n,{passive:!1}),r.addEventListener("click",n);var s=r.querySelector(".vjs-control-bar");s&&(s.addEventListener("touchstart",n,{passive:!1}),s.addEventListener("touchmove",n,{passive:!1}),s.addEventListener("touchend",n,{passive:!1})),this.player.on("pause",function(){clearTimeout(e),a()}),this.player.on("play",n),this.player.on("playing",n),this.player.on("dispose",function(){clearTimeout(e)}),this.player.paused()||n()}},setupPlayerEvents:function(){var t=this;this.player.ready(function(){if(t.restoreVolumeState(!0),t.setupAdEvents(),t.setupTextTracks(),t.setupCustomButtons(),t.setupPlaybackEvents(),t.setupCreditsSkip(),t.applySubtitleStyles(),t.setupProgressBarPreview(),t.currentPlaybackRate=t.player.playbackRate(),t.initializeSubtitleState(),t.initializeAudioState(),t.player.on("volumechange",function(){t.saveVolumeState()}),t.startVolumeRestoreMonitoring(),t.startVolumeSaveMonitoring(),t.player.on("loadedmetadata",function(){setTimeout(function(){t.restoreVolumeState(!0)},100)}),t.player.on("playing",function(){setTimeout(function(){t.restoreVolumeState(!0)},50)}),t.detectActualAudioTrack(),t.setupFullscreenCustomOverlays(),t.setupAutoHideControls(),"fa"===t.$i18n.locale){var e,i=null===(e=t.player.controlBar)||void 0===e||null===(e=e.getChild("volumePanel"))||void 0===e||null===(e=e.volumeControl)||void 0===e?void 0:e.volumeBar;if(i){var a=i.handleMouseMove;i.handleMouseMove=function(t){if(t){var e=this.el_.getBoundingClientRect(),i=t.clientX-e.left,n=e.width-i,r=new MouseEvent(t.type,{clientX:e.left+n,clientY:t.clientY,bubbles:!0});return a.call(this,r)}return a.call(this,t)}}}if(!(!t.playerAutoPlay||!1===t.autoPlay)){var n=null;try{var r=localStorage.getItem("".concat(t.playerid,"-volumeState"));if(r){var s=JSON.parse(r);n=s.muted}}catch(t){}var l=t.player.play();l&&"function"==typeof l.then&&l.catch(function(){if(null===n||!0===n)try{t.player.muted(!0),t.player.play().catch(function(){}),null===n&&t.saveVolumeState()}catch(t){}})}})},setupFullscreenCustomOverlays:function(){var t=this;if(this.player){var e=this.player.el(),i=function(){var i=document.getElementById("".concat(t.playerid,"-skip-credits")),a=document.getElementById("".concat(t.playerid,"-title")),n=document.getElementById("".concat(t.playerid,"-timer"));i&&!e.contains(i)&&e.appendChild(i),a&&!e.contains(a)&&e.appendChild(a),n&&!e.contains(n)&&e.appendChild(n),t.moveDrawerToPlayer()};this.player.on("fullscreenchange",function(){var a,n,r,s,l;t.player.isFullscreen()?i():(a=e.parentElement,n=document.getElementById("".concat(t.playerid,"-skip-credits")),r=document.getElementById("".concat(t.playerid,"-title")),s=document.getElementById("".concat(t.playerid,"-timer")),l=document.getElementById("".concat(t.playerid,"-settings-drawer")),n&&e.contains(n)&&a.appendChild(n),r&&e.contains(r)&&a.appendChild(r),s&&e.contains(s)&&a.appendChild(s),l&&e.contains(l)&&a.appendChild(l))}),setTimeout(function(){i()},100)}},moveDrawerToPlayer:function(){if(this.player){var t=this.player.el(),e=this.$refs.settingsDrawer;e||(e=document.getElementById("".concat(this.playerid,"-settings-drawer"))),e&&!t.contains(e)&&t.appendChild(e)}},initializeSubtitleState:function(){if(this.player){for(var t=this.player.textTracks(),e=!1,i=0;i<t.length;i++)if("showing"===t[i].mode){this.currentSubtitle=i,e=!0;break}e||(this.currentSubtitle=null)}},detectActualAudioTrack:function(){var t=this;this.player&&this.player.on("loadedmetadata",function(){try{var e=t.player.tech({IWillNotUseThisInPlugins:!0});if(e&&e.vhs){var i=e.audioTracks();if(i&&i.length>0)for(var a=0;a<i.length;a++)if(i[a].enabled){var n=(i[a].label||i[a].language||"").toLowerCase(),r=null;n.includes("fa")||n.includes("farsi")||n.includes("persian")?r="FA":(n.includes("en")||n.includes("english"))&&(r="EN"),!r||t.currentAudioLang&&t.currentAudioLang===r||(t.currentAudioLang=r,t.syncSubtitlesWithAudio());break}}}catch(t){}})},syncSubtitlesWithAudio:function(){if(this.player&&this.tracks&&0!==this.tracks.length){for(var t=this.player.textTracks(),e=-1,i=0;i<this.tracks.length;i++){var a=this.tracks[i],n=(a.language||a.label||"").toString().toLowerCase();if("fa"===n||"farsi"===n||n.includes("fa")){e=i;break}}if(this.currentAudioLang&&"fa"===this.currentAudioLang.toString().toLowerCase()){for(var r=0;r<t.length;r++)t[r].mode="disabled";this.currentSubtitle=null}else if(this.currentAudioLang&&-1!==e){for(var s=0;s<t.length;s++)t[s].mode=s===e?"showing":"disabled";this.currentSubtitle=e}}},parseAudioOptionsFromStream:function(t){try{if(!t)return void(this.audioOptions=null);var e,i=new URL(t,window.location.origin),a=new URLSearchParams(i.search),r=[],s=m(a.entries());try{for(s.s();!(e=s.n()).done;){var l=Object(n.a)(e.value,2),o=l[0],u=l[1],c=o.match(/^audio\[(.+)\]$/);if(c){var d=c[1],v=B[d.toLowerCase()]||d;"fa"===d.toLowerCase()||"FA"===d?v="دوبله":"en"!==d.toLowerCase()&&"EN"!==d||(v="زبان اصلی"),r.push({lang:d,token:u,label:v})}}}catch(t){s.e(t)}finally{s.f()}this.audioOptions=r.length?r:null}catch(t){this.audioOptions=null}},buildStreamWithAudio:function(t,e){try{if(!t)return t;for(var i=new URL(t,window.location.origin),a=new URLSearchParams(i.search),n=0,r=Array.from(a.keys());n<r.length;n++){var s=r[n];/^audio\[.+\]$/.test(s)&&a.delete(s)}if(e){var l,o=null===(l=this.audioOptions)||void 0===l?void 0:l.find(function(t){return t.lang===e});o&&a.set("audio[".concat(o.lang,"]"),o.token)}return i.search=a.toString(),i.toString()}catch(e){return t}},initializeAudioState:function(){},openAudioSettings:function(){this.settingsDrawerView="audio"},getAudioLabelDisplay:function(){var t=this;if(!this.audioOptions)return"پیش‌فرض";if(!this.currentAudioLang)return"پیش‌فرض";var e=this.audioOptions.find(function(e){return e.lang===t.currentAudioLang});return e?e.label:"پیش‌فرض"},selectAudio:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.player){this.currentAudioLang=t;try{t?localStorage.setItem("".concat(this.playerid,"-audioLang"),t):localStorage.removeItem("".concat(this.playerid,"-audioLang"))}catch(t){}try{var a=this.stream,n=this.buildStreamWithAudio(a,t);this.currentStream=n;var r=this.player.currentTime(),s=!this.player.paused();this.player.pause(),this.player.src({src:n,type:"application/x-mpegURL"}),this.player.one("loadedmetadata",function(){try{if(!isNaN(r)&&r>0){var t=e.player.duration();(!t||r<=t)&&e.player.currentTime(r)}}catch(t){}try{e.setupTextTracks(!0)}catch(t){}s&&e.player.play().catch(function(){})})}catch(t){}i.preserveDrawer||this.closeSettingsDrawer()}else this.currentAudioLang=t},openSubtitleStyleSettings:function(){this.settingsDrawerView="subtitle-style"},backToSubtitleSettings:function(){this.settingsDrawerView="subtitle"},updateSubtitleStyle:function(t,e){this.subtitleStyle[t]=e,this.applySubtitleStyles()},handleSubtitleFontInput:function(t){var e,i=Number(null==t||null===(e=t.target)||void 0===e?void 0:e.value);if(!Number.isNaN(i)){var a=this.clampSubtitleFontSize(i);this.updateSubtitleFontSize(a),t&&t.target&&(t.target.value=a)}},adjustSubtitleFontSize:function(t){"number"==typeof t&&this.updateSubtitleFontSize(this.subtitleFontSizePx+t)},updateSubtitleFontSize:function(t){var e=this.clampSubtitleFontSize(t);this.updateSubtitleStyle("fontSize",e)},clampSubtitleFontSize:function(t){var e=Number(t);return Number.isNaN(e)?24:Math.min(this.subtitleFontMax,Math.max(this.subtitleFontMin,Math.round(e)))},resolveSubtitleFontPx:function(t){if("number"==typeof t)return t;return{small:20,medium:24,large:28,"x-large":32}[t]||24},applySubtitleStyles:function(){if(this.player){var t=this.player.el().querySelector(".vjs-text-track-display");if(t){var e="".concat(this.subtitleFontSizePx,"px");t.style.cssText+="font-size: ".concat(e," !important;"),this.updateExistingCues(),this.setupCueObserver(),this.injectSubtitleStyles()}}},setupCueObserver:function(){var t=this,e=this.player.el().querySelector(".vjs-text-track-display");e&&(this.cueObserver&&this.cueObserver.disconnect(),this.cueObserver=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){e.classList&&e.classList.contains("vjs-text-track-cue")&&t.applyCueStyles(e)})})}),this.cueObserver.observe(e,{childList:!0,subtree:!0}))},updateExistingCues:function(){var t=this,e=this.player.el().querySelector(".vjs-text-track-display");e&&e.querySelectorAll(".vjs-text-track-cue").forEach(function(e){t.applyCueStyles(e)})},applyCueStyles:function(t){var e=t.querySelector("div");if(e){var i="".concat(this.subtitleFontSizePx,"px"),a="\n    font-size: ".concat(i," !important;\n    color: ").concat(this.subtitleStyle.color," !important;\n    background-color: rgba(0, 0, 0, ").concat(this.subtitleStyle.background,") !important;\n    padding: ").concat(this.subtitleStyle.background>0?"4px 8px":"0",' !important;\n    border-radius: 4px !important;\n    font-family: Arial, "Segoe UI", Tahoma, sans-serif !important;\n    font-weight: bold !important;\n    line-height: 1.4 !important;\n  '),n={none:"none",light:"0 1px 2px rgba(0,0,0,0.8) !important",medium:"0 2px 4px rgba(0,0,0,0.8) !important",heavy:"0 3px 6px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.9) !important"}[this.subtitleStyle.shadow]||"none";e.style.cssText+=a+"text-shadow: ".concat(n,";"),t.style.cssText+="font-size: ".concat(i," !important;")}},injectSubtitleStyles:function(){var t=document.getElementById("custom-subtitle-styles");t&&t.remove();var e=document.createElement("style");e.id="custom-subtitle-styles";var i="".concat(this.subtitleFontSizePx,"px"),a={none:"none",light:"0 1px 2px rgba(0,0,0,0.8)",medium:"0 2px 4px rgba(0,0,0,0.8)",heavy:"0 3px 6px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.9)"}[this.subtitleStyle.shadow]||"none";e.textContent="\n    .vjs-text-track-display {\n      font-size: ".concat(i," !important;\n    }\n    .vjs-text-track-cue {\n      font-size: ").concat(i," !important;\n    }\n    .vjs-text-track-cue div {\n      font-size: ").concat(i," !important;\n      color: ").concat(this.subtitleStyle.color," !important;\n      background-color: rgba(0, 0, 0, ").concat(this.subtitleStyle.background,") !important;\n      padding: ").concat(this.subtitleStyle.background>0?"4px 8px":"0",' !important;\n      border-radius: 4px !important;\n      font-family: Arial, "Segoe UI", Tahoma, sans-serif !important;\n      font-weight: bold !important;\n      text-shadow: ').concat(a," !important;\n      line-height: 1.4 !important;\n    }\n  "),document.head.appendChild(e)},resetSubtitleStyles:function(){this.subtitleStyle={fontSize:24,color:"#ffffff",background:.8,shadow:"medium"},this.applySubtitleStyles()},setupProgressBarPreview:function(){var t=this;if(this.player){var e=this.player.controlBar.getChild("progressControl");e&&(this.progressBarElement=e.el(),this.progressBarElement.addEventListener("mouseenter",this.handleProgressBarEnter),this.progressBarElement.addEventListener("mousemove",this.handleProgressBarMove),this.progressBarElement.addEventListener("mouseleave",this.handleProgressBarLeave),this.player.on("dispose",function(){t.progressBarElement&&(t.progressBarElement.removeEventListener("mouseenter",t.handleProgressBarEnter),t.progressBarElement.removeEventListener("mousemove",t.handleProgressBarMove),t.progressBarElement.removeEventListener("mouseleave",t.handleProgressBarLeave))}))}},handleProgressBarEnter:function(){this.showProgressPreview=!0,this.lastPreviewTime=-1},handleProgressBarMove:function(t){if(this.player&&this.progressBarElement){var e=this.progressBarElement.getBoundingClientRect(),i=this.player.duration();if(i&&!isNaN(i)){var a=t.clientX-e.left,n=Math.max(0,Math.min(1,a/e.width))*i,r=Math.round(n);this.previewTime=this.formatTime(r);var s=t.clientX-e.left-80;s=Math.max(10,Math.min(s,e.width-160-10)),this.previewPosition.x=s+14}}},handleProgressBarLeave:function(){this.showProgressPreview=!1},generateThumbnailPreview:function(t){if(this.player&&this.$refs.previewCanvas){var e=this.$refs.previewCanvas,i=e.getContext("2d"),a=this.player.el().querySelector("video");if(a)try{var n=document.createElement("video");n.src=a.src||a.currentSrc,n.crossOrigin="anonymous",n.muted=!0,n.currentTime=t,n.addEventListener("loadeddata",function(){i.drawImage(n,0,0,e.width,e.height),n.remove()}),n.addEventListener("error",function(){i.fillStyle="#1a1a1a",i.fillRect(0,0,e.width,e.height),i.fillStyle="#ffffff",i.font="14px Arial",i.textAlign="center",i.fillText("پیش‌نمایش",e.width/2,e.height/2),n.remove()})}catch(t){i.fillStyle="#1a1a1a",i.fillRect(0,0,e.width,e.height),i.fillStyle="#ffffff",i.font="14px Arial",i.textAlign="center",i.fillText("پیش‌نمایش",e.width/2,e.height/2)}}}})},j=I,E=(i(1006),i(32)),A=Object(E.a)(j,function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative"}},[!t.stream&&t.posterUrl?e("div",{staticClass:"video-placeholder",style:{backgroundImage:"url(".concat(t.posterUrl,")")}},[t.title?e("div",{staticClass:"video-title-overlay"},[t._v("\n      "+t._s(t.displayTitle)+"\n    ")]):t._e()]):e("video",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],ref:t.playerid,staticClass:"video-js vjs-default-skin vjs-theme-fantasy vjs-big-play-centered vjs-16-9",staticStyle:{width:"100%",height:"100%","border-radius":"0.375rem"},attrs:{id:t.playerid,controls:"",preload:"auto",playsinline:"","webkit-playsinline":"","x5-playsinline":"","data-poster":t.posterUrl}}),t._v(" "),t.showSkipCredits&&t.stream&&t.showSkipCreditsButton?e("button",{staticClass:"skip-credits-btn",attrs:{id:"".concat(t.playerid,"-skip-credits")},on:{click:t.skipCredits}},[t._v("\n    "+t._s(t.skipButtonText)+"\n    "),t._m(0)]):t._e(),t._v(" "),t.title&&t.stream?e("div",{staticClass:"video-title-bottom",attrs:{id:"".concat(t.playerid,"-title")}},[t._v("\n    "+t._s(t.displayTitle)+"\n  ")]):t._e(),t._v(" "),t.stream?e("div",{staticClass:"video-timer-bottom",attrs:{id:"".concat(t.playerid,"-timer")}},[t._v("\n    "+t._s(t.currentTimeFormatted)+" / "+t._s(t.durationFormatted)+"\n  ")]):t._e(),t._v(" "),t.stream&&t.showProgressPreview?e("div",{ref:"progressPreview",staticClass:"progress-preview-popover",style:{left:t.previewPosition.x+"px"},attrs:{id:"".concat(t.playerid,"-progress-preview")}},[e("div",{staticClass:"preview-thumbnail"},[e("canvas",{ref:"previewCanvas",attrs:{width:"160",height:"90"}})]),t._v(" "),e("div",{staticClass:"preview-time"},[t._v(t._s(t.previewTime))])]):t._e(),t._v(" "),e("button",{attrs:{id:"vast-cta-btn"}},[t._v("اطلاعات بیشتر")]),t._v(" "),t.fullrateData&&t.contentId&&t.contentType?e("SubscriptionButton",{attrs:{"fullrate-data":t.fullrateData,"content-id":t.contentId,"content-type":t.contentType},on:{"subscription-click":t.handleSubscriptionClick}}):t._e(),t._v(" "),t.showSettingsDrawer?e("div",{ref:"settingsDrawer",staticClass:"settings-drawer-overlay",attrs:{id:"".concat(t.playerid,"-settings-drawer")},on:{click:t.closeSettingsDrawer}},[e("div",{staticClass:"settings-drawer",class:{"mobile-drawer":t.isMobile},on:{click:function(t){t.stopPropagation()}}},["main"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[t._m(1),t._v(" "),e("div",{staticClass:"drawer-body"},[e("div",{staticClass:"drawer-item",on:{click:t.openSpeedSettings}},[t._m(2),t._v(" "),e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("سرعت پخش")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v(t._s(t.getSpeedLabel()))])]),t._v(" "),t._m(3)]),t._v(" "),t.tracks&&t.tracks.length>0?e("div",{staticClass:"drawer-item",on:{click:t.openSubtitleSettings}},[t._m(4),t._v(" "),e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("زیرنویس")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v(t._s(t.getSubtitleLabel()))])]),t._v(" "),t._m(5)]):t._e(),t._v(" "),e("div",{staticClass:"drawer-item",on:{click:t.openQualitySettings}},[t._m(6),t._v(" "),e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("کیفیت")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v(t._s(t.getQualityLabel()))])]),t._v(" "),t._m(7)]),t._v(" "),t.audioOptions&&t.audioOptions.length>0?e("div",{staticClass:"drawer-item",on:{click:t.openAudioSettings}},[t._m(8),t._v(" "),e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("صدا")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v("\n                "+t._s(t.getAudioLabelDisplay())+"\n              ")])]),t._v(" "),t._m(9)]):t._e()])]):t._e(),t._v(" "),"subtitle-style"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToSubtitleSettings}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("تنظیمات ظاهر زیرنویس")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body px-4"},[e("div",{staticClass:"subtitle-style-group"},[e("label",{staticClass:"subtitle-style-label"},[t._v("اندازه فونت")]),t._v(" "),t.isUltraWideScreen?e("div",{staticClass:"subtitle-font-custom-control"},[e("button",{staticClass:"subtitle-font-btn",attrs:{type:"button",disabled:t.subtitleFontSizePx<=t.subtitleFontMin},on:{click:function(e){return t.adjustSubtitleFontSize(-t.subtitleFontStep)}}},[e("i",{staticClass:"fa fa-minus"})]),t._v(" "),e("input",{staticClass:"subtitle-font-input",attrs:{type:"number",min:t.subtitleFontMin,max:t.subtitleFontMax,step:t.subtitleFontStep},domProps:{value:t.subtitleFontSizePx},on:{input:function(e){return t.handleSubtitleFontInput(e)}}}),t._v(" "),e("span",{staticClass:"subtitle-font-unit"},[t._v("px")]),t._v(" "),e("button",{staticClass:"subtitle-font-btn",attrs:{type:"button",disabled:t.subtitleFontSizePx>=t.subtitleFontMax},on:{click:function(e){return t.adjustSubtitleFontSize(t.subtitleFontStep)}}},[e("i",{staticClass:"fa fa-plus"})])]):e("div",{staticClass:"subtitle-style-options"},t._l(t.FONT_SIZES,function(i){return e("div",{key:i.value,staticClass:"subtitle-style-option",class:{active:t.subtitleStyle.fontSize===i.value},on:{click:function(e){return t.updateSubtitleStyle("fontSize",i.value)}}},[t._v("\n                "+t._s(i.label)+"\n              ")])}),0)]),t._v(" "),e("div",{staticClass:"subtitle-style-group"},[e("label",{staticClass:"subtitle-style-label"},[t._v("رنگ متن")]),t._v(" "),e("div",{staticClass:"subtitle-style-options"},t._l(t.TEXT_COLORS,function(i){return e("div",{key:i.value,staticClass:"subtitle-style-option color-option",class:Object(a.a)({active:t.subtitleStyle.color===i.value},i.class,!0),on:{click:function(e){return t.updateSubtitleStyle("color",i.value)}}},[e("div",{staticClass:"color-preview",style:{backgroundColor:i.value}}),t._v(" "),e("span",[t._v(t._s(i.label))])])}),0)]),t._v(" "),e("div",{staticClass:"subtitle-style-group"},[e("label",{staticClass:"subtitle-style-label"},[t._v("پس‌زمینه")]),t._v(" "),e("div",{staticClass:"subtitle-style-options"},t._l(t.BACKGROUND_OPACITIES,function(i){return e("div",{key:i.value,staticClass:"subtitle-style-option",class:{active:t.subtitleStyle.background===i.value},on:{click:function(e){return t.updateSubtitleStyle("background",i.value)}}},[e("div",{staticClass:"bg-preview",style:{opacity:i.value}}),t._v(" "),e("span",[t._v(t._s(i.label))])])}),0)]),t._v(" "),e("div",{staticClass:"subtitle-style-group"},[e("label",{staticClass:"subtitle-style-label"},[t._v("سایه متن")]),t._v(" "),e("div",{staticClass:"subtitle-style-options"},t._l(t.TEXT_SHADOWS,function(i){return e("div",{key:i.value,staticClass:"subtitle-style-option",class:{active:t.subtitleStyle.shadow===i.value},on:{click:function(e){return t.updateSubtitleStyle("shadow",i.value)}}},[t._v("\n                "+t._s(i.label)+"\n              ")])}),0)]),t._v(" "),e("div",{staticClass:"subtitle-style-actions"},[e("button",{staticClass:"reset-default-btn",on:{click:t.resetSubtitleStyles}},[t._v("\n              بازنشانی به پیش‌فرض\n            ")])])])]):t._e(),t._v(" "),"speed"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToMain}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("سرعت پخش")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body"},t._l(t.PLAYBACK_RATES,function(i){return e("div",{key:i.value,staticClass:"drawer-option",class:{active:t.isSpeedActive(i.value)},on:{click:function(e){return t.selectSpeed(i.value)}}},[e("div",{staticClass:"drawer-option-radio"},[t.isSpeedActive(i.value)?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v(t._s(i.label))])])}),0)]):t._e(),t._v(" "),"subtitle"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToMain}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("زیرنویس")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body"},[e("div",{staticClass:"drawer-option",class:{active:null===t.currentSubtitle},on:{click:function(e){return t.selectSubtitle(null)}}},[e("div",{staticClass:"drawer-option-radio"},[null===t.currentSubtitle?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v("خاموش")])]),t._v(" "),t._l(t.getSubtitleTracks(),function(i,a){return e("div",{key:a,staticClass:"drawer-option",class:{active:t.currentSubtitle===a},on:{click:function(e){return t.selectSubtitle(a)}}},[e("div",{staticClass:"drawer-option-radio"},[t.currentSubtitle===a?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v(t._s(i.label))])])}),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-item",on:{click:t.openSubtitleStyleSettings}},[t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12)])],2)]):t._e(),t._v(" "),"audio"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToMain}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("صدا")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body"},[e("div",{staticClass:"drawer-option",class:{active:null===t.currentAudioLang},on:{click:function(e){return t.selectAudio(null)}}},[e("div",{staticClass:"drawer-option-radio"},[null===t.currentAudioLang?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v("پیش‌فرض")])]),t._v(" "),t._l(t.audioOptions,function(i){return e("div",{key:i.lang,staticClass:"drawer-option",class:{active:t.currentAudioLang===i.lang},on:{click:function(e){return t.selectAudio(i.lang)}}},[e("div",{staticClass:"drawer-option-radio"},[t.currentAudioLang===i.lang?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v(t._s(i.label))])])})],2)]):t._e(),t._v(" "),"quality"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToMain}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("کیفیت")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body"},t._l(t.getAvailableQualities(),function(i){return e("div",{key:i.value,staticClass:"drawer-option",class:{active:t.isQualityActive(i.value)},on:{click:function(e){return t.selectQuality(i.value)}}},[e("div",{staticClass:"drawer-option-radio"},[t.isQualityActive(i.value)?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v(t._s(i.label))])])}),0)]):t._e()])]):t._e()],1)},[function(){var t=this._self._c;return t("span",{staticClass:"skip-icon"},[t("i",{staticClass:"fa fa-forward"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-header"},[t("h3",[this._v("تنظیمات")])])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-clock"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-closed-captioning"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-video"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-headphones"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-cog"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("تنظیمات زیرنویس")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v("سایز، رنگ، پس‌زمینه")])])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])}],!1,null,"bf1cc6c2",null);e.default=A.exports},777:function(t,e,i){t.exports={}},825:function(t,e,i){"use strict";i(777)},869:function(t,e,i){t.exports={}},916:function(t,e,i){"use strict";i.r(e);i(142),i(97);var a={name:"SubscriptionButton",props:{fullrateData:{type:Object,default:function(){return{rate:.5,show_subscription:0,fa:{title:"نیم بها",alternative:"نیم بها"},en:{title:"Half-priced",alternative:"Half-priced"}}}},contentId:{type:[String,Number],required:!0},contentType:{type:String,required:!0}},data:function(){return{isVisible:!0,hideTimer:null}},computed:{shouldShow:function(){return this.fullrateData&&1===this.fullrateData.show_subscription},showHalfPriceLabel:function(){return 1===this.fullrateData.rate},buttonText:function(){return"fa"===this.$i18n.locale?"خرید اشتراک":"Buy Subscription"},usageVolumeText:function(){var t,e;return"fa"===this.$i18n.locale?"حجم مصرفی: ".concat((null===(e=this.fullrateData.fa)||void 0===e?void 0:e.title)||"نیم بها"):"Usage Volume: ".concat((null===(t=this.fullrateData.en)||void 0===t?void 0:t.title)||"Half-priced")}},mounted:function(){var t=this;this.hideTimer=setTimeout(function(){t.isVisible=!1},1e4)},beforeDestroy:function(){this.hideTimer&&clearTimeout(this.hideTimer)},methods:{handleSubscriptionClick:function(){this.$emit("subscription-click",{id:this.contentId,type:this.contentType})}}},n=(i(825),i(32)),r=Object(n.a)(a,function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.isVisible&&t.shouldShow?e("button",{staticClass:"subscription-floating-button",on:{click:t.handleSubscriptionClick}},[e("i",{staticClass:"fa fa-money-bill"}),t._v(" "),e("span",{staticClass:"button-text"},[t._v("\n      "+t._s(t.buttonText)+"\n      "),t.showHalfPriceLabel?e("span",{staticClass:"half-price-label"},[t._v("\n        ("+t._s(t.usageVolumeText)+")\n      ")]):t._e()])]):t._e()])},[],!1,null,"5e5fcf10",null);e.default=r.exports},991:function(t,e){}}]);