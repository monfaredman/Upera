(window.webpackJsonp=window.webpackJsonp||[]).push([[63,52,53],{1001:function(t,e,n){"use strict";n(921)},1079:function(t,e,n){"use strict";n.r(e);var l=n(937),r=n(756),o={name:"GalleryTab",components:{ImageGrid:l.default,LightGallery:r.default},props:{data:{type:Object,default:function(){return{item:{}}}},lightImages:{type:Array,default:function(){return[]}},imagesLoading:{type:Boolean,default:!1}},data:function(){return{galleryIndex:null}},methods:{handleTabClick:function(){0===this.lightImages.length&&this.$emit("load-images")}}},c=(n(1001),n(28)),component=Object(c.a)(o,function(){var t=this,e=t._self._c;return e("b-tab",{attrs:{dir:"ltr"},on:{click:t.handleTabClick},scopedSlots:t._u([{key:"title",fn:function(){return[t.imagesLoading?e("b-spinner",{staticClass:"mb-1 ml-1",attrs:{type:"border",small:""}}):t._e(),t._v("\n    گالری\n  ")]},proxy:!0}])},[t._v(" "),t.lightImages.length>=1?e("div",[e("LightGallery",{attrs:{index:t.galleryIndex,images:t.lightImages},on:{close:function(e){t.galleryIndex=null}}}),t._v(" "),e("ImageGrid",{attrs:{images:t.lightImages,"item-name":t.data.item.name_fa},on:{"image-click":function(e){t.galleryIndex=e}}})],1):t.imagesLoading?t._e():e("div",{staticClass:"no-content-message"},[e("div",{staticClass:"text-center py-5"},[e("i",{staticClass:"fas fa-images fa-3x mb-3 text-muted"}),t._v(" "),e("p",{staticClass:"text-muted"},[t._v("محتوایی برای نمایش وجود ندارد")])])])])},[],!1,null,"13399852",null);e.default=component.exports},714:function(t,e,n){t.exports={}},715:function(t,e,n){t.exports={}},736:function(t,e,n){"use strict";n(714)},737:function(t,e,n){"use strict";n(715)},756:function(t,e,n){"use strict";n.r(e);n(67),n(136),n(29),n(94),n(41),n(166);var l={name:"LightGallery",props:{index:{type:Number,default:null},images:{type:Array,required:!0,default:function(){return[]}}},emits:["close"],data:function(){return{currentIndex:this.index,thumbnailScrollPosition:0,thumbnailItemWidth:120,visibleThumbnails:6}},computed:{currentImage:function(){return this.images[this.currentIndex]||""},swiperStyle:function(){return{transform:"translateX(".concat(this.thumbnailScrollPosition,"px)")}},canScrollLeft:function(){return this.thumbnailScrollPosition<0},canScrollRight:function(){var t=-(this.images.length-this.visibleThumbnails)*this.thumbnailItemWidth;return this.thumbnailScrollPosition>t&&this.images.length>this.visibleThumbnails}},watch:{index:function(t){this.currentIndex=t,this.centerThumbnail(t),null!==t?(document.body.style.overflow="hidden",document.body.classList.add("gallery-preview-mode"),window.location.hash.includes("preview")||window.history.pushState(null,"",window.location.pathname+window.location.search+"#preview")):(document.body.style.overflow="",document.body.classList.remove("gallery-preview-mode"),window.location.hash.includes("preview")&&window.history.pushState(null,"",window.location.pathname+window.location.search))},currentIndex:function(t){this.centerThumbnail(t)}},mounted:function(){null!==this.index&&(document.body.style.overflow="hidden",document.body.classList.add("gallery-preview-mode"),window.location.hash.includes("preview")||window.history.pushState(null,"",window.location.pathname+window.location.search+"#preview")),document.addEventListener("keydown",this.handleKeydown),this.centerThumbnail(this.currentIndex),this.updateVisibleThumbnails(),window.addEventListener("resize",this.updateVisibleThumbnails),window.addEventListener("hashchange",this.handleHashChange)},beforeDestroy:function(){document.removeEventListener("keydown",this.handleKeydown),document.body.style.overflow="",document.body.classList.remove("gallery-preview-mode"),window.removeEventListener("resize",this.updateVisibleThumbnails),window.removeEventListener("hashchange",this.handleHashChange),window.location.hash.includes("preview")&&window.history.pushState(null,"",window.location.pathname+window.location.search)},methods:{handleHashChange:function(){window.location.hash.includes("preview")||null===this.index||this.closeGallery()},closeGallery:function(){this.$emit("close")},nextImage:function(){this.currentIndex<this.images.length-1&&this.currentIndex++},prevImage:function(){this.currentIndex>0&&this.currentIndex--},goToImage:function(t){this.currentIndex=t},getThumbnailUrl:function(t){return t.replace("w=1920&h=1200","w=200&h=150")},centerThumbnail:function(t){var e=this.visibleThumbnails*this.thumbnailItemWidth,n=-(t*this.thumbnailItemWidth)+(e/2-this.thumbnailItemWidth/2),l=-(this.images.length-this.visibleThumbnails)*this.thumbnailItemWidth;n=Math.min(0,Math.max(l,n)),this.thumbnailScrollPosition=n},scrollThumbnails:function(t){var e=3*this.thumbnailItemWidth;if("left"===t)this.thumbnailScrollPosition=Math.min(0,this.thumbnailScrollPosition+e);else{var n=-(this.images.length-this.visibleThumbnails)*this.thumbnailItemWidth;this.thumbnailScrollPosition=Math.max(n,this.thumbnailScrollPosition-e)}},updateVisibleThumbnails:function(){var t=window.innerWidth;t<480?(this.visibleThumbnails=3,this.thumbnailItemWidth=90):t<768?(this.visibleThumbnails=4,this.thumbnailItemWidth=100):t<1024?(this.visibleThumbnails=5,this.thumbnailItemWidth=110):(this.visibleThumbnails=6,this.thumbnailItemWidth=120),this.centerThumbnail(this.currentIndex)},handleKeydown:function(t){switch(t.key){case"Escape":this.closeGallery();break;case"ArrowRight":this.nextImage();break;case"ArrowLeft":this.prevImage()}}}},r=(n(736),n(737),n(28)),component=Object(r.a)(l,function(){var t=this,e=t._self._c;return null!==t.index?e("div",{staticClass:"light-gallery-modal"},[e("div",{staticClass:"gallery-overlay",on:{click:t.closeGallery}}),t._v(" "),e("div",{staticClass:"gallery-container"},[e("button",{staticClass:"gallery-close",attrs:{"aria-label":"Close"},on:{click:t.closeGallery}},[e("i",{staticClass:"fas fa-times"})]),t._v(" "),t.currentIndex>0?e("button",{staticClass:"gallery-nav gallery-prev",attrs:{"aria-label":"Previous"},on:{click:t.prevImage}},[e("i",{staticClass:"fas fa-chevron-left"})]):t._e(),t._v(" "),e("div",{staticClass:"gallery-content"},[e("div",{staticClass:"main-image-wrapper"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],key:t.currentIndex,staticClass:"gallery-image",attrs:{"data-src":t.currentImage,alt:"Image ".concat(t.currentIndex+1)}})])],1),t._v(" "),e("div",{staticClass:"gallery-counter"},[e("span",{staticClass:"counter-text"},[t._v("\n          "+t._s(t.currentIndex+1)+" / "+t._s(t.images.length)+"\n        ")])])]),t._v(" "),t.currentIndex<t.images.length-1?e("button",{staticClass:"gallery-nav gallery-next",attrs:{"aria-label":"Next"},on:{click:t.nextImage}},[e("i",{staticClass:"fas fa-chevron-right"})]):t._e(),t._v(" "),e("div",{staticClass:"thumbnail-swiper-container"},[e("div",{staticClass:"swiper-wrapper-custom",style:t.swiperStyle},t._l(t.images,function(image,n){return e("div",{key:n,staticClass:"thumbnail-item",class:{active:n===t.currentIndex},on:{click:function(e){return t.goToImage(n)}}},[e("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],staticClass:"thumbnail-image",attrs:{"data-src":t.getThumbnailUrl(image),alt:"Thumbnail ".concat(n+1)}}),t._v(" "),n===t.currentIndex?e("div",{staticClass:"active-indicator"}):t._e()])}),0),t._v(" "),t.canScrollLeft?e("button",{staticClass:"thumb-nav thumb-nav-left",attrs:{"aria-label":"Scroll left"},on:{click:function(e){return t.scrollThumbnails("left")}}},[e("i",{staticClass:"fas fa-chevron-left"})]):t._e(),t._v(" "),t.canScrollRight?e("button",{staticClass:"thumb-nav thumb-nav-right",attrs:{"aria-label":"Scroll right"},on:{click:function(e){return t.scrollThumbnails("right")}}},[e("i",{staticClass:"fas fa-chevron-right"})]):t._e()])])]):t._e()},[],!1,null,"16589160",null);e.default=component.exports},844:function(t,e,n){t.exports={}},874:function(t,e,n){"use strict";n(844)},921:function(t,e,n){t.exports={}},937:function(t,e,n){"use strict";n.r(e);n(32),n(29),n(41);var l={name:"ImageGrid",components:{},props:{images:{type:Array,default:function(){return[]}},itemName:{type:String,default:""}},emits:["image-click"],methods:{getThumbnailUrl:function(t){return t.replace("w=1920&h=1200","w=400&h=300")}}},r=(n(874),n(28)),component=Object(r.a)(l,function(){var t=this,e=t._self._c;return e("div",{staticClass:"gallery-grid"},t._l(t.images,function(image,n){return e("div",{key:n,staticClass:"gallery-grid-item",on:{click:function(e){return t.$emit("image-click",n)}}},[e("div",{staticClass:"image-wrapper"},[e("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],staticClass:"gallery-thumbnail",attrs:{"data-src":t.getThumbnailUrl(image),alt:"تصویر ".concat(n+1," ").concat(t.itemName),loading:"lazy"}}),t._v(" "),e("div",{staticClass:"image-overlay"},[e("div",{staticClass:"overlay-content"},[e("i",{staticClass:"fas fa-search-plus"}),t._v(" "),e("span",{staticClass:"image-number"},[t._v(t._s(n+1))])])])])])}),0)},[],!1,null,"71209253",null);e.default=component.exports}}]);