(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{1043:function(e,t,o){"use strict";o.r(t);var n=o(23),r=(o(58),o(32),o(11),{components:{VideoPlayer:o(715).default},layout:"empty",data:function(){return{movieTitle:"",posterUrl:"",videoUrl:"",loading:!0,soon:!1,intervalId:null}},watch:{"$route.params.id":{immediate:!0,handler:function(){this.loadVideo()}}},methods:{loadVideo:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var o,n,r,l,data,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=e.$route.params.id){t.next=1;break}return console.log("No ID found in route params"),t.abrupt("return");case 1:return n=e.$cookiz.get("ref")||"",r="/ghost/get/watch/live/".concat(o).concat(n?"?ref=".concat(n):""),t.next=2,e.$axios.get(r);case 2:if(200!==(l=t.sent).status){t.next=4;break}return data=l.data.data,e.movieTitle=data.title||"پخش زنده",e.posterUrl=data.poster||"",c=data.video.video,t.next=3,fetch(c,{method:"HEAD"});case 3:t.sent.ok?(e.videoUrl=c,e.soon=!1):e.soon=!0,t.next=5;break;case 4:e.soon=!0;case 5:e.loading=!1,t.next=7;break;case 6:t.prev=6,t.catch(0),e.loading=!1,e.soon=!0;case 7:case"end":return t.stop()}},t,null,[[0,6]])}))()},reloadPage:function(){location.reload()},goBack:function(){window.history.length>2?this.$router.go(-1):this.$router.push({name:"index"})}}}),l=(o(988),o(28)),component=Object(l.a)(r,function(){var e=this,t=e._self._c;return t("div",{staticClass:"video-container"},[t("div",{staticClass:"hamshahri"},[t("a",{staticClass:"srmjs",on:{click:e.goBack}},[e._m(0)]),e._v(" "),e.loading?t("div",{staticClass:"video-loading-spinner"}):e._e(),e._v(" "),e.soon?t("p",{staticClass:"soon"},[e._v("به زودی...")]):e._e(),e._v(" "),e.soon?t("button",{staticClass:"btn btn-primary btn-lg fw-bold refresh-btn",on:{click:e.reloadPage}},[e._v("\n      بارگذاری مجدد\n    ")]):e._e()]),e._v(" "),t("div",{staticClass:"player-wrapper"},[e.videoUrl&&!e.soon?t("VideoPlayer",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],ref:"live",staticClass:"full-screen-player vjs-fluid",attrs:{playerid:"live",stream:e.videoUrl,title:e.movieTitle,"data-poster":e.posterUrl,"player-auto-play":!0,"show-auto-play-toggle":!1}}):e._e()],1)])},[function(){var e=this._self._c;return e("div",{attrs:{id:"flowplayer-back-button"}},[e("div",{staticClass:"icon-back"})])}],!1,null,"c2b02fc0",null);t.default=component.exports;installComponents(component,{VideoPlayer:o(715).default})},908:function(e,t,o){e.exports={}},988:function(e,t,o){"use strict";o(908)}}]);