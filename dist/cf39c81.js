(window.webpackJsonp=window.webpackJsonp||[]).push([[0,91],{1026:function(t,e,r){"use strict";r.r(e);r(137),r(79);var n={name:"SubscriptionButton",props:{fullrateData:{type:Object,default:function(){return{rate:.5,show_subscription:0,fa:{title:"نیم بها",alternative:"نیم بها"},en:{title:"Half-priced",alternative:"Half-priced"}}}},contentId:{type:[String,Number],required:!0},contentType:{type:String,required:!0}},data:function(){return{isVisible:!0,hideTimer:null}},computed:{shouldShow:function(){return this.fullrateData&&1===this.fullrateData.show_subscription},showHalfPriceLabel:function(){return 1===this.fullrateData.rate},buttonText:function(){return"fa"===this.$i18n.locale?"خرید اشتراک":"Buy Subscription"},usageVolumeText:function(){var t,e;return"fa"===this.$i18n.locale?"حجم مصرفی: ".concat((null===(e=this.fullrateData.fa)||void 0===e?void 0:e.title)||"نیم بها"):"Usage Volume: ".concat((null===(t=this.fullrateData.en)||void 0===t?void 0:t.title)||"Half-priced")}},mounted:function(){var t=this;this.hideTimer=setTimeout(function(){t.isVisible=!1},1e4)},beforeDestroy:function(){this.hideTimer&&clearTimeout(this.hideTimer)},methods:{handleSubscriptionClick:function(){this.$emit("subscription-click",{id:this.contentId,type:this.contentType})}}},o=(r(965),r(28)),component=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.isVisible&&t.shouldShow?e("button",{staticClass:"subscription-floating-button",on:{click:t.handleSubscriptionClick}},[e("i",{staticClass:"fa fa-money-bill"}),t._v(" "),e("span",{staticClass:"button-text"},[t._v("\n      "+t._s(t.buttonText)+"\n      "),t.showHalfPriceLabel?e("span",{staticClass:"half-price-label"},[t._v("\n        ("+t._s(t.usageVolumeText)+")\n      ")]):t._e()])]):t._e()])},[],!1,null,"5e5fcf10",null);e.default=component.exports},1066:function(t,e){},1088:function(t,e,r){"use strict";r(995)},1089:function(t,e,r){var n=r(56)(function(i){return i[1]});n.push([t.i,'[data-v-5edb4c8d] .video-js{font-family:"dana VF"!important;font-size:inherit!important}[data-v-5edb4c8d] .video-js .vjs-play-control{width:3em!important}[data-v-5edb4c8d] .vjs-custom-icon-button{background-color:transparent!important;border:none!important;padding:0!important}[data-v-5edb4c8d] .vjs-icon-pip{backdrop-filter:blur(20px);background:rgba(0,0,0,.251);border:1px solid;border-image-source:linear-gradient(202.36deg,hsla(0,0%,100%,.2) 8.26%,hsla(0,0%,100%,0) 85.43%);border-radius:32px;box-shadow:inset -.73px .73px .73px -1.46px hsla(0,0%,100%,.349);cursor:pointer;display:block;height:36px;-o-object-fit:contain;object-fit:contain;opacity:1;padding:6px;transition:transform .2s ease,opacity .3s ease;width:36px}[data-v-5edb4c8d] .vjs-next10-button{backdrop-filter:blur(20px);background:rgba(0,0,0,.251);border:1px solid;border-image-source:linear-gradient(202.36deg,hsla(0,0%,100%,.2) 8.26%,hsla(0,0%,100%,0) 85.43%);border-radius:32px;box-shadow:inset -.73px .73px .73px -1.46px hsla(0,0%,100%,.349);cursor:pointer;display:block;height:36px;-o-object-fit:contain;object-fit:contain;opacity:1;padding:6px;transition:transform .2s ease,opacity .3s ease;width:36px}[data-v-5edb4c8d] .vjs-prev10-button{backdrop-filter:blur(20px);background:rgba(0,0,0,.251);border:1px solid;border-image-source:linear-gradient(202.36deg,hsla(0,0%,100%,.2) 8.26%,hsla(0,0%,100%,0) 85.43%);border-radius:32px;box-shadow:inset -.73px .73px .73px -1.46px hsla(0,0%,100%,.349);cursor:pointer;display:block;height:36px;-o-object-fit:contain;object-fit:contain;opacity:1;padding:6px;transition:transform .2s ease,opacity .3s ease;width:36px}[data-v-5edb4c8d] .vjs-button-icon{backdrop-filter:blur(20px);background:rgba(0,0,0,.251);border:1px solid;border-image-source:linear-gradient(202.36deg,hsla(0,0%,100%,.2) 8.26%,hsla(0,0%,100%,0) 85.43%);border-radius:32px;box-shadow:inset -.73px .73px .73px -1.46px hsla(0,0%,100%,.349);cursor:pointer;display:block;height:36px;-o-object-fit:contain;object-fit:contain;opacity:1;padding:6px;transition:transform .2s ease,opacity .3s ease;width:36px}[data-v-5edb4c8d] .vjs-button-icon:hover{opacity:.9;transform:scale(1.1)}[data-v-5edb4c8d] .vjs-progress-control .vjs-play-progress:before{background:#fff!important;border-radius:50%!important;font-size:0!important;height:12px!important;opacity:1!important;top:-5px!important;width:12px!important}[data-v-5edb4c8d] .video-js .vjs-control-bar{backdrop-filter:blur(2px)!important;background:linear-gradient(180deg,rgba(8,9,13,0),rgba(8,9,13,.9) 80.37%)!important;opacity:1!important;padding-bottom:24px!important;padding-left:16px!important;padding-right:16px!important}[data-v-5edb4c8d] .video-js.vjs-user-inactive.vjs-playing{cursor:none}[data-v-5edb4c8d] .vjs-fullscreen-control,[data-v-5edb4c8d] .vjs-play-control{background-color:transparent!important}[data-v-5edb4c8d] .vjs-fullscreen-control .vjs-icon-placeholder:before,[data-v-5edb4c8d] .vjs-play-control .vjs-icon-placeholder:before{align-items:center!important;backdrop-filter:blur(20px)!important;background-color:rgba(0,0,0,.251)!important;border:1px solid!important;border-image-source:linear-gradient(202.36deg,hsla(0,0%,100%,.2) 8.26%,hsla(0,0%,100%,0) 85.43%)!important;border-radius:32px!important;box-shadow:inset -.73px .73px .73px -1.46px hsla(0,0%,100%,.349)!important;display:flex!important;height:36px!important;justify-content:center!important;opacity:1!important;transition:transform .2s ease,opacity .3s ease!important;width:36px!important}[data-v-5edb4c8d] .vjs-fullscreen-control:hover .vjs-icon-placeholder:before,[data-v-5edb4c8d] .vjs-play-control:hover .vjs-icon-placeholder:before{opacity:.9!important;transform:scale(1.1)!important}.vjs-vast-click-container[data-v-5edb4c8d]{cursor:pointer;height:100%;left:0;position:absolute;top:0;width:100%;z-index:25}.vjs-vast-countdown[data-v-5edb4c8d]{color:#fff;font-size:16px;position:absolute;right:20px;text-shadow:0 0 4px rgba(0,0,0,.7);top:15px;z-index:30}.video-title-overlay[data-v-5edb4c8d]{background:rgba(0,0,0,.6);border-radius:4px;color:#fff;font-size:20px;font-weight:700;left:20px;padding:5px 10px;position:absolute;text-shadow:2px 2px 8px rgba(0,0,0,.8);top:15px;z-index:10}.video-placeholder[data-v-5edb4c8d]{align-items:center;background-color:#333;background-position:50%;background-size:cover;border-radius:8px;color:#fff;display:flex;font-size:16px;height:100%;justify-content:center;text-shadow:1px 1px 5px rgba(0,0,0,.7);width:100%}.vjs-autoplay-toggle[data-v-5edb4c8d],.vjs-quality-selector[data-v-5edb4c8d]{align-items:center;background-size:20px 20px;border-radius:50%;cursor:pointer;display:flex;height:36px;justify-content:center;transition:background-color .3s ease,transform .2s ease;width:36px}.vjs-quality-selector[data-v-5edb4c8d]{background:url(/images/quality.svg) no-repeat 50%}.vjs-autoplay-toggle[data-v-5edb4c8d]{background:url(/images/autoplay.svg) no-repeat 50%}.vjs-autoplay-toggle[data-v-5edb4c8d]:hover,.vjs-quality-selector[data-v-5edb4c8d]:hover{background-color:hsla(0,0%,100%,.1);transform:scale(1.1)}.vjs-control-bar[data-v-5edb4c8d]{background:rgba(0,0,0,.7)!important;border-radius:8px;transition:background .3s ease}.vjs-control-bar[data-v-5edb4c8d]:hover{background:rgba(0,0,0,.9)!important}.vjs-control[data-v-5edb4c8d]{margin:0 5px}[data-v-5edb4c8d] .video-js.vjs-rtl{direction:rtl!important}[data-v-5edb4c8d] .video-js.vjs-rtl .vjs-control-bar{flex-direction:row-reverse!important}.vjs-next10-button[data-v-5edb4c8d],.vjs-prev10-button[data-v-5edb4c8d]{align-items:center;background-color:transparent;color:#fff;cursor:pointer;display:flex;height:36px;justify-content:center;margin:0 5px;transition:transform .2s ease;width:36px}.vjs-next10-button[data-v-5edb4c8d]:hover,.vjs-prev10-button[data-v-5edb4c8d]:hover{color:#00a8ff;transform:scale(1.2)}.vjs-next10-button[data-v-5edb4c8d]{margin-right:5px!important}[data-v-5edb4c8d] button.vjs-control.vjs-button.vjs-next10-button{margin-left:-7px!important;margin-right:10px!important}.skip-credits-btn[data-v-5edb4c8d]{align-items:center;animation:fadeInUp-5edb4c8d .5s ease;backdrop-filter:blur(10px);background:rgba(0,0,0,.8)!important;border:2px solid #000;border-radius:8px;bottom:108px;color:#fff;cursor:pointer;display:flex;font-size:14px;font-weight:700;gap:8px;left:20px;padding:10px 20px;position:absolute;transition:all .3s ease,opacity .3s ease;z-index:20}.skip-credits-btn[data-v-5edb4c8d]:hover{background:rgba(0,0,0,.9);border-color:hsla(0,0%,100%,.6);box-shadow:0 4px 12px rgba(0,0,0,.3);transform:translateY(-2px)}.skip-icon[data-v-5edb4c8d]{align-content:center;display:flex;font-size:16px;justify-content:center}@keyframes fadeInUp-5edb4c8d{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width:768px){.skip-credits-btn[data-v-5edb4c8d]{bottom:70px;font-size:12px;left:15px;padding:8px 16px}.skip-icon[data-v-5edb4c8d]{font-size:14px}}@media (max-width:480px){.skip-credits-btn[data-v-5edb4c8d]{bottom:100px;font-size:11px;left:10px;padding:6px 12px}}[data-v-5edb4c8d] .vjs-volume-tooltip{display:none!important}[data-v-5edb4c8d] .vjs-mouse-display{display:none!important}video#episode-player_html5_api[data-v-5edb4c8d]{outline:none!important}.video-title-bottom[data-v-5edb4c8d]{background:rgba(0,0,0,.6);font-size:16px;left:20px;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;z-index:15}.video-timer-bottom[data-v-5edb4c8d],.video-title-bottom[data-v-5edb4c8d]{border-radius:6px;bottom:70px;color:#fff;font-weight:600;padding:8px 12px;position:absolute;text-shadow:2px 2px 8px rgba(0,0,0,.8);transition:opacity .3s ease}.video-timer-bottom[data-v-5edb4c8d]{background:rgba(0,0,0,.7);direction:ltr;font-family:"dana VF",sans-serif!important;font-size:14px;pointer-events:none;right:20px;text-align:center!important;z-index:1}.video-js.vjs-fullscreen .settings-drawer-overlay[data-v-5edb4c8d],.video-js.vjs-fullscreen .skip-credits-btn[data-v-5edb4c8d],.video-js.vjs-fullscreen .video-timer-bottom[data-v-5edb4c8d],.video-js.vjs-fullscreen .video-title-bottom[data-v-5edb4c8d]{position:fixed!important;z-index:2147483647!important}.video-js.vjs-fullscreen .skip-credits-btn[data-v-5edb4c8d]{bottom:120px!important}.video-js.vjs-fullscreen .video-timer-bottom[data-v-5edb4c8d],.video-js.vjs-fullscreen .video-title-bottom[data-v-5edb4c8d]{bottom:80px!important}.video-js.vjs-fullscreen .settings-drawer-overlay[data-v-5edb4c8d]{bottom:0!important;height:100vh!important;left:0!important;position:fixed!important;right:0!important;top:0!important;width:100vw!important}.video-js.vjs-fullscreen .settings-drawer[data-v-5edb4c8d]{position:relative}@media (min-width:769px){.video-js.vjs-fullscreen .settings-drawer[data-v-5edb4c8d]:not(.mobile-drawer){max-height:70vh}}@media (max-width:768px){[data-v-5edb4c8d] .vjs-next10-button,[data-v-5edb4c8d] .vjs-prev10-button{display:none!important}[data-v-5edb4c8d] .vjs-volume-panel .vjs-volume-control{display:none!important}[data-v-5edb4c8d] .vjs-volume-panel{width:auto!important}.video-title-bottom[data-v-5edb4c8d]{bottom:90px;font-size:14px;left:10px;max-width:200px;padding:6px 10px}.video-timer-bottom[data-v-5edb4c8d]{bottom:90px;font-size:12px;padding:6px 10px;right:10px}}@media (max-width:480px){.video-title-bottom[data-v-5edb4c8d]{font-size:12px;max-width:150px;padding:4px 8px}.video-timer-bottom[data-v-5edb4c8d]{font-size:11px;padding:4px 8px}}[data-v-5edb4c8d] .vjs-autoplay-button{display:none!important}[data-v-5edb4c8d] .vjs-next-button{align-items:center;background-color:transparent;border:none;color:#fff;cursor:pointer;display:flex;justify-content:center;padding:0;transition:transform .2s ease,color .2s ease}[data-v-5edb4c8d] .vjs-next-button:hover{color:#00a8ff;transform:scale(1.1)}[data-v-5edb4c8d] .vjs-icon-next{align-items:center;display:flex;font-size:18px;justify-content:center}[data-v-5edb4c8d] .vjs-pip-button{align-items:center;background-color:transparent;border:none;color:#fff;cursor:pointer;display:flex;justify-content:center;padding:0;transition:transform .2s ease,color .2s ease}[data-v-5edb4c8d] .vjs-pip-button:hover{color:#00a8ff;transform:scale(1.1)}[data-v-5edb4c8d] .vjs-icon-pip{align-items:center;display:flex;font-size:16px;justify-content:center}[data-v-5edb4c8d] .vjs-subtitle-settings-button{align-items:center;background-color:transparent;border:none;color:#fff;cursor:pointer;display:flex;justify-content:center;padding:0;transition:transform .2s ease,color .2s ease}[data-v-5edb4c8d] .vjs-subtitle-settings-button:hover{color:#00a8ff;transform:scale(1.1)}[data-v-5edb4c8d] .vjs-icon-subtitles{align-items:center;display:flex;font-size:16px;justify-content:center}[data-v-5edb4c8d] .vjs-subtitle-menu-overlay{align-items:center;background:rgba(0,0,0,.8);display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:1000}[data-v-5edb4c8d] .vjs-subtitle-menu-content{background:rgba(30,30,30,.95);border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,.5);max-width:400px;min-width:250px;padding:20px}[data-v-5edb4c8d] .vjs-subtitle-menu-title{border-bottom:2px solid hsla(0,0%,100%,.2);color:#fff;font-size:18px;font-weight:700;margin-bottom:15px;padding-bottom:10px;text-align:center}[data-v-5edb4c8d] .vjs-subtitle-menu-item{border-radius:4px;color:#fff;cursor:pointer;margin-bottom:5px;padding:12px 15px;text-align:center;transition:background-color .2s ease,transform .1s ease}[data-v-5edb4c8d] .vjs-subtitle-menu-item:hover{background-color:rgba(0,168,255,.3);transform:translateX(-2px)}[data-v-5edb4c8d] .vjs-subtitle-menu-item.active{background-color:rgba(0,168,255,.5);font-weight:700}[data-v-5edb4c8d] .vjs-subtitle-menu-divider{background:hsla(0,0%,100%,.2);height:1px;margin:10px 0}[data-v-5edb4c8d] .vjs-subtitle-menu-item.settings{align-items:center;background-color:hsla(0,0%,100%,.1);display:flex;gap:8px;justify-content:center}[data-v-5edb4c8d] .vjs-subtitle-menu-item.settings:hover{background-color:hsla(0,0%,100%,.2)}[data-v-5edb4c8d] .vjs-subtitle-settings-overlay{align-items:center;background:rgba(0,0,0,.85);display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:1001}[data-v-5edb4c8d] .vjs-subtitle-settings-content{background:rgba(30,30,30,.98);border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,.7);max-width:450px;min-width:300px;padding:25px}[data-v-5edb4c8d] .vjs-subtitle-settings-title{border-bottom:2px solid rgba(0,168,255,.5);color:#fff;font-size:20px;font-weight:700;margin-bottom:20px;padding-bottom:12px;text-align:center}[data-v-5edb4c8d] .vjs-subtitle-setting-group{margin-bottom:20px}[data-v-5edb4c8d] .vjs-subtitle-setting-group label{color:#fff;display:block;font-size:14px;font-weight:500;margin-bottom:8px}[data-v-5edb4c8d] .vjs-subtitle-setting-group select{background:hsla(0,0%,100%,.1);border:1px solid hsla(0,0%,100%,.2);border-radius:6px;color:#fff;cursor:pointer;font-size:14px;padding:10px;transition:all .2s ease;width:100%}[data-v-5edb4c8d] .vjs-subtitle-setting-group select:hover{background:hsla(0,0%,100%,.15);border-color:rgba(0,168,255,.5)}[data-v-5edb4c8d] .vjs-subtitle-setting-group select:focus{border-color:rgba(0,168,255,.8);box-shadow:0 0 0 2px rgba(0,168,255,.2);outline:none}[data-v-5edb4c8d] .vjs-subtitle-settings-apply{background:linear-gradient(135deg,#00a8ff,#0080ff);border:none;border-radius:6px;color:#fff;cursor:pointer;font-size:16px;font-weight:700;margin-top:10px;padding:12px;transition:all .3s ease;width:100%}[data-v-5edb4c8d] .vjs-subtitle-settings-apply:hover{box-shadow:0 4px 12px rgba(0,168,255,.4);transform:translateY(-2px)}[data-v-5edb4c8d] .vjs-subtitle-settings-apply:active{transform:translateY(0)}[data-v-5edb4c8d] .vjs-playback-rate-button{align-items:center;background-color:transparent;border:none;color:#fff;cursor:pointer;display:flex;justify-content:center;padding:0;transition:transform .2s ease,color .2s ease}[data-v-5edb4c8d] .vjs-playback-rate-button:hover{color:#00a8ff;transform:scale(1.1)}[data-v-5edb4c8d] .vjs-icon-playback-rate{align-items:center;display:flex;font-size:16px;justify-content:center}[data-v-5edb4c8d] .vjs-playback-rate-menu-overlay{align-items:center;background:rgba(0,0,0,.8);display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:1000}[data-v-5edb4c8d] .vjs-playback-rate-menu-content{background:rgba(30,30,30,.95);border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,.5);max-width:350px;min-width:220px;padding:20px}[data-v-5edb4c8d] .vjs-playback-rate-menu-title{border-bottom:2px solid hsla(0,0%,100%,.2);color:#fff;font-size:18px;font-weight:700;margin-bottom:15px;padding-bottom:10px;text-align:center}[data-v-5edb4c8d] .vjs-playback-rate-menu-item{border-radius:4px;color:#fff;cursor:pointer;font-family:Arial,sans-serif;margin-bottom:5px;padding:12px 15px;text-align:center;transition:background-color .2s ease,transform .1s ease}[data-v-5edb4c8d] .vjs-playback-rate-menu-item:hover{background-color:rgba(0,168,255,.3);transform:translateX(-2px)}[data-v-5edb4c8d] .vjs-playback-rate-menu-item.active{background-color:rgba(0,168,255,.5);font-weight:700}[data-v-5edb4c8d] .vjs-quality-selector .vjs-menu{background:rgba(30,30,30,.95);border-radius:8px;box-shadow:0 4px 20px rgba(0,0,0,.5);padding:8px 0}[data-v-5edb4c8d] .vjs-quality-selector .vjs-menu-item{color:#fff;font-size:14px;padding:10px 20px;transition:background-color .2s ease}[data-v-5edb4c8d] .vjs-quality-selector .vjs-menu-item:hover{background-color:rgba(0,168,255,.3)}[data-v-5edb4c8d] .vjs-quality-selector .vjs-menu-item.vjs-selected{background-color:rgba(0,168,255,.5);font-weight:700}[data-v-5edb4c8d] .vjs-quality-selector .vjs-menu-item.vjs-selected:before{content:"✓ ";margin-right:8px}@media (max-width:768px){[data-v-5edb4c8d] .vjs-next-button,[data-v-5edb4c8d] .vjs-pip-button,[data-v-5edb4c8d] .vjs-playback-rate-button,[data-v-5edb4c8d] .vjs-subtitle-settings-button{padding:0 8px}[data-v-5edb4c8d] .vjs-icon-next,[data-v-5edb4c8d] .vjs-icon-pip,[data-v-5edb4c8d] .vjs-icon-playback-rate,[data-v-5edb4c8d] .vjs-icon-subtitles{font-size:14px}[data-v-5edb4c8d] .vjs-playback-rate-menu-content,[data-v-5edb4c8d] .vjs-subtitle-menu-content{min-width:200px;padding:15px}[data-v-5edb4c8d] .vjs-playback-rate-menu-title,[data-v-5edb4c8d] .vjs-subtitle-menu-title{font-size:16px}[data-v-5edb4c8d] .vjs-playback-rate-menu-item,[data-v-5edb4c8d] .vjs-subtitle-menu-item{font-size:14px;padding:10px 12px}[data-v-5edb4c8d] .vjs-subtitle-settings-content{min-width:250px;padding:20px}[data-v-5edb4c8d] .vjs-subtitle-settings-title{font-size:18px}}[data-v-5edb4c8d] .vjs-split-controls .vjs-control-bar{align-items:stretch;background:rgba(0,0,0,.4);display:flex;flex-direction:row;flex-wrap:wrap;gap:.5rem;justify-content:space-between;padding:0 0 4px}[data-v-5edb4c8d] .vjs-split-controls .vjs-progress-control{bottom:1.2rem!important;margin-bottom:-24px;order:0;width:100%}[data-v-5edb4c8d] .vjs-split-controls .vjs-prev10-button{order:10}[data-v-5edb4c8d] .vjs-split-controls .vjs-play-control{order:11}[data-v-5edb4c8d] .vjs-split-controls .vjs-next10-button{order:12}[data-v-5edb4c8d] .vjs-split-controls .vjs-volume-panel{order:13}[data-v-5edb4c8d] .vjs-split-controls .vjs-next-button{margin-left:auto;order:22}[data-v-5edb4c8d] .vjs-split-controls .vjs-pip-button{order:23}[data-v-5edb4c8d] .vjs-split-controls .vjs-settings-button{order:24}[data-v-5edb4c8d] .vjs-split-controls .vjs-playlist-button{order:25}[data-v-5edb4c8d] .vjs-split-controls .vjs-fullscreen-control{order:27}[data-v-5edb4c8d] .vjs-split-controls .vjs-quality-selector{order:26}[data-v-5edb4c8d] .vjs-split-controls .vjs-control-bar>:not(.vjs-progress-control):not(.vjs-custom-rtl-volume){align-items:center;display:flex;justify-content:center}[data-v-5edb4c8d] .vjs-split-controls .vjs-progress-holder{width:100%!important}[data-v-5edb4c8d] .vjs-split-controls .vjs-progress-holder{height:2px!important}[data-v-5edb4c8d] .video-js .vjs-control-bar{bottom:0!important;padding:0 16px}[data-v-5edb4c8d] .vjs-volume-control.vjs-control.vjs-volume-horizontal{height:5.5em!important}[data-v-5edb4c8d] .vjs-custom-rtl-volume{align-items:center;cursor:pointer;display:flex;position:relative}[data-v-5edb4c8d] .vjs-rtl-volume-button{align-items:center;background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-size:1.5em;height:100%;justify-content:center;padding:0;transition:color .3s;width:2em}[data-v-5edb4c8d] .vjs-rtl-volume-button:hover{color:#00a8ff}[data-v-5edb4c8d] .vjs-rtl-volume-control{align-items:center;display:flex;height:100%;opacity:0;overflow:hidden;transition:width .3s ease,opacity .3s ease;width:0}[data-v-5edb4c8d] .vjs-custom-rtl-volume:hover .vjs-rtl-volume-control,[data-v-5edb4c8d] .vjs-rtl-volume-control.vjs-slider-active{opacity:1;width:9em}[data-v-5edb4c8d] .vjs-rtl-volume-bar{background:hsla(0,0%,100%,.3);border-radius:.15em;cursor:pointer;height:.3em;margin:0 .5em;position:relative;width:100%}[data-v-5edb4c8d] .vjs-rtl-volume-level{align-items:center;background:linear-gradient(90deg,#00a8ff,#00d4ff);border-radius:.15em;display:flex;height:100%;justify-content:flex-end;left:0;position:absolute;top:0;transition:width .1s ease;width:100%}[data-v-5edb4c8d] .vjs-rtl-volume-handle{background:#fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.5);cursor:grab;height:.9em;position:relative;right:-.45em;transition:transform .1s ease;width:.9em}[data-v-5edb4c8d] .vjs-rtl-volume-handle:active{cursor:grabbing;transform:scale(1.2)}[data-v-5edb4c8d] .vjs-custom-rtl-volume.vjs-volume-panel.vjs-control.vjs-volume-panel-horizontal:active{width:4em!important}[data-v-5edb4c8d] .vjs-rtl-volume-bar:hover .vjs-rtl-volume-handle{transform:scale(1.1)}[data-v-5edb4c8d] .vjs-split-controls .vjs-custom-rtl-volume{order:22}@media (max-width:768px){[data-v-5edb4c8d] .vjs-custom-rtl-volume:hover .vjs-rtl-volume-control,[data-v-5edb4c8d] .vjs-rtl-volume-control.vjs-slider-active{opacity:0;width:0}}[data-v-5edb4c8d] .vjs-custom-rtl-volume .vjs-volume-panel .vjs-control .vjs-volume-panel-horizontal:hover{align-items:center!important;display:flex!important;justify-content:space-between!important}[data-v-5edb4c8d] .vjs-split-controls .vjs-control-bar>.vjs-custom-rtl-volume{align-items:center;display:flex;justify-content:start}.settings-drawer-overlay[data-v-5edb4c8d]{align-items:flex-end;background:rgba(0,0,0,.6);display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%;z-index:2000}.settings-drawer[data-v-5edb4c8d]{animation:slideUp-5edb4c8d .3s ease-out;background:#373737;border-radius:12px 12px 0 0;box-shadow:0 -4px 24px rgba(0,0,0,.5);direction:rtl;display:flex;flex-direction:column;max-height:100vh;max-width:500px;min-width:320px;opacity:1;overflow:hidden;width:40vw}.settings-drawer.mobile-drawer[data-v-5edb4c8d]{animation:slideUpFull-5edb4c8d .3s ease-out;border-radius:0;height:100vh;max-width:none;width:100vw}@keyframes slideUp-5edb4c8d{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}@keyframes slideUpFull-5edb4c8d{0%{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}.drawer-content[data-v-5edb4c8d]{display:flex;flex-direction:column;height:100%}.drawer-header[data-v-5edb4c8d]{align-items:center;border-bottom:1px solid hsla(0,0%,100%,.1);display:flex;padding:20px 24px;position:relative}.drawer-header[data-v-5edb4c8d],.drawer-header.with-back[data-v-5edb4c8d]{justify-content:center}.drawer-header h3[data-v-5edb4c8d]{color:#fff;font-size:18px;font-weight:600;margin:0}.back-button[data-v-5edb4c8d]{align-items:center;background:transparent;border:none;color:#fff;cursor:pointer;display:flex;font-size:20px;justify-content:center;padding:4px 8px;position:absolute;right:20px;transition:color .2s ease}.back-button[data-v-5edb4c8d]:hover{color:#00a8ff}.drawer-divider[data-v-5edb4c8d]{background:hsla(0,0%,100%,.1);height:1px;margin:0}.drawer-body[data-v-5edb4c8d]{flex:1;overflow-y:auto;padding:8px 0}.drawer-item[data-v-5edb4c8d]{align-items:center;cursor:pointer;display:flex;padding:16px 24px;transition:background-color .2s ease}.drawer-item[data-v-5edb4c8d]:hover{background-color:hsla(0,0%,100%,.05)}.drawer-item-icon[data-v-5edb4c8d]{align-items:center;background:hsla(0,0%,100%,.1);border-radius:8px;color:#fff;display:flex;font-size:18px;height:40px;justify-content:center;margin-left:16px;width:40px}.drawer-item-info[data-v-5edb4c8d]{display:flex;flex:1;flex-direction:column;gap:4px}.drawer-item-title[data-v-5edb4c8d]{color:#fff;font-size:15px;font-weight:500}.drawer-item-value[data-v-5edb4c8d]{color:hsla(0,0%,100%,.6);font-size:13px}.drawer-item-arrow[data-v-5edb4c8d]{color:hsla(0,0%,100%,.4);font-size:14px}.drawer-option[data-v-5edb4c8d]{align-items:center;cursor:pointer;display:flex;padding:14px 24px;transition:background-color .2s ease}.drawer-option[data-v-5edb4c8d]:hover{background-color:hsla(0,0%,100%,.05)}.drawer-option.active[data-v-5edb4c8d]{background-color:rgba(0,168,255,.15)}.drawer-option-radio[data-v-5edb4c8d]{align-items:center;border:2px solid hsla(0,0%,100%,.4);border-radius:50%;display:flex;height:20px;justify-content:center;margin-left:16px;transition:border-color .2s ease;width:20px}.drawer-option.active .drawer-option-radio[data-v-5edb4c8d]{border-color:#00a8ff}.radio-checked[data-v-5edb4c8d]{background:#00a8ff;border-radius:50%;height:10px;width:10px}.drawer-option-label[data-v-5edb4c8d]{color:#fff;flex:1;font-size:15px}.drawer-option.active .drawer-option-label[data-v-5edb4c8d]{color:#00a8ff;font-weight:500}@media (max-width:768px){.settings-drawer[data-v-5edb4c8d]:not(.mobile-drawer){width:80vw}.drawer-header h3[data-v-5edb4c8d]{font-size:16px}.drawer-item[data-v-5edb4c8d]{padding:14px 20px}.drawer-item-icon[data-v-5edb4c8d]{font-size:16px;height:36px;margin-left:12px;width:36px}.drawer-item-title[data-v-5edb4c8d]{font-size:14px}.drawer-item-value[data-v-5edb4c8d]{font-size:12px}.drawer-option[data-v-5edb4c8d]{padding:12px 20px}.drawer-option-label[data-v-5edb4c8d]{font-size:14px}}[data-v-5edb4c8d] .vjs-settings-button{align-items:center;background-color:transparent;border:none;color:#fff;cursor:pointer;display:flex;justify-content:center;padding:0;transition:transform .2s ease,color .2s ease}[data-v-5edb4c8d] .vjs-settings-button:hover{color:#00a8ff;transform:scale(1.1)}.subtitle-style-group[data-v-5edb4c8d]{margin-bottom:20px}.subtitle-style-label[data-v-5edb4c8d]{color:#e0e0e0;display:block;font-weight:500;margin-bottom:8px}.subtitle-style-options[data-v-5edb4c8d]{display:grid;grid-template-columns:1fr 1fr;grid-gap:8px;gap:8px}.subtitle-style-option[data-v-5edb4c8d]{background:#2d2d2d;border:1px solid #444;border-radius:6px;cursor:pointer;padding:10px;text-align:center;transition:all .2s}.subtitle-style-option.active[data-v-5edb4c8d]{background:#3d2d2d;border-color:#ff5722}.subtitle-style-option.color-option[data-v-5edb4c8d]{align-items:center;display:flex;gap:8px;justify-content:flex-start;padding:8px 10px}.color-preview[data-v-5edb4c8d]{border:2px solid #555;border-radius:50%;height:16px;width:16px}.bg-preview[data-v-5edb4c8d]{background:#000;border-radius:2px;height:16px;margin-right:8px;width:16px}.subtitle-style-actions[data-v-5edb4c8d]{border-top:1px solid #444;margin-top:20px;padding-top:15px}.reset-default-btn[data-v-5edb4c8d]{background:#ff5722;border:none;border-radius:6px;color:#fff;cursor:pointer;font-size:14px;padding:12px;width:100%}.reset-default-btn[data-v-5edb4c8d]:hover{background:#e64a19}.progress-preview-popover[data-v-5edb4c8d]{bottom:78px;pointer-events:none;position:absolute;transition:opacity .2s ease;z-index:100}.preview-thumbnail[data-v-5edb4c8d]{background:#1a1a1a;border:2px solid hsla(0,0%,100%,.1);border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.5);display:none;margin-bottom:8px;overflow:hidden}.preview-thumbnail canvas[data-v-5edb4c8d]{display:block;height:90px;-o-object-fit:cover;object-fit:cover;width:160px}.preview-time[data-v-5edb4c8d]{backdrop-filter:blur(4px);background:rgba(0,0,0,.9);border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.4);color:#fff;font-family:"dana VF",sans-serif;font-size:13px;font-weight:600;padding:6px 12px;text-align:center;width:160px}.progress-preview-popover[data-v-5edb4c8d]:after{border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,.9);bottom:-6px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip[data-v-5edb4c8d],.video-js.vjs-scrubbing.vjs-touch-enabled .vjs-progress-control .vjs-time-tooltip[data-v-5edb4c8d],[data-v-5edb4c8d] .video-js .vjs-progress-control:hover .vjs-time-tooltip{display:none!important}',""]),n.locals={},t.exports=n},764:function(t,e,r){"use strict";r.r(e);var n=r(3),o=(r(17),r(70),r(86),r(13),r(45),r(40),r(21),r(22),r(18),r(314),r(41)),l=r(72),d=r(73),c=r(216),v=r(106),f=r(146),h=(r(34),r(119),r(81),r(69),r(137),r(11),r(29),r(61),r(96),r(58),r(172),r(1063),r(169),r(83),r(16),r(62),r(79),r(310),r(311),r(138),r(35)),m=r(925),y=(r(1137),r(1086),r(1087)),x=r(1026);function w(t,e,r){return e=Object(v.a)(e),Object(c.a)(t,j()?Reflect.construct(e,r||[],Object(v.a)(t).constructor):e.apply(t,r))}function j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(j=function(){return!!t})()}function k(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,a){if(t){if("string"==typeof t)return C(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?C(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,l=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw l}}}}function C(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,r=Array(a);e<a;e++)r[e]=t[e];return r}function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach(function(e){Object(n.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var T=r(515),P=r(513),A=r(518),B=r(517),O=r(519),L=r(516),E=r(512),z=r(514),D=[{value:.5,label:"۰.۵x"},{value:.75,label:"۰.۷۵x"},{value:1,label:"۱x (عادی)"},{value:1.25,label:"۱.۲۵x"},{value:1.5,label:"۱.۵x"},{value:1.75,label:"۱.۷۵x"},{value:2,label:"۲x"}],I={fa:"فارسی",en:"English",ar:"العربية",fr:"Français",de:"Deutsch",es:"Español"},V={"1080p":"۱۰۸۰p - Full HD","720p":"۷۲۰p - HD","480p":"۴۸۰p - SD","360p":"۳۶۰p","240p":"۲۴۰p",auto:"خودکار",Auto:"خودکار"},M={components:{SubscriptionButton:x.default},props:{stream:{type:String,default:""},playerid:{type:String,default:""},title:{type:String,default:""},showAutoPlayToggle:{type:Boolean,default:!0},vastUrl:{type:String,default:""},posterUrl:{type:String,default:""},playerAutoPlay:{type:Boolean,default:!0},tracks:{type:Array,default:function(){return[]}},hasPlaylist:{type:Boolean,default:!1},shouldIncrementViews:{type:Boolean,default:!1},videoid:{type:String,default:""},videotype:{type:String,default:""},muteOnOtherPlay:{type:Boolean,default:!1},creditsData:{type:Object,default:function(){return{first_credits:1,after_credits:60,final_credits:5550}}},showSkipCreditsButton:{type:Boolean,default:!0},fullrateData:{type:Object,default:null},contentId:{type:[String,Number],default:null},contentType:{type:String,default:""}},data:function(){return{FONT_SIZES:[{value:"small",label:"کوچک"},{value:"medium",label:"متوسط"},{value:"large",label:"بزرگ"},{value:"x-large",label:"خیلی بزرگ"}],TEXT_COLORS:[{value:"#ffffff",label:"سفید",class:"color-white"},{value:"#ffff00",label:"زرد",class:"color-yellow"},{value:"#00ff00",label:"سبز",class:"color-green"},{value:"#00ffff",label:"فیروزه‌ای",class:"color-cyan"},{value:"#ffa500",label:"نارنجی",class:"color-orange"}],BACKGROUND_OPACITIES:[{value:0,label:"بدون پس‌زمینه"},{value:.5,label:"نیمه شفاف"},{value:.8,label:"مات",selected:!0},{value:1,label:"کاملاً مات"}],TEXT_SHADOWS:[{value:"none",label:"بدون سایه"},{value:"light",label:"سایه کم"},{value:"medium",label:"سایه متوسط"},{value:"heavy",label:"سایه زیاد"}],adActive:!1,viewsIncremented:!1,player:null,showSkipCredits:!1,skipButtonText:"رد کردن تیتراژ",currentCreditType:null,creditCheckInterval:null,isMobile:!1,currentTimeFormatted:"00:00",durationFormatted:"00:00",showSettingsDrawer:!1,settingsDrawerView:"main",currentPlaybackRate:1,currentSubtitle:null,currentQuality:"auto",subtitleTracksInitialized:!1,subtitleStyle:{fontSize:"medium",color:"#ffffff",background:.8,shadow:"medium"},showProgressPreview:!1,previewPosition:{x:0,y:0},previewTime:"00:00",progressBarElement:null,lastPreviewTime:-1,audioOptions:null,currentAudioLang:null,currentStream:null}},computed:_(_({},Object(h.c)({autoPlay:"autoplay"})),{},{displayTitle:function(){return this.adActive?"نمایش تبلیغات":this.title},isRtl:function(){return"fa"===this.$i18n.locale},PLAYBACK_RATES:function(){return D}}),watch:{stream:function(t){t&&(this.parseAudioOptionsFromStream(t),this.currentStream=t,this.initPlayer())},autoPlay:function(){this.player&&this.updateIcon()},"$i18n.locale":function(t){this.player&&(this.player.language(t),this.player.el().style.direction="fa"===t?"rtl":"ltr")},showSettingsDrawer:function(t){var e=this;t&&this.$nextTick(function(){e.moveDrawerToPlayer()})}},mounted:function(){this.isMobile=window.innerWidth<=768,window.addEventListener("resize",this.handleResize),this.stream&&this.initPlayer(),window.addEventListener("keydown",this.handleKeydown)},beforeDestroy:function(){this.player&&this.player.dispose(),this.creditCheckInterval&&clearInterval(this.creditCheckInterval),this.cueObserver&&this.cueObserver.disconnect();var t=document.getElementById("custom-subtitle-styles");t&&t.remove(),window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("resize",this.handleResize)},methods:_(_({},Object(h.b)(["SET_AUTOPLAY"])),{},{handleSubscriptionClick:function(data){this.$emit("subscription-purchase",data),this.$store&&this.$store.dispatch&&this.$store.dispatch("subscription/SHOW_MODAL",{content_type:data.type,content_id:data.id})},handleResize:function(){this.isMobile=window.innerWidth<=768},initPlayer:function(){var t=this.$i18n.locale;"fa"===t&&m.default.addLanguage("fa",y);var e=!(!this.playerAutoPlay||!1===this.autoPlay);this.parseAudioOptionsFromStream(this.stream),console.log("[VideoPlayer] Parsed audio options:",this.audioOptions);var r=this.currentStream||this.stream;try{var n=localStorage.getItem("".concat(this.playerid,"-audioLang"));if(n&&this.audioOptions){var o=this.audioOptions.find(function(t){return t.lang===n});o&&(console.log("[VideoPlayer] Using persisted audio:",n),r=this.buildStreamWithAudio(this.stream,o.lang),this.currentAudioLang=o.lang)}else if(this.audioOptions){var l=this.audioOptions.find(function(t){return t.lang&&"fa"===t.lang.toString().toLowerCase()});if(l)console.log("[VideoPlayer] Using FA audio as default"),r=this.buildStreamWithAudio(this.stream,l.lang),this.currentAudioLang=l.lang;else{var d,c=new URL(this.stream,window.location.origin),v=new URLSearchParams(c.search),f=!1,h=k(v.keys());try{for(h.s();!(d=h.n()).done;){var x=d.value;if(/^audio\[.+\]$/.test(x)){f=!0;break}}}catch(t){h.e(t)}finally{h.f()}!f&&this.audioOptions&&this.audioOptions.length>0&&(console.log("[VideoPlayer] No audio param in URL, assuming first option as default:",this.audioOptions[0].lang),this.currentAudioLang=this.audioOptions[0].lang)}}}catch(t){console.warn("[VideoPlayer] Error initializing audio state:",t)}console.log("[VideoPlayer] Initial audio lang:",this.currentAudioLang),console.log("[VideoPlayer] Initial stream:",r),this.currentStream=r,this.player=Object(m.default)(this.playerid,{autoplay:e,controls:!0,controlBar:{children:["progressControl","playToggle","volumePanel","fullscreenToggle"]},fluid:!0,poster:this.posterUrl,language:t,sources:[{src:r,type:"application/x-mpegURL"}]}),this.player.addClass("vjs-split-controls"),this.applyRtlSettings(),this.setupVastPlugin(),this.setupPlayerEvents()},applyRtlSettings:function(){var t=this.$refs[this.playerid];t&&(t.classList.toggle("vjs-rtl",this.isRtl),t.style.direction=this.isRtl?"rtl":"ltr")},setupVastPlugin:function(){if(this.vastUrl){var t={vastUrl:this.vastUrl,playAdAlways:!0,withCredentials:!1,mediaFileRegex:/.*/,addCtaClickZone:!1,timeout:5,skipButtonOptions:{text:"رد کردن >>"}};this.player.vast(t),this.setupVastCtaButton()}},setupVastCtaButton:function(){var t=document.getElementById("vast-cta-btn");if(t){this.player.on("vast.play",function(e,r){var n=r.ctaUrl,o=r.adClickCallback,l=r.adTitle;t.innerText=l,n&&(t.style.display="block",t.onclick=function(){o(),window.open(n,"_blank")})});var e=function(){t.style.display="none"};this.player.on("vast.complete",e),this.player.on("vast.error",e)}},setupAdEvents:function(){var t=this;this.player.on("vast.play",function(){t.adActive=!0}),this.player.on(["vast.complete","vast.skip"],function(){t.adActive=!1})},setupTextTracks:function(){var t,e=this,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==(t=this.tracks)&&void 0!==t&&t.length&&(!this.subtitleTracksInitialized||r)){console.log("[VideoPlayer] Setting up text tracks. Current audio lang:",this.currentAudioLang);for(var n=this.player.remoteTextTracks(),i=n.length-1;i>=0;i--)this.player.removeRemoteTextTrack(n[i]);this.tracks.forEach(function(track){e.player.addRemoteTextTrack({kind:track.kind,src:track.src,label:track.label,srclang:track.language||"",default:track.default||!1},!1).track.mode="disabled"});for(var o=-1,l=0;l<this.tracks.length;l++){var d=this.tracks[l],c=(d.language||d.label||"").toString().toLowerCase();if("fa"===c||"farsi"===c||c.includes("fa")){o=l;break}}var v=this.player.textTracks();if(this.currentAudioLang&&"fa"===this.currentAudioLang.toString().toLowerCase()){console.log("[VideoPlayer] FA audio detected, disabling all subtitles");for(var f=0;f<v.length;f++)v[f].mode="disabled";this.currentSubtitle=null}else if(this.currentAudioLang&&"en"===this.currentAudioLang.toString().toLowerCase())if(-1!==o){console.log("[VideoPlayer] EN audio detected, enabling FA subtitle at index:",o);for(var h=0;h<v.length;h++)v[h].mode=h===o?"showing":"disabled";this.currentSubtitle=o}else{console.log("[VideoPlayer] EN audio but no FA subtitle found, disabling all");for(var m=0;m<v.length;m++)v[m].mode="disabled";this.currentSubtitle=null}else if(console.log("[VideoPlayer] Audio language unknown, applying fallback logic"),-1!==o){console.log("[VideoPlayer] Enabling FA subtitle as fallback at index:",o);for(var y=0;y<v.length;y++)v[y].mode=y===o?"showing":"disabled";this.currentSubtitle=o}else{for(var x=!1,w=0;w<this.tracks.length;w++)if(this.tracks[w].default){v[w].mode="showing",this.currentSubtitle=w,x=!0;break}if(!x){for(var j=0;j<v.length;j++)v[j].mode="disabled";this.currentSubtitle=null}}this.subtitleTracksInitialized=!0}},setupCustomButtons:function(){this.createRuntimeDisplay(),this.hasPlaylist&&this.createPlaylistButton(),this.createNextButton(),this.createPipButton(),this.createSettingsButton(),this.isRtl&&this.createCustomRTLVolumeControl(),this.showAutoPlayToggle&&this.createSkipButtons()},getFullscreenInsertIndex:function(){var t=this.player.controlBar.getChild("fullscreenToggle"),e=this.player.controlBar.children().indexOf(t);return-1===e?this.player.controlBar.children().length-1:e},createNextButton:function(){var t=m.default.getComponent("Button"),e=z,r=function(t){function r(t,n){var o;Object(l.a)(this,r),(o=w(this,r,[t,n])).addClass("vjs-next-button"),o.addClass("vjs-custom-icon-button"),o.controlText("قسمت بعد");var img=document.createElement("img");return img.src=e,img.className="vjs-button-icon",o.el().appendChild(img),o}return Object(f.a)(r,t),Object(d.a)(r,[{key:"handleClick",value:function(){this.player().trigger("ended")}}])}(t);m.default.registerComponent("NextButton",r),this.player.controlBar.addChild("NextButton",{},this.getFullscreenInsertIndex())},createPipButton:function(){var t=function(t){function e(t,r){var n;Object(l.a)(this,e),(n=w(this,e,[t,r])).addClass("vjs-pip-button"),n.controlText("تصویر در تصویر");var o=document.createElement("span");return o.className="vjs-icon-pip",o.innerHTML='<i class="fa fa-clone"></i>',n.el().appendChild(o),n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"handleClick",value:function(){var t=this.player().el().querySelector("video");t&&(document.pictureInPictureElement?document.exitPictureInPicture():t.requestPictureInPicture&&t.requestPictureInPicture().catch(function(t){console.error("Picture-in-Picture error:",t)}))}}])}(m.default.getComponent("Button"));m.default.registerComponent("PipButton",t),this.player.controlBar.addChild("PipButton",{},this.getFullscreenInsertIndex())},createSettingsButton:function(){var t=m.default.getComponent("Button"),e=this,r=L,n=function(t){function n(t,e){var o;Object(l.a)(this,n),(o=w(this,n,[t,e])).addClass("vjs-settings-button"),o.addClass("vjs-custom-icon-button"),o.controlText("تنظیمات");var img=document.createElement("img");return img.src=r,img.className="vjs-button-icon",o.el().appendChild(img),o}return Object(f.a)(n,t),Object(d.a)(n,[{key:"handleClick",value:function(){e.toggleSettingsDrawer()}}])}(t);m.default.registerComponent("SettingsButton",n),this.player.controlBar.addChild("SettingsButton",{},this.getFullscreenInsertIndex())},toggleSettingsDrawer:function(){this.showSettingsDrawer=!this.showSettingsDrawer,this.showSettingsDrawer&&(this.settingsDrawerView="main")},closeSettingsDrawer:function(){this.showSettingsDrawer=!1,this.settingsDrawerView="main"},backToMain:function(){this.settingsDrawerView="main"},openSpeedSettings:function(){this.settingsDrawerView="speed"},openSubtitleSettings:function(){this.settingsDrawerView="subtitle"},openQualitySettings:function(){this.settingsDrawerView="quality"},getSpeedLabel:function(){var t=this,e=D.find(function(e){return e.value===t.currentPlaybackRate});return e?e.label:"۱x (عادی)"},getSubtitleLabel:function(){var t=this;if(null===this.currentSubtitle)return"خاموش";var track=this.getSubtitleTracks().find(function(e){return e.index===t.currentSubtitle});return(null==track?void 0:track.label)||"خاموش"},getQualityLabel:function(){return V[this.currentQuality]||"خودکار"},isSpeedActive:function(t){return Math.abs(this.currentPlaybackRate-t)<.01},selectSpeed:function(t){this.currentPlaybackRate=t,this.player&&this.player.playbackRate(t),this.closeSettingsDrawer()},getSubtitleTracks:function(){if(!this.player)return[];for(var t=this.player.textTracks(),e=[],i=0;i<t.length;i++){var track=t[i];if("subtitles"===track.kind||"captions"===track.kind){var r=I[track.language]||track.label||"زبان ".concat(i+1);e.push({label:r,language:track.language,index:i})}}return e},selectSubtitle:function(t){if(this.currentSubtitle=t,this.player){for(var e=this.player.textTracks(),i=0;i<e.length;i++)e[i].mode="disabled";null!==t&&e[t]&&(e[t].mode="showing")}this.closeSettingsDrawer()},getAvailableQualities:function(){return[{value:"auto",label:"خودکار"},{value:"1080p",label:"۱۰۸۰p - Full HD"},{value:"720p",label:"۷۲۰p - HD"},{value:"480p",label:"۴۸۰p - SD"},{value:"360p",label:"۳۶۰p"}]},isQualityActive:function(t){return this.currentQuality===t},selectQuality:function(t){if(this.currentQuality=t,this.player&&this.player.qualityLevels){var e=this.player.qualityLevels();if("auto"===t)for(var i=0;i<e.length;i++)e[i].enabled=!0;else for(var r=0;r<e.length;r++){var n=e[r].height;e[r].enabled=n+"p"===t}}this.closeSettingsDrawer()},createCustomRTLVolumeControl:function(){var t=this.player.controlBar.getChild("volumePanel");t&&this.player.controlBar.removeChild(t);var e=function(t){function e(t,r){var n;return Object(l.a)(this,e),(n=w(this,e,[t,r])).addClass("vjs-custom-rtl-volume"),n.volumeLevel=t.volume(),n.isDragging=!1,n.createVolumeElements(),n.attachEventHandlers(),n.updateVolumeDisplay(),n.updateMuteIcon(),t.on("volumechange",function(){n.volumeLevel=t.volume(),n.updateVolumeDisplay(),n.updateMuteIcon()}),n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"createVolumeElements",value:function(){this.el().innerHTML='\n        <button class="vjs-rtl-volume-button vjs-control vjs-button vjs-custom-icon-button" type="button">\n          <img class="vjs-button-icon" />\n        </button>\n        <div class="vjs-rtl-volume-control vjs-control">\n          <div class="vjs-rtl-volume-bar">\n            <div class="vjs-rtl-volume-level">\n              <span class="vjs-rtl-volume-handle"></span>\n            </div>\n          </div>\n        </div>\n      '}},{key:"attachEventHandlers",value:function(){var t=this,button=this.el().querySelector(".vjs-rtl-volume-button"),e=this.el().querySelector(".vjs-rtl-volume-control"),r=this.el().querySelector(".vjs-rtl-volume-bar");button.addEventListener("click",function(e){e.stopPropagation(),t.player().volume()>0?(t.lastVolume=t.player().volume(),t.player().volume(0)):t.player().volume(t.lastVolume||.5)}),this.el().addEventListener("mouseenter",function(){e.classList.add("vjs-slider-active")}),this.el().addEventListener("mouseleave",function(){t.isDragging||e.classList.remove("vjs-slider-active")}),r.addEventListener("mousedown",function(r){t.isDragging=!0,t.updateVolumeFromEvent(r);var n=function(e){t.isDragging&&t.updateVolumeFromEvent(e)},o=function(){t.isDragging=!1,e.classList.remove("vjs-slider-active"),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",o)}),r.addEventListener("click",function(e){t.updateVolumeFromEvent(e)})}},{key:"updateVolumeFromEvent",value:function(t){var rect=this.el().querySelector(".vjs-rtl-volume-bar").getBoundingClientRect(),e=(t.clientX-rect.left)/rect.width;e=Math.max(0,Math.min(1,e)),this.volumeLevel=e,this.player().volume(e)}},{key:"updateVolumeDisplay",value:function(){var t=this.el().querySelector(".vjs-rtl-volume-level");if(t){var e=100*this.volumeLevel;t.style.width="".concat(e,"%")}}},{key:"updateMuteIcon",value:function(){var button=this.el().querySelector(".vjs-rtl-volume-button"),img=this.el().querySelector(".vjs-button-icon");if(button&&img){var t=this.player().volume();img.src=0===t?O:t<.5?B:A,img.alt=0===t?"Unmute":"Mute"}}},{key:"createEl",value:function(){return m.default.dom.createEl("div",{className:"vjs-custom-rtl-volume vjs-volume-panel vjs-control vjs-volume-panel-horizontal"})}}])}(m.default.getComponent("Component"));m.default.registerComponent("CustomRTLVolumeControl",e);var r,n=this.player.controlBar.getChild("Next10Button"),o=this.player.controlBar.getChild("playToggle");r=n?this.player.controlBar.children().indexOf(n)+1:o?this.player.controlBar.children().indexOf(o)+1:1;var c=this.player.controlBar.addChild("CustomRTLVolumeControl",{},r);setTimeout(function(){c&&c.updateMuteIcon&&c.updateMuteIcon()},100)},createPlaylistButton:function(){var t=this,e=m.default.getComponent("Button"),r=E,n=function(t){function e(t,n){var o;Object(l.a)(this,e),(o=w(this,e,[t,n])).addClass("vjs-playlist-button"),o.addClass("vjs-custom-icon-button"),o.controlText("انتخاب فصل و قسمت");var img=document.createElement("img");return img.src=r,img.className="vjs-button-icon",o.el().appendChild(img),o}return Object(f.a)(e,t),Object(d.a)(e,[{key:"handleClick",value:function(){this.player().trigger("playlistButtonClick")}}])}(e);m.default.registerComponent("PlaylistButton",n),this.player.controlBar.addChild("PlaylistButton",{},this.player.controlBar.children().length-1),this.player.on("playlistButtonClick",function(){t.$emit("playlistButtonClick")})},createSkipButtons:function(){if(!this.isMobile){var t=m.default.getComponent("Button"),e=function(t){function e(t,r){var n;Object(l.a)(this,e),(n=w(this,e,[t,r])).addClass("vjs-prev10-button"),n.controlText("10 ثانیه قبل");var o=document.createElement("img");return o.src=T,o.style.width="20px",o.style.height="20px",o.alt="10 seconds back",n.el().appendChild(o),n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"handleClick",value:function(){var t=this.player().currentTime();this.player().currentTime(Math.max(t-10,0))}}])}(t),r=function(t){function e(t,r){var n;Object(l.a)(this,e),(n=w(this,e,[t,r])).addClass("vjs-next10-button"),n.controlText("10 ثانیه بعد");var o=document.createElement("img");return o.src=P,o.style.width="20px",o.style.height="20px",o.alt="10 seconds forward",n.el().appendChild(o),n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"handleClick",value:function(){var t=this.player().currentTime(),e=this.player().duration();this.player().currentTime(Math.min(t+10,e))}}])}(t);m.default.registerComponent("Prev10Button",e),m.default.registerComponent("Next10Button",r);var n=this.player.controlBar.getChild("PlayToggle"),o=this.player.controlBar.children().indexOf(n);this.player.controlBar.addChild("Prev10Button",{},o),this.player.controlBar.addChild("Next10Button",{},o+2)}},setupPlaybackEvents:function(){var t=this;this.player.on("play",function(){t.handlePlayEvent()}),this.player.on("timeupdate",function(){var e=t.player.currentTime(),r=t.player.duration();t.currentTimeFormatted=t.formatTime(e),t.durationFormatted=t.formatTime(r),t.$emit("timeupdate",{currentTime:e,duration:r,player:t.player})}),this.player.on("ended",function(){t.autoPlay&&t.$emit("ended")})},formatTime:function(t){if(!t||isNaN(t))return"00:00";var e=Math.floor(t/3600),r=Math.floor(t%3600/60),n=Math.floor(t%60);return e>0?"".concat(e.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0")):"".concat(r.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},handlePlayEvent:function(){var t=this;!this.viewsIncremented&&this.shouldIncrementViews&&this.videoid&&this.$axios.$post("/nocache/videos/".concat(this.videoid,"/increment-views"),{videotype:this.videotype}).then(function(){t.viewsIncremented=!0}).catch(function(t){console.error("Error incrementing views:",t)}),this.muteOnOtherPlay&&this.$emit("video-played",this.playerid)},customizeQualityLabels:function(){var t=this;this.player.el().querySelector(".vjs-quality-selector")&&new MutationObserver(function(){t.player.el().querySelectorAll(".vjs-quality-selector .vjs-menu-item").forEach(function(t){var text=t.textContent.trim();V[text]&&(t.textContent=V[text])})}).observe(this.player.el(),{childList:!0,subtree:!0})},play:function(){var t;null===(t=this.player)||void 0===t||t.play()},pause:function(){var t;null===(t=this.player)||void 0===t||t.pause()},updateIcon:function(){var button=this.player.controlBar.getChild("AutoPlayButton");null==button||button.updateIcon()},handleKeydown:function(t){var e=this;if(this.player){var r={ArrowLeft:function(){return e.seekBackward()},ArrowRight:function(){return e.seekForward()},ArrowUp:function(){return e.volumeUp()},ArrowDown:function(){return e.volumeDown()}," ":function(){return e.togglePlayPause(t)}}[t.key];r&&r()}},seekBackward:function(){var t=Math.max(this.player.currentTime()-10,0);this.player.currentTime(t)},seekForward:function(){var t=Math.min(this.player.currentTime()+10,this.player.duration());this.player.currentTime(t)},volumeUp:function(){var t=Math.min(this.player.volume()+.1,1);this.player.volume(t)},volumeDown:function(){var t=Math.max(this.player.volume()-.1,0);this.player.volume(t)},togglePlayPause:function(t){t.preventDefault(),this.player.paused()?this.player.play():this.player.pause()},createRuntimeDisplay:function(){var t=function(t){function e(){return Object(l.a)(this,e),w(this,e,arguments)}return Object(f.a)(e,t),Object(d.a)(e,[{key:"updateText",value:function(){var t=this.player().currentTime(),e=this.player().duration(),r=function(t){if(!t||isNaN(t))return"00:00";var e=Math.floor(t/3600),r=Math.floor(t%3600/60),n=Math.floor(t%60);return e>0?"".concat(e.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0")):"".concat(r.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},n=r(t),o=r(e);this.el().innerHTML="".concat(n," / ").concat(o)}}])}(m.default.getComponent("Component"));m.default.registerComponent("RuntimeDisplay",t);var e,r=this.player.controlBar,n=r.getChild("volumePanel"),o=r.getChild("fullscreenToggle");e=n?r.children().indexOf(n)+1:o?r.children().indexOf(o):r.children().length-2,r.addChild("RuntimeDisplay",{},e)},setupCreditsSkip:function(){var t=this;this.creditCheckInterval&&clearInterval(this.creditCheckInterval),this.creditCheckInterval=setInterval(function(){t.checkCreditsPosition()},1e3),this.player.on("dispose",function(){t.creditCheckInterval&&clearInterval(t.creditCheckInterval)})},checkCreditsPosition:function(){if(this.player&&!this.player.paused()){var t=this.player.currentTime();this.isInFirstCredits(t)?(this.showSkipCredits=!0,this.currentCreditType="first_credits",this.skipButtonText="رد کردن تیتراژ"):(this.showSkipCredits=!1,this.currentCreditType=null)}},isInFirstCredits:function(t){var e=this.creditsData,r=e.first_credits,n=e.after_credits;return r>=0&&t>r&&t<n},isInFinalCredits:function(t,e){var r=this.creditsData.final_credits;return t>=(r>0?r:.9*e)&&e>0},skipCredits:function(){var t=this;if(this.player){var e={first_credits:function(){t.player.currentTime(t.creditsData.after_credits||60)},final_credits:function(){var e=t.player.duration();t.player.currentTime(e-1),t.$emit("credits-skipped","final_credits")}}[this.currentCreditType];e&&e(),this.showSkipCredits=!1,this.currentCreditType=null}},setupAutoHideControls:function(){var t=this;if(this.player){var e=null,r=function(){if(!t.player.paused()){t.player.userActive(!1);var e=document.querySelector(".video-title-bottom"),r=document.querySelector(".video-timer-bottom"),n=document.querySelector(".skip-credits-btn"),o=document.querySelector(".back-button"),l=document.querySelector(".site-logo"),d=document.querySelector(".vjs-control-bar");e&&(e.style.opacity="0"),r&&(r.style.opacity="0"),n&&(n.style.opacity="0"),o&&(o.style.opacity="0"),l&&(l.style.opacity="0"),d&&d.style.setProperty("opacity","0","important")}},n=function(){t.player.userActive(!0);var e=document.querySelector(".video-title-bottom"),r=document.querySelector(".video-timer-bottom"),n=document.querySelector(".skip-credits-btn"),o=document.querySelector(".back-button"),l=document.querySelector(".site-logo"),d=document.querySelector(".vjs-control-bar");e&&(e.style.opacity="1"),r&&(r.style.opacity="1"),n&&(n.style.opacity="1"),o&&(o.style.opacity="1"),l&&(l.style.opacity="1"),d&&d.style.setProperty("opacity","1","important")},o=function(){clearTimeout(e),n(),t.player.paused()||(e=setTimeout(r,3e3))},l=this.player.el();l.addEventListener("mousemove",o),l.addEventListener("touchstart",o),l.addEventListener("click",o),this.player.on("pause",function(){clearTimeout(e),n()}),this.player.on("play",o),this.player.on("playing",o),this.player.on("dispose",function(){clearTimeout(e)}),this.player.paused()||o()}},setupPlayerEvents:function(){var t=this;this.player.ready(function(){if(t.setupAdEvents(),t.setupTextTracks(),t.setupCustomButtons(),t.setupPlaybackEvents(),t.setupCreditsSkip(),t.applySubtitleStyles(),t.setupProgressBarPreview(),t.currentPlaybackRate=t.player.playbackRate(),t.initializeSubtitleState(),t.initializeAudioState(),t.detectActualAudioTrack(),t.setupFullscreenCustomOverlays(),t.setupAutoHideControls(),"fa"===t.$i18n.locale){var e,r=null===(e=t.player.controlBar)||void 0===e||null===(e=e.getChild("volumePanel"))||void 0===e||null===(e=e.volumeControl)||void 0===e?void 0:e.volumeBar;if(r){var n=r.handleMouseMove;r.handleMouseMove=function(t){if(t){var rect=this.el_.getBoundingClientRect(),e=t.clientX-rect.left,r=rect.width-e,o=new MouseEvent(t.type,{clientX:rect.left+r,clientY:t.clientY,bubbles:!0});return n.call(this,o)}return n.call(this,t)}}}if(!(!t.playerAutoPlay||!1===t.autoPlay)){var o=t.player.play();o&&"function"==typeof o.then&&o.catch(function(){try{t.player.muted(!0),t.player.play().catch(function(){})}catch(t){}})}})},setupFullscreenCustomOverlays:function(){var t=this;if(this.player){var e=this.player.el(),r=function(){var r=document.getElementById("".concat(t.playerid,"-skip-credits")),n=document.getElementById("".concat(t.playerid,"-title")),o=document.getElementById("".concat(t.playerid,"-timer"));r&&!e.contains(r)&&e.appendChild(r),n&&!e.contains(n)&&e.appendChild(n),o&&!e.contains(o)&&e.appendChild(o),t.moveDrawerToPlayer()};this.player.on("fullscreenchange",function(){var n,o,l,d,c;t.player.isFullscreen()?r():(n=e.parentElement,o=document.getElementById("".concat(t.playerid,"-skip-credits")),l=document.getElementById("".concat(t.playerid,"-title")),d=document.getElementById("".concat(t.playerid,"-timer")),c=document.getElementById("".concat(t.playerid,"-settings-drawer")),o&&e.contains(o)&&n.appendChild(o),l&&e.contains(l)&&n.appendChild(l),d&&e.contains(d)&&n.appendChild(d),c&&e.contains(c)&&n.appendChild(c))}),setTimeout(function(){r()},100)}},moveDrawerToPlayer:function(){if(this.player){var t=this.player.el(),e=this.$refs.settingsDrawer;e||(e=document.getElementById("".concat(this.playerid,"-settings-drawer"))),e&&!t.contains(e)&&t.appendChild(e)}},initializeSubtitleState:function(){if(this.player){for(var t=this.player.textTracks(),e=!1,i=0;i<t.length;i++)if("showing"===t[i].mode){this.currentSubtitle=i,e=!0;break}e||(this.currentSubtitle=null)}},detectActualAudioTrack:function(){var t=this;this.player&&this.player.on("loadedmetadata",function(){try{var e=t.player.tech({IWillNotUseThisInPlugins:!0});if(e&&e.vhs){var r=e.audioTracks();if(r&&r.length>0)for(var i=0;i<r.length;i++)if(r[i].enabled){var n=(r[i].label||r[i].language||"").toLowerCase(),o=null;n.includes("fa")||n.includes("farsi")||n.includes("persian")?o="FA":(n.includes("en")||n.includes("english"))&&(o="EN"),!o||t.currentAudioLang&&t.currentAudioLang===o||(console.log("Detected actual audio track:",o),t.currentAudioLang=o,t.syncSubtitlesWithAudio());break}}}catch(t){console.warn("Could not detect audio track:",t)}})},syncSubtitlesWithAudio:function(){if(this.player&&this.tracks&&0!==this.tracks.length){for(var t=this.player.textTracks(),e=-1,i=0;i<this.tracks.length;i++){var r=this.tracks[i],n=(r.language||r.label||"").toString().toLowerCase();if("fa"===n||"farsi"===n||n.includes("fa")){e=i;break}}if(this.currentAudioLang&&"fa"===this.currentAudioLang.toString().toLowerCase()){for(var o=0;o<t.length;o++)t[o].mode="disabled";this.currentSubtitle=null}else if(this.currentAudioLang&&-1!==e){for(var l=0;l<t.length;l++)t[l].mode=l===e?"showing":"disabled";this.currentSubtitle=e}}},parseAudioOptionsFromStream:function(t){try{if(!t)return void(this.audioOptions=null);var e,r=new URL(t,window.location.origin),n=new URLSearchParams(r.search),l=[],d=k(n.entries());try{for(d.s();!(e=d.n()).done;){var c=Object(o.a)(e.value,2),v=c[0],f=c[1],h=v.match(/^audio\[(.+)\]$/);if(h){var m=h[1],label=I[m.toLowerCase()]||m;"fa"===m.toLowerCase()||"FA"===m?label="دوبله":"en"!==m.toLowerCase()&&"EN"!==m||(label="زبان اصلی"),l.push({lang:m,token:f,label:label})}}}catch(t){d.e(t)}finally{d.f()}this.audioOptions=l.length?l:null}catch(t){console.warn("parseAudioOptionsFromStream error",t),this.audioOptions=null}},buildStreamWithAudio:function(t,e){try{if(!t)return t;for(var r=new URL(t,window.location.origin),n=new URLSearchParams(r.search),o=0,l=Array.from(n.keys());o<l.length;o++){var d=l[o];/^audio\[.+\]$/.test(d)&&n.delete(d)}if(e){var c,v=null===(c=this.audioOptions)||void 0===c?void 0:c.find(function(t){return t.lang===e});v&&n.set("audio[".concat(v.lang,"]"),v.token)}return r.search=n.toString(),r.toString()}catch(e){return console.warn("buildStreamWithAudio error",e),t}},initializeAudioState:function(){},openAudioSettings:function(){this.settingsDrawerView="audio"},getAudioLabelDisplay:function(){var t=this;if(!this.audioOptions)return"پیش‌فرض";if(!this.currentAudioLang)return"پیش‌فرض";var e=this.audioOptions.find(function(e){return e.lang===t.currentAudioLang});return e?e.label:"پیش‌فرض"},selectAudio:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.player){this.currentAudioLang=t;try{t?localStorage.setItem("".concat(this.playerid,"-audioLang"),t):localStorage.removeItem("".concat(this.playerid,"-audioLang"))}catch(t){console.warn("parseAudioOptionsFromStream error",t)}try{var n=this.stream,o=this.buildStreamWithAudio(n,t);this.currentStream=o;var l=this.player.currentTime(),d=!this.player.paused();this.player.pause(),this.player.src({src:o,type:"application/x-mpegURL"}),this.player.one("loadedmetadata",function(){try{if(!isNaN(l)&&l>0){var t=e.player.duration();(!t||l<=t)&&e.player.currentTime(l)}}catch(t){console.warn("seek after audio change failed",t)}try{e.setupTextTracks(!0)}catch(t){console.warn("reinit subtitles after audio change failed",t)}d&&e.player.play().catch(function(){})})}catch(t){console.error("selectAudio error",t)}r.preserveDrawer||this.closeSettingsDrawer()}else this.currentAudioLang=t},openSubtitleStyleSettings:function(){this.settingsDrawerView="subtitle-style"},backToSubtitleSettings:function(){this.settingsDrawerView="subtitle"},updateSubtitleStyle:function(t,e){this.subtitleStyle[t]=e,this.applySubtitleStyles()},applySubtitleStyles:function(){if(this.player){var t=this.player.el().querySelector(".vjs-text-track-display");if(t){var e={small:"20px",medium:"24px",large:"28px","x-large":"32px"}[this.subtitleStyle.fontSize]||"24px";t.style.cssText+="font-size: ".concat(e," !important;"),this.updateExistingCues(),this.setupCueObserver(),this.injectSubtitleStyles()}}},setupCueObserver:function(){var t=this,e=this.player.el().querySelector(".vjs-text-track-display");e&&(this.cueObserver&&this.cueObserver.disconnect(),this.cueObserver=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){e.classList&&e.classList.contains("vjs-text-track-cue")&&t.applyCueStyles(e)})})}),this.cueObserver.observe(e,{childList:!0,subtree:!0}))},updateExistingCues:function(){var t=this,e=this.player.el().querySelector(".vjs-text-track-display");e&&e.querySelectorAll(".vjs-text-track-cue").forEach(function(e){t.applyCueStyles(e)})},applyCueStyles:function(t){var e=t.querySelector("div");if(e){var r={small:"20px",medium:"24px",large:"28px","x-large":"32px"}[this.subtitleStyle.fontSize]||"24px",n="\n    font-size: ".concat(r," !important;\n    color: ").concat(this.subtitleStyle.color," !important;\n    background-color: rgba(0, 0, 0, ").concat(this.subtitleStyle.background,") !important;\n    padding: ").concat(this.subtitleStyle.background>0?"4px 8px":"0",' !important;\n    border-radius: 4px !important;\n    font-family: Arial, "Segoe UI", Tahoma, sans-serif !important;\n    font-weight: bold !important;\n    line-height: 1.4 !important;\n  '),o={none:"none",light:"0 1px 2px rgba(0,0,0,0.8) !important",medium:"0 2px 4px rgba(0,0,0,0.8) !important",heavy:"0 3px 6px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.9) !important"}[this.subtitleStyle.shadow]||"none";e.style.cssText+=n+"text-shadow: ".concat(o,";"),t.style.cssText+="font-size: ".concat(r," !important;")}},injectSubtitleStyles:function(){var t=document.getElementById("custom-subtitle-styles");t&&t.remove();var style=document.createElement("style");style.id="custom-subtitle-styles";var e={small:"20px",medium:"24px",large:"28px","x-large":"32px"}[this.subtitleStyle.fontSize]||"24px",r={none:"none",light:"0 1px 2px rgba(0,0,0,0.8)",medium:"0 2px 4px rgba(0,0,0,0.8)",heavy:"0 3px 6px rgba(0,0,0,0.8), 0 1px 2px rgba(0,0,0,0.9)"}[this.subtitleStyle.shadow]||"none";style.textContent="\n    .vjs-text-track-display {\n      font-size: ".concat(e," !important;\n    }\n    .vjs-text-track-cue {\n      font-size: ").concat(e," !important;\n    }\n    .vjs-text-track-cue div {\n      font-size: ").concat(e," !important;\n      color: ").concat(this.subtitleStyle.color," !important;\n      background-color: rgba(0, 0, 0, ").concat(this.subtitleStyle.background,") !important;\n      padding: ").concat(this.subtitleStyle.background>0?"4px 8px":"0",' !important;\n      border-radius: 4px !important;\n      font-family: Arial, "Segoe UI", Tahoma, sans-serif !important;\n      font-weight: bold !important;\n      text-shadow: ').concat(r," !important;\n      line-height: 1.4 !important;\n    }\n  "),document.head.appendChild(style)},resetSubtitleStyles:function(){this.subtitleStyle={fontSize:"medium",color:"#ffffff",background:.8,shadow:"medium"},this.applySubtitleStyles()},setupProgressBarPreview:function(){var t=this;if(this.player){var e=this.player.controlBar.getChild("progressControl");e&&(this.progressBarElement=e.el(),this.progressBarElement.addEventListener("mouseenter",this.handleProgressBarEnter),this.progressBarElement.addEventListener("mousemove",this.handleProgressBarMove),this.progressBarElement.addEventListener("mouseleave",this.handleProgressBarLeave),this.player.on("dispose",function(){t.progressBarElement&&(t.progressBarElement.removeEventListener("mouseenter",t.handleProgressBarEnter),t.progressBarElement.removeEventListener("mousemove",t.handleProgressBarMove),t.progressBarElement.removeEventListener("mouseleave",t.handleProgressBarLeave))}))}},handleProgressBarEnter:function(){this.showProgressPreview=!0,this.lastPreviewTime=-1},handleProgressBarMove:function(t){if(this.player&&this.progressBarElement){var rect=this.progressBarElement.getBoundingClientRect(),e=this.player.duration();if(e&&!isNaN(e)){var r=t.clientX-rect.left,n=Math.max(0,Math.min(1,r/rect.width))*e,o=Math.round(n);this.previewTime=this.formatTime(o);var l=t.clientX-rect.left-80;l=Math.max(10,Math.min(l,rect.width-160-10)),this.previewPosition.x=l+14}}},handleProgressBarLeave:function(){this.showProgressPreview=!1},generateThumbnailPreview:function(time){if(this.player&&this.$refs.previewCanvas){var canvas=this.$refs.previewCanvas,t=canvas.getContext("2d"),e=this.player.el().querySelector("video");if(e)try{var r=document.createElement("video");r.src=e.src||e.currentSrc,r.crossOrigin="anonymous",r.muted=!0,r.currentTime=time,r.addEventListener("loadeddata",function(){t.drawImage(r,0,0,canvas.width,canvas.height),r.remove()}),r.addEventListener("error",function(){t.fillStyle="#1a1a1a",t.fillRect(0,0,canvas.width,canvas.height),t.fillStyle="#ffffff",t.font="14px Arial",t.textAlign="center",t.fillText("پیش‌نمایش",canvas.width/2,canvas.height/2),r.remove()})}catch(e){t.fillStyle="#1a1a1a",t.fillRect(0,0,canvas.width,canvas.height),t.fillStyle="#ffffff",t.font="14px Arial",t.textAlign="center",t.fillText("پیش‌نمایش",canvas.width/2,canvas.height/2)}}}})},R=M,F=(r(1088),r(28)),component=Object(F.a)(R,function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative"}},[!t.stream&&t.posterUrl?e("div",{staticClass:"video-placeholder",style:{backgroundImage:"url(".concat(t.posterUrl,")")}},[t.title?e("div",{staticClass:"video-title-overlay"},[t._v("\n      "+t._s(t.displayTitle)+"\n    ")]):t._e()]):e("video",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],ref:t.playerid,staticClass:"video-js vjs-default-skin vjs-theme-fantasy vjs-big-play-centered vjs-16-9",staticStyle:{width:"100%",height:"100%","border-radius":"0.375rem"},attrs:{id:t.playerid,controls:"",preload:"auto",playsinline:"","webkit-playsinline":"","x5-playsinline":"","data-poster":t.posterUrl}}),t._v(" "),t.showSkipCredits&&t.stream&&t.showSkipCreditsButton?e("button",{staticClass:"skip-credits-btn",attrs:{id:"".concat(t.playerid,"-skip-credits")},on:{click:t.skipCredits}},[t._v("\n    "+t._s(t.skipButtonText)+"\n    "),t._m(0)]):t._e(),t._v(" "),t.title&&t.stream?e("div",{staticClass:"video-title-bottom",attrs:{id:"".concat(t.playerid,"-title")}},[t._v("\n    "+t._s(t.displayTitle)+"\n  ")]):t._e(),t._v(" "),t.stream?e("div",{staticClass:"video-timer-bottom",attrs:{id:"".concat(t.playerid,"-timer")}},[t._v("\n    "+t._s(t.currentTimeFormatted)+" / "+t._s(t.durationFormatted)+"\n  ")]):t._e(),t._v(" "),t.stream&&t.showProgressPreview?e("div",{ref:"progressPreview",staticClass:"progress-preview-popover",style:{left:t.previewPosition.x+"px"},attrs:{id:"".concat(t.playerid,"-progress-preview")}},[e("div",{staticClass:"preview-thumbnail"},[e("canvas",{ref:"previewCanvas",attrs:{width:"160",height:"90"}})]),t._v(" "),e("div",{staticClass:"preview-time"},[t._v(t._s(t.previewTime))])]):t._e(),t._v(" "),e("button",{attrs:{id:"vast-cta-btn"}},[t._v("اطلاعات بیشتر")]),t._v(" "),t.fullrateData&&t.contentId&&t.contentType?e("SubscriptionButton",{attrs:{"fullrate-data":t.fullrateData,"content-id":t.contentId,"content-type":t.contentType},on:{"subscription-click":t.handleSubscriptionClick}}):t._e(),t._v(" "),t.showSettingsDrawer?e("div",{ref:"settingsDrawer",staticClass:"settings-drawer-overlay",attrs:{id:"".concat(t.playerid,"-settings-drawer")},on:{click:t.closeSettingsDrawer}},[e("div",{staticClass:"settings-drawer",class:{"mobile-drawer":t.isMobile},on:{click:function(t){t.stopPropagation()}}},["main"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[t._m(1),t._v(" "),e("div",{staticClass:"drawer-body"},[e("div",{staticClass:"drawer-item",on:{click:t.openSpeedSettings}},[t._m(2),t._v(" "),e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("سرعت پخش")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v(t._s(t.getSpeedLabel()))])]),t._v(" "),t._m(3)]),t._v(" "),t.tracks&&t.tracks.length>0?e("div",{staticClass:"drawer-item",on:{click:t.openSubtitleSettings}},[t._m(4),t._v(" "),e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("زیرنویس")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v(t._s(t.getSubtitleLabel()))])]),t._v(" "),t._m(5)]):t._e(),t._v(" "),e("div",{staticClass:"drawer-item",on:{click:t.openQualitySettings}},[t._m(6),t._v(" "),e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("کیفیت")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v(t._s(t.getQualityLabel()))])]),t._v(" "),t._m(7)]),t._v(" "),t.audioOptions&&t.audioOptions.length>0?e("div",{staticClass:"drawer-item",on:{click:t.openAudioSettings}},[t._m(8),t._v(" "),e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("صدا")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v("\n                "+t._s(t.getAudioLabelDisplay())+"\n              ")])]),t._v(" "),t._m(9)]):t._e()])]):t._e(),t._v(" "),"subtitle-style"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToSubtitleSettings}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("تنظیمات ظاهر زیرنویس")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body px-4"},[e("div",{staticClass:"subtitle-style-group"},[e("label",{staticClass:"subtitle-style-label"},[t._v("اندازه فونت")]),t._v(" "),e("div",{staticClass:"subtitle-style-options"},t._l(t.FONT_SIZES,function(r){return e("div",{key:r.value,staticClass:"subtitle-style-option",class:{active:t.subtitleStyle.fontSize===r.value},on:{click:function(e){return t.updateSubtitleStyle("fontSize",r.value)}}},[t._v("\n                "+t._s(r.label)+"\n              ")])}),0)]),t._v(" "),e("div",{staticClass:"subtitle-style-group"},[e("label",{staticClass:"subtitle-style-label"},[t._v("رنگ متن")]),t._v(" "),e("div",{staticClass:"subtitle-style-options"},t._l(t.TEXT_COLORS,function(r){return e("div",{key:r.value,staticClass:"subtitle-style-option color-option",class:Object(n.a)({active:t.subtitleStyle.color===r.value},r.class,!0),on:{click:function(e){return t.updateSubtitleStyle("color",r.value)}}},[e("div",{staticClass:"color-preview",style:{backgroundColor:r.value}}),t._v(" "),e("span",[t._v(t._s(r.label))])])}),0)]),t._v(" "),e("div",{staticClass:"subtitle-style-group"},[e("label",{staticClass:"subtitle-style-label"},[t._v("پس‌زمینه")]),t._v(" "),e("div",{staticClass:"subtitle-style-options"},t._l(t.BACKGROUND_OPACITIES,function(r){return e("div",{key:r.value,staticClass:"subtitle-style-option",class:{active:t.subtitleStyle.background===r.value},on:{click:function(e){return t.updateSubtitleStyle("background",r.value)}}},[e("div",{staticClass:"bg-preview",style:{opacity:r.value}}),t._v(" "),e("span",[t._v(t._s(r.label))])])}),0)]),t._v(" "),e("div",{staticClass:"subtitle-style-group"},[e("label",{staticClass:"subtitle-style-label"},[t._v("سایه متن")]),t._v(" "),e("div",{staticClass:"subtitle-style-options"},t._l(t.TEXT_SHADOWS,function(shadow){return e("div",{key:shadow.value,staticClass:"subtitle-style-option",class:{active:t.subtitleStyle.shadow===shadow.value},on:{click:function(e){return t.updateSubtitleStyle("shadow",shadow.value)}}},[t._v("\n                "+t._s(shadow.label)+"\n              ")])}),0)]),t._v(" "),e("div",{staticClass:"subtitle-style-actions"},[e("button",{staticClass:"reset-default-btn",on:{click:t.resetSubtitleStyles}},[t._v("\n              بازنشانی به پیش‌فرض\n            ")])])])]):t._e(),t._v(" "),"speed"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToMain}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("سرعت پخش")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body"},t._l(t.PLAYBACK_RATES,function(r){return e("div",{key:r.value,staticClass:"drawer-option",class:{active:t.isSpeedActive(r.value)},on:{click:function(e){return t.selectSpeed(r.value)}}},[e("div",{staticClass:"drawer-option-radio"},[t.isSpeedActive(r.value)?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v(t._s(r.label))])])}),0)]):t._e(),t._v(" "),"subtitle"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToMain}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("زیرنویس")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body"},[e("div",{staticClass:"drawer-option",class:{active:null===t.currentSubtitle},on:{click:function(e){return t.selectSubtitle(null)}}},[e("div",{staticClass:"drawer-option-radio"},[null===t.currentSubtitle?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v("خاموش")])]),t._v(" "),t._l(t.getSubtitleTracks(),function(track,r){return e("div",{key:r,staticClass:"drawer-option",class:{active:t.currentSubtitle===r},on:{click:function(e){return t.selectSubtitle(r)}}},[e("div",{staticClass:"drawer-option-radio"},[t.currentSubtitle===r?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v(t._s(track.label))])])}),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-item",on:{click:t.openSubtitleStyleSettings}},[t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12)])],2)]):t._e(),t._v(" "),"audio"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToMain}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("صدا")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body"},[e("div",{staticClass:"drawer-option",class:{active:null===t.currentAudioLang},on:{click:function(e){return t.selectAudio(null)}}},[e("div",{staticClass:"drawer-option-radio"},[null===t.currentAudioLang?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v("پیش‌فرض")])]),t._v(" "),t._l(t.audioOptions,function(r){return e("div",{key:r.lang,staticClass:"drawer-option",class:{active:t.currentAudioLang===r.lang},on:{click:function(e){return t.selectAudio(r.lang)}}},[e("div",{staticClass:"drawer-option-radio"},[t.currentAudioLang===r.lang?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v(t._s(r.label))])])})],2)]):t._e(),t._v(" "),"quality"===t.settingsDrawerView?e("div",{staticClass:"drawer-content"},[e("div",{staticClass:"drawer-header with-back"},[e("button",{staticClass:"back-button",on:{click:t.backToMain}},[e("i",{staticClass:"fa fa-chevron-right"})]),t._v(" "),e("h3",[t._v("کیفیت")])]),t._v(" "),e("div",{staticClass:"drawer-divider"}),t._v(" "),e("div",{staticClass:"drawer-body"},t._l(t.getAvailableQualities(),function(r){return e("div",{key:r.value,staticClass:"drawer-option",class:{active:t.isQualityActive(r.value)},on:{click:function(e){return t.selectQuality(r.value)}}},[e("div",{staticClass:"drawer-option-radio"},[t.isQualityActive(r.value)?e("div",{staticClass:"radio-checked"}):t._e()]),t._v(" "),e("div",{staticClass:"drawer-option-label"},[t._v(t._s(r.label))])])}),0)]):t._e()])]):t._e()],1)},[function(){var t=this._self._c;return t("span",{staticClass:"skip-icon"},[t("i",{staticClass:"fa fa-forward"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-header"},[t("h3",[this._v("تنظیمات")])])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-clock"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-closed-captioning"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-video"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-headphones"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-icon"},[t("i",{staticClass:"fa fa-cog"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"drawer-item-info"},[e("div",{staticClass:"drawer-item-title"},[t._v("تنظیمات زیرنویس")]),t._v(" "),e("div",{staticClass:"drawer-item-value"},[t._v("سایز، رنگ، پس‌زمینه")])])},function(){var t=this._self._c;return t("div",{staticClass:"drawer-item-arrow"},[t("i",{staticClass:"fa fa-chevron-left"})])}],!1,null,"5edb4c8d",null);e.default=component.exports},921:function(t,e,r){var content=r(966);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("1b61bba0",content,!0,{sourceMap:!1})},965:function(t,e,r){"use strict";r(921)},966:function(t,e,r){var n=r(56)(function(i){return i[1]});n.push([t.i,".subscription-floating-button[data-v-5e5fcf10]{align-items:center;background:linear-gradient(135deg,#1b6be5,#0d4fa3);border:none;border-radius:8px;bottom:113px;box-shadow:0 4px 12px rgba(27,107,229,.4);color:#fff;cursor:pointer;display:flex;font-size:14px;font-weight:600;gap:8px;padding:12px 20px;position:absolute;right:20px;transition:all .3s ease;white-space:nowrap;z-index:1000}.subscription-floating-button[data-v-5e5fcf10]:hover{background:linear-gradient(135deg,#2575ed,#1558b8);box-shadow:0 6px 16px rgba(27,107,229,.6);transform:translateY(-2px)}.subscription-floating-button[data-v-5e5fcf10]:active{transform:translateY(0)}.subscription-floating-button i[data-v-5e5fcf10]{font-size:16px}.button-text[data-v-5e5fcf10]{align-items:end;display:flex;flex-direction:column;line-height:1.3}.half-price-label[data-v-5e5fcf10]{font-size:11px;font-weight:500;margin-top:2px;opacity:.9}.fade-enter-active[data-v-5e5fcf10],.fade-leave-active[data-v-5e5fcf10]{transition:opacity .5s ease}.fade-enter[data-v-5e5fcf10],.fade-leave-to[data-v-5e5fcf10]{opacity:0}@media (max-width:767.98px){.subscription-floating-button[data-v-5e5fcf10]{bottom:70px;font-size:13px;padding:10px 16px;right:12px}.subscription-floating-button i[data-v-5e5fcf10]{font-size:14px}.half-price-label[data-v-5e5fcf10]{font-size:10px}}@media (max-width:575.98px){.subscription-floating-button[data-v-5e5fcf10]{bottom:60px;font-size:12px;gap:6px;padding:8px 14px;right:10px}.subscription-floating-button i[data-v-5e5fcf10]{font-size:13px}.button-text[data-v-5e5fcf10]{font-size:12px}.half-price-label[data-v-5e5fcf10]{font-size:9px}}::backdrop .subscription-floating-button[data-v-5e5fcf10],:fullscreen .subscription-floating-button[data-v-5e5fcf10]{bottom:100px;right:30px}",""]),n.locals={},t.exports=n},995:function(t,e,r){var content=r(1089);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(57).default)("7f282b48",content,!0,{sourceMap:!1})}}]);