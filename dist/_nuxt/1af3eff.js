(window.webpackJsonp=window.webpackJsonp||[]).push([[9,76,77,78],{706:function(t,e,n){t.exports={}},707:function(t,e,n){t.exports={}},716:function(t,e,n){t.exports={}},717:function(t,e,n){t.exports={}},727:function(t,e,n){t.exports={}},746:function(t,e,n){"use strict";n(706)},747:function(t,e,n){"use strict";n(707)},751:function(t,e,n){"use strict";n.r(e);n(67);var o={name:"EpisodeInfo",props:{episode:{type:Object,default:function(){return{}}},variant:{type:String,default:"desktop",validator:function(t){return["desktop","mobile"].includes(t)}}},computed:{episodeInfoClasses:function(){var t="text-invert mb-1 mb-md-3 font-weight-normal title-item-episode";return"mobile"===this.variant?"".concat(t," p-fs-small title title2 d-lg-none"):"".concat(t," p-fs-small d-none d-lg-block ")},isValidEpisode:function(){return this.episode&&void 0!==this.episode.season_number&&void 0!==this.episode.episode_number}}},r=(n(746),n(28)),component=Object(r.a)(o,function(){var t=this,e=t._self._c;return t.isValidEpisode?e("div",{class:t.episodeInfoClasses},[t._v("\n  "+t._s(t.$t("show.season"))+t._s(t.episode.season_number)+" -\n  "+t._s(t.$t("show.episode"))+" "+t._s(t.episode.episode_number)+"\n")]):t._e()},[],!1,null,"b0c14b14",null);e.default=component.exports},752:function(t,e,n){"use strict";n.r(e);var o={name:"GenreTags",props:{genres:{type:Object,default:function(){return{}}}}},r=(n(747),n(28)),component=Object(r.a)(o,function(){var t=this,e=t._self._c;return e("div",{staticClass:"genre-tags"},t._l(t.genres,function(n,o){return e("nuxt-link",{key:o,staticClass:"tag",attrs:{to:{name:"lists-list",params:{list:o}}}},[t._v("\n    "+t._s(n)+"\n  ")])}),1)},[],!1,null,"a89b467e",null);e.default=component.exports},761:function(t,e,n){"use strict";n(716)},762:function(t,e,n){"use strict";n(717)},769:function(t,e,n){"use strict";n.r(e);n(40);var o=n(751),r=n(752),l={name:"ShowcaseDescription",components:{EpisodeInfo:o.default,GenreTags:r.default},props:{data:{type:Object,default:function(){return{}}},type:{type:String,default:""},episode:{type:Object,default:function(){return{}}}},methods:{ChooseLang:function(t,e){return e&&"fa"===this.$i18n.locale?e:t}}},c=(n(761),n(28)),component=Object(c.a)(l,function(){var t=this,e=t._self._c;return e("div",{staticClass:"showcase-desc"},[e("div",{staticClass:"showcase-top"},[t.data&&t.data.item&&!t.data.item.logo?["episode"!==t.type?e("div",{staticClass:"title text-invert mb-5 mb-md-3 title-item"},[e("nuxt-link",{attrs:{to:{name:t.type+"-id",params:{id:t.data.item.id}}}},[t._v("\n          "+t._s(t.ChooseLang(t.data.item.name,t.data.item.name_fa))+"\n        ")])],1):e("div",{staticClass:"title text-invert mb-5 mb-md-3 title-item"},[e("nuxt-link",{attrs:{to:{name:t.type+"-id",params:{id:t.data.item.id}}}},[t._v("\n          "+t._s(t.ChooseLang(t.data.item.series_name,t.data.item.series_name_fa))+"\n        ")])],1)]:t._e(),t._v(" "),"episode"===t.type?e("EpisodeInfo",{attrs:{episode:t.episode,variant:"mobile"}}):t._e()],2),t._v(" "),e("div",{staticClass:"showcase-bottom"},["episode"===t.type?e("EpisodeInfo",{attrs:{episode:t.episode,variant:"desktop"}}):t._e(),t._v(" "),"episode"!==t.type?e("div",{staticClass:"text-invert mb-1 mb-md-3"},[e("GenreTags",{attrs:{genres:t.data.item.new_genres}})],1):t._e()],1)])},[],!1,null,"eabdc03c",null);e.default=component.exports},770:function(t,e,n){"use strict";n.r(e);n(13),n(67),n(44),n(134),n(18),n(11),n(94);var o={name:"ShowcaseActions",components:{IconActions:n(750).default},props:{hasMainButton:{type:Boolean,default:!1},hasDownloadButton:{type:Boolean,default:!1},mainButtonLabel:{type:String,default:""},mainButtonAction:{type:String,default:""},downloadButtonLabel:{type:String,default:""},clapinterval:{type:[Boolean,Number],default:0},userClaps:{type:[Number,String],default:0},isWatchlist:{type:[Number,Boolean],default:0},episode:{type:Object,default:function(){return{}}},actions:{type:Object,default:function(){return{}}},id:{type:[Number,String],default:null},type:{type:String,default:""}},emits:["play","buy","subscription","download","toggle-watchlist","clap-start","clap-stop","share"],data:function(){return{cartItemIds:[],cartStorageListener:null}},computed:{isBasketActive:function(){var t;if(!this.$store)return!0;var e=null===(t=this.$store.state)||void 0===t?void 0:t.basketActive;return void 0===e||Boolean(e)},mainButtonDisplayLabel:function(){var t;if(null===(t=this.actions)||void 0===t||null===(t=t.mainButton)||void 0===t||!t.label)return this.mainButtonLabel;var e=this.actions.mainButton.label;return this.ChooseLang(e.en,e.fa)},showEpisodeNumber:function(){var t;return"play"===this.mainButtonAction&&(null===(t=this.episode)||void 0===t?void 0:t.id)},cartTargetId:function(){var t;if(!this.isBasketActive)return null;if("buy"!==this.mainButtonAction)return null;var e=null!==(t=this.episode&&null!=this.episode.id?this.episode.id:null)&&void 0!==t?t:this.id;return null!=e?String(e):null},shouldShowRemoveButton:function(){return!!this.cartTargetId&&this.cartItemIds.includes(this.cartTargetId)},mainButtonIcon:function(){return"play"===this.mainButtonAction?"fa fa-play pr-2":"subscription"===this.mainButtonAction?"fa fa-id-card pr-2":"buy"===this.mainButtonAction?"fa fa-shopping-cart pr-2":"fa fa-play pr-2"},removeButtonLabel:function(){return"function"==typeof this.$te&&this.$te("cart.remove")?this.$t("cart.remove"):"حذف از سبد"}},watch:{isBasketActive:{immediate:!0,handler:function(t){t?(this.syncCartItems(),this.attachCartListener()):(this.cartItemIds=[],this.detachCartListener())}}},mounted:function(){this.isBasketActive&&(this.syncCartItems(),this.attachCartListener())},beforeDestroy:function(){this.detachCartListener()},methods:{handleMainAction:function(){var t=this.mainButtonAction;"play"===t?this.$emit("play"):"buy"===t?this.$emit("buy"):"subscription"===t&&this.$emit("subscription")},handleDownload:function(){this.$emit("download")},syncCartItems:function(){if(this.isBasketActive)try{var t=localStorage.getItem("_cart");if(!t)return void(this.cartItemIds=[]);var e=JSON.parse(t);this.updateCartState(e)}catch(t){console.error("Failed to sync cart items:",t)}else this.cartItemIds=[]},updateCartState:function(t){t&&Array.isArray(t.content)?this.cartItemIds=t.content.map(function(t){return t&&null!=t.id?String(t.id):null}).filter(function(t){return null!==t}):this.cartItemIds=[]},removeFromCart:function(){var t=this;if(this.cartTargetId)try{var e=localStorage.getItem("_cart"),n=e?JSON.parse(e):{content:[],amount:0};Array.isArray(n.content)||(n.content=[]),n.content=n.content.filter(function(e){return String(null==e?void 0:e.id)!==t.cartTargetId}),n.amount=n.content.reduce(function(t,e){return t+(e.tvod_price||0)},0),localStorage.setItem("_cart",JSON.stringify(n)),this.updateCartState(n),this.emitCartChange()}catch(t){console.error("Failed to remove item from cart:",t)}},emitCartChange:function(){try{var t=new StorageEvent("storage",{key:"_cart"});window.dispatchEvent(t)}catch(t){window.dispatchEvent(new Event("storage"))}this.$root.$emit("cart-updated")},attachCartListener:function(){var t=this;this.cartStorageListener||(this.cartStorageListener=function(){return t.syncCartItems()},window.addEventListener("storage",this.cartStorageListener))},detachCartListener:function(){this.cartStorageListener&&(window.removeEventListener("storage",this.cartStorageListener),this.cartStorageListener=null)},ChooseLang:function(t,e){return e&&"fa"===this.$i18n.locale?e:t},onToggleWatchlist:function(){this.$emit("toggle-watchlist",{id:this.id,type:this.type})}}},r=(n(762),n(28)),component=Object(r.a)(o,function(){var t=this,e=t._self._c;return e("div",{staticClass:"showcase-button-wrapper",attrs:{id:"showcase-button-wrapper"}},[t.shouldShowRemoveButton?e("button",{staticClass:"btn btn-danger mr-1 ml-0 btn-main-section btn-remove",on:{click:t.removeFromCart}},[e("span",{staticClass:"smallsrm"},[e("i",{staticClass:"fa fa-trash pr-2"}),t._v(" "),e("span",[t._v(t._s(t.removeButtonLabel))])])]):t.actions&&t.actions.mainButton.exist?e("button",{staticClass:"btn btn-main mr-1 ml-0 btn-main-section",on:{click:t.handleMainAction}},[e("span",{staticClass:"smallsrm"},[e("i",{class:t.mainButtonIcon}),t._v(" "),e("span",[t._v("\n        "+t._s(t.mainButtonDisplayLabel)+"\n        "),t.showEpisodeNumber?e("span",[e("span",{staticClass:"ml-1"},[t._v(t._s(t.$t("show.episode")))]),t._v("\n          "+t._s(t.episode.episode_number)+"\n        ")]):t._e()])])]):t._e(),t._v(" "),!t.shouldShowRemoveButton&&t.actions&&t.actions.downloadButton.exist?e("button",{staticClass:"btn btn-dark btn-download mr-1 ml-0 btn-main-section",on:{click:t.handleDownload}},[e("span",{staticClass:"smallsrm"},[e("i",{staticClass:"fa fa-download pr-2"}),t._v(" "),e("span",[t._v(t._s(t.downloadButtonLabel))])])]):t._e(),t._v(" "),t.actions&&(t.hasMainButton||t.hasDownloadButton)?t._e():e("button",{staticClass:"btn btn-main mr-1 ml-0"},[e("span",{staticClass:"smallsrm"},[e("b-spinner",{attrs:{small:""}})],1)]),t._v(" "),e("IconActions",{staticClass:"ml-1",attrs:{variant:"desktop","clap-active":Boolean(t.clapinterval),"user-claps":t.userClaps,"is-watchlist":t.isWatchlist},on:{"clap-start":function(e){return t.$emit("clap-start")},"clap-stop":function(e){return t.$emit("clap-stop")},share:function(e){return t.$emit("share")},"toggle-watchlist":t.onToggleWatchlist}})],1)},[],!1,null,"f7110d1c",null);e.default=component.exports},777:function(t,e,n){"use strict";n(727)},794:function(t,e,n){"use strict";n.r(e);n(40),n(134),n(101);var o=n(769),r=n(770),l={name:"ShowcaseContent",components:{ShowcaseDescription:o.default,ShowcaseActions:r.default},props:{data:{type:Object,default:function(){return{}}},type:{type:String,default:""},episode:{type:Object,default:function(){return{}}},hasDownloadButton:{type:Boolean,default:!1},hasMainButton:{type:Boolean,default:!1},mainButtonLabel:{type:String,default:""},mainButtonAction:{type:String,default:""},downloadButtonLabel:{type:String,default:""},clapinterval:{type:[Boolean,Number],default:0},userClaps:{type:[Number,String],default:0},isWatchlist:{type:[Number,Boolean],default:0},totalClaps:{type:[Number,String],default:0},actions:{type:Object,default:function(){return{}}},isLoadingStats:{type:Boolean,default:!1}},emits:["play","buy","subscription","download","toggle-watchlist","clap-start","clap-stop","share"],computed:{logoSrc:function(){var t="https://thumb.upera.shop/thumb?w=400&q=90&fmt=webp&src=https://thumb.upera.shop/s3/files/",e=this.data&&this.data.item&&this.data.item.logo?String(this.data.item.logo):"";return e?e.startsWith(t)?e:t+e:e},imdbRate:function(){var t=this.episode&&void 0!==this.episode.rate?this.episode.rate:this.data&&this.data.item&&this.data.item.rate||"-";return null===t||""===t?"-":String(t)},watchTime:function(){var t=this.data&&this.data.item&&this.data.item.exact_runtime?this.data.item.exact_runtime:this.data&&this.data.item&&this.data.item.runtime?this.data.item.runtime:"",e=this.episode&&void 0!==this.episode.exact_runtime?this.episode.exact_runtime:this.data&&this.data.item&&this.data.item.exact_runtime||"";return t&&"movie"==this.type?"".concat(t," دقیقه"):e&&"movie"!==this.type?"".concat(e," دقیقه"):"-"},likes:function(){var t=this.totalClaps||this.userClaps;if(t)return String(t);var e=this.episode&&void 0!==this.episode.traffic?this.episode.traffic:this.data&&this.data.item&&this.data.item.traffic||0;return String(e||0)},createdDate:function(){var t=this.episode&&this.episode.year||this.data&&this.data.item&&this.data.item.year||"";return t?String(t):"-"}},methods:{itemsize:function(t){var e=window.innerWidth,n=25;e<=357?n=10:e<=375&&(n=12);var o=document.getElementById("showcase-thumbnail-wrapper-outter"),r=document.getElementById("showcase-button-wrapper"),l=document.querySelector(".showcase-bottom");if(!l||!o||!r)return t;if(l.style.removeProperty("height"),l.style.removeProperty("padding-top"),e<=767.98){var c=o.offsetHeight-r.offsetHeight-n;if(l.style.height="".concat(c,"px"),!this.hasDownloadButton){var d=this.data.item.ir?.5:1/3;l.style.paddingTop="".concat(c*d,"px")}}return t}}},c=(n(777),n(28)),component=Object(c.a)(l,function(){var t=this,e=t._self._c;return e("div",{staticClass:"showcase-thumbnail-wrapper-outter d-flex align-items-center justify-content-between",attrs:{id:"showcase-thumbnail-wrapper-outter"}},[e("div",{staticClass:"showcase-thumbnail-wrapper w-full container-fluid"},[e("div",{staticClass:"d-flex h-full align-items-end d-flex align-items-center justify-content-start"},[e("div",{staticClass:"showcase-desc-wrapper h-full",class:["series"===t.type&&t.data.item.logo?"mb-4":"mb-2 mb-md-0"]},[t.data&&t.data.item&&t.data.item.logo?e("div",{staticClass:"showcase-logo mb-2 mb-md-4"},[e("b-img",t._b({directives:[{name:"lazy-load",rawName:"v-lazy-load"}],attrs:{"data-src":t.logoSrc,alt:t.data.item.name}},"b-img",{fluidGrow:!0,blank:!0,blankColor:"#bbb",show:!0},!1))],1):t._e(),t._v(" "),e("ShowcaseDescription",{attrs:{data:t.data,type:t.type,episode:t.episode}}),t._v(" "),e("div",{staticClass:"showcase-stats-wrapper d-flex align-items-center my-2"},[t.isLoadingStats?e("div",{staticClass:"skeleton-stats-loading"}):e("div",{staticClass:"showcase-stats",attrs:{role:"group","aria-label":"episode-stats"}},[e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-icon",attrs:{"aria-hidden":"true"}},[e("img",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],staticClass:"img-imdb",attrs:{"data-src":n(444)}})]),t._v(" "),e("div",{staticClass:"stat-body"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.imdbRate))])])]),t._v(" "),e("div",{staticClass:"stat-item"},[t._m(0),t._v(" "),e("div",{staticClass:"stat-body"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.watchTime))])])]),t._v(" "),e("div",{staticClass:"stat-item"},[t._m(1),t._v(" "),e("div",{staticClass:"stat-body"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.likes))])])]),t._v(" "),e("div",{staticClass:"stat-item"},[t._m(2),t._v(" "),e("div",{staticClass:"stat-body"},[e("div",{staticClass:"stat-value"},[t._v(t._s(t.createdDate))])])])])]),t._v(" "),e("ShowcaseActions",{attrs:{id:t.data.item.id,"has-main-button":t.hasMainButton,"has-download-button":t.hasDownloadButton,"main-button-label":t.mainButtonLabel,"main-button-action":t.mainButtonAction,"download-button-label":t.downloadButtonLabel,clapinterval:t.clapinterval,"user-claps":t.userClaps,"is-watchlist":t.isWatchlist,episode:t.episode,actions:t.actions,type:t.type},on:{play:function(e){return t.$emit("play")},buy:function(e){return t.$emit("buy")},subscription:function(e){return t.$emit("subscription")},download:function(e){return t.$emit("download")},"toggle-watchlist":function(e){return t.$emit("toggle-watchlist",e)},"clap-start":function(e){return t.$emit("clap-start")},"clap-stop":function(e){return t.$emit("clap-stop")},share:function(e){return t.$emit("share")}}})],1)])])])},[function(){var t=this._self._c;return t("div",{staticClass:"stat-icon",attrs:{"aria-hidden":"true"}},[t("i",{staticClass:"fas fa-clock",attrs:{"aria-hidden":"true"}})])},function(){var t=this._self._c;return t("div",{staticClass:"stat-icon",attrs:{"aria-hidden":"true"}},[t("i",{staticClass:"icon-clap",attrs:{"aria-hidden":"true"}})])},function(){var t=this._self._c;return t("div",{staticClass:"stat-icon",attrs:{"aria-hidden":"true"}},[t("i",{staticClass:"fas fa-calendar-alt",attrs:{"aria-hidden":"true"}})])}],!1,null,"0e2dd307",null);e.default=component.exports}}]);