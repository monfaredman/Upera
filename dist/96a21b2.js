(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{1005:function(t,e,o){var content=o(1109);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(57).default)("4b1bc55c",content,!0,{sourceMap:!1})},1108:function(t,e,o){"use strict";o(1005)},1109:function(t,e,o){var n=o(56)(function(i){return i[1]});n.push([t.i,"[data-v-c2b02fc0] .full-screen-player.vjs-fluid{overflow:hidden!important}.hamshahri[data-v-c2b02fc0]{background-color:transparent!important;background-color:initial!important}.back-button[data-v-c2b02fc0]{background:rgba(0,0,0,.6);border:none;border-radius:8px;color:#fff;cursor:pointer;font-size:18px;left:20px;padding:10px 20px;position:absolute;top:20px;z-index:10}.back-button[data-v-c2b02fc0]:hover{background:rgba(0,0,0,.8)}.loading[data-v-c2b02fc0]{align-items:center;color:#fff;display:flex;flex-direction:column;font-size:20px;font-weight:700;justify-content:center}.loading svg[data-v-c2b02fc0]{animation:spin 1s linear infinite;height:50px;margin-top:10px;width:50px}.soon[data-v-c2b02fc0]{color:#fff;font-size:22px;font-weight:700;margin-top:20px;text-align:center}.refresh-btn[data-v-c2b02fc0]{cursor:pointer;font-size:16px;margin-top:10px}",""]),n.locals={},t.exports=n},1177:function(t,e,o){"use strict";o.r(e);var n=o(23),r=(o(60),o(34),o(11),{components:{VideoPlayer:o(764).default},layout:"empty",data:function(){return{movieTitle:"",posterUrl:"",videoUrl:"",loading:!0,soon:!1,intervalId:null}},watch:{"$route.params.id":{immediate:!0,handler:function(){this.loadVideo()}}},methods:{loadVideo:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var o,n,r,c,data,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=t.$route.params.id){e.next=1;break}return console.log("No ID found in route params"),e.abrupt("return");case 1:return n=t.$cookiz.get("ref")||"",r="/ghost/get/watch/live/".concat(o).concat(n?"?ref=".concat(n):""),e.next=2,t.$axios.get(r);case 2:if(200!==(c=e.sent).status){e.next=4;break}return data=c.data.data,t.movieTitle=data.title||"پخش زنده",t.posterUrl=data.poster||"",l=data.video.video,e.next=3,fetch(l,{method:"HEAD"});case 3:e.sent.ok?(t.videoUrl=l,t.soon=!1):t.soon=!0,e.next=5;break;case 4:t.soon=!0;case 5:t.loading=!1,e.next=7;break;case 6:e.prev=6,e.catch(0),t.loading=!1,t.soon=!0;case 7:case"end":return e.stop()}},e,null,[[0,6]])}))()},reloadPage:function(){location.reload()},goBack:function(){window.history.length>2?this.$router.go(-1):this.$router.push({name:"index"})}}}),c=(o(1108),o(28)),component=Object(c.a)(r,function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-container"},[e("div",{staticClass:"hamshahri"},[e("a",{staticClass:"srmjs",on:{click:t.goBack}},[t._m(0)]),t._v(" "),t.loading?e("div",{staticClass:"video-loading-spinner"}):t._e(),t._v(" "),t.soon?e("p",{staticClass:"soon"},[t._v("به زودی...")]):t._e(),t._v(" "),t.soon?e("button",{staticClass:"btn btn-primary btn-lg fw-bold refresh-btn",on:{click:t.reloadPage}},[t._v("\n      بارگذاری مجدد\n    ")]):t._e()]),t._v(" "),e("div",{staticClass:"player-wrapper"},[t.videoUrl&&!t.soon?e("VideoPlayer",{directives:[{name:"lazy-load",rawName:"v-lazy-load"}],ref:"live",staticClass:"full-screen-player vjs-fluid",attrs:{playerid:"live",stream:t.videoUrl,title:t.movieTitle,"data-poster":t.posterUrl,"player-auto-play":!0,"show-auto-play-toggle":!1}}):t._e()],1)])},[function(){var t=this._self._c;return t("div",{attrs:{id:"flowplayer-back-button"}},[t("div",{staticClass:"icon-back"})])}],!1,null,"c2b02fc0",null);e.default=component.exports;installComponents(component,{VideoPlayer:o(764).default})}}]);